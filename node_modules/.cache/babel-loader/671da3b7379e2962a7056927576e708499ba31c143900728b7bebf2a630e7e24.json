{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\app\\\\src\\\\pages\\\\CashBook.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Plus, Search, Trash2, Eye, Download, ArrowRight, X, FileText } from 'lucide-react';\nimport * as XLSX from 'xlsx';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst removeVietnameseTones = str => {\n  return str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').replace(/đ/g, 'd').replace(/Đ/g, 'D');\n};\nfunction CashBook() {\n  _s();\n  const loadAccounts = () => {\n    const saved = localStorage.getItem('cash_accounts');\n    if (saved) return JSON.parse(saved);\n    return [{\n      id: 1,\n      ten: 'Quỹ tiền mặt',\n      loai: 'tien_mat',\n      so_du: 0,\n      trang_thai: 'active',\n      ghi_chu: '',\n      ngay_tao: new Date().toISOString()\n    }];\n  };\n  const loadTransactions = () => {\n    const saved = localStorage.getItem('cash_transactions');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadBankAccounts = () => {\n    const saved = localStorage.getItem('bank_accounts');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadTransactionCategories = () => {\n    const saved = localStorage.getItem('transaction_categories');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadSuppliers = () => {\n    const saved = localStorage.getItem('suppliers');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadCustomers = () => {\n    const saved = localStorage.getItem('customers');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadEmployees = () => {\n    const saved = localStorage.getItem('employees_v2');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const [accounts, setAccounts] = useState(loadAccounts);\n  const [transactions, setTransactions] = useState(loadTransactions);\n  const [bankAccounts] = useState(loadBankAccounts);\n  const [categories] = useState(loadTransactionCategories);\n  const [suppliers] = useState(loadSuppliers);\n  const [customers] = useState(loadCustomers);\n  const [employees] = useState(loadEmployees);\n  const [viewMode, setViewMode] = useState('transactions');\n  const [selectedAccount, setSelectedAccount] = useState(null);\n  const [filterMonth, setFilterMonth] = useState(new Date().toISOString().slice(0, 7));\n  const [filterType, setFilterType] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showAccountModal, setShowAccountModal] = useState(false);\n  const [showReceiptModal, setShowReceiptModal] = useState(false);\n  const [accountForm, setAccountForm] = useState({\n    ten: '',\n    loai: 'tien_mat',\n    so_du: 0,\n    ghi_chu: ''\n  });\n  const [transactionForm, setTransactionForm] = useState({\n    loai: 'chi',\n    source_type: 'cash',\n    source_id: '',\n    target_id: '',\n    ngay: new Date().toISOString().slice(0, 10),\n    so_tien: '',\n    // Đối tượng\n    doi_tuong_loai: 'khong',\n    doi_tuong_id: '',\n    doi_tuong_ten: '',\n    // Danh mục\n    danh_muc_id: '',\n    // Thanh toán theo phiếu\n    thanh_toan_theo_phieu: false,\n    chi_tiet_phieu: [],\n    ly_do: '',\n    ghi_chu: ''\n  });\n  const [receiptForm, setReceiptForm] = useState({\n    loai_phieu: 'hoa_don',\n    so_phieu: '',\n    ngay_phieu: new Date().toISOString().slice(0, 10),\n    so_tien: '',\n    ghi_chu: ''\n  });\n  useEffect(() => {\n    localStorage.setItem('cash_accounts', JSON.stringify(accounts));\n  }, [accounts]);\n  useEffect(() => {\n    localStorage.setItem('cash_transactions', JSON.stringify(transactions));\n  }, [transactions]);\n  const handleAddAccount = () => {\n    if (!accountForm.ten.trim()) {\n      alert('Vui lòng nhập tên tài khoản!');\n      return;\n    }\n    const newAccount = {\n      id: Date.now(),\n      ten: accountForm.ten.trim(),\n      loai: accountForm.loai,\n      so_du: parseFloat(accountForm.so_du) || 0,\n      trang_thai: 'active',\n      ghi_chu: accountForm.ghi_chu,\n      ngay_tao: new Date().toISOString()\n    };\n    setAccounts([...accounts, newAccount]);\n    setShowAccountModal(false);\n    setAccountForm({\n      ten: '',\n      loai: 'tien_mat',\n      so_du: 0,\n      ghi_chu: ''\n    });\n    alert('Đã thêm tài khoản!');\n  };\n  const handleAddReceipt = () => {\n    if (!receiptForm.so_phieu.trim() || !receiptForm.so_tien) {\n      alert('Vui lòng điền đầy đủ thông tin phiếu!');\n      return;\n    }\n    const newReceipt = {\n      loai_phieu: receiptForm.loai_phieu,\n      so_phieu: receiptForm.so_phieu.trim(),\n      ngay_phieu: receiptForm.ngay_phieu,\n      so_tien: parseFloat(receiptForm.so_tien),\n      ghi_chu: receiptForm.ghi_chu\n    };\n    setTransactionForm({\n      ...transactionForm,\n      chi_tiet_phieu: [...transactionForm.chi_tiet_phieu, newReceipt]\n    });\n    setShowReceiptModal(false);\n    setReceiptForm({\n      loai_phieu: 'hoa_don',\n      so_phieu: '',\n      ngay_phieu: new Date().toISOString().slice(0, 10),\n      so_tien: '',\n      ghi_chu: ''\n    });\n  };\n  const handleRemoveReceipt = index => {\n    const newReceipts = transactionForm.chi_tiet_phieu.filter((_, i) => i !== index);\n    setTransactionForm({\n      ...transactionForm,\n      chi_tiet_phieu: newReceipts\n    });\n  };\n  const handleAddTransaction = () => {\n    if (!transactionForm.source_id || !transactionForm.so_tien) {\n      alert('Vui lòng điền đầy đủ thông tin!');\n      return;\n    }\n    if (transactionForm.loai === 'chuyen' && !transactionForm.target_id) {\n      alert('Vui lòng chọn tài khoản đích!');\n      return;\n    }\n    if (transactionForm.doi_tuong_loai !== 'khong' && !transactionForm.doi_tuong_id) {\n      alert('Vui lòng chọn đối tượng!');\n      return;\n    }\n    if (!transactionForm.danh_muc_id) {\n      alert('Vui lòng chọn danh mục!');\n      return;\n    }\n    const amount = parseFloat(transactionForm.so_tien);\n    if (amount <= 0) {\n      alert('Số tiền phải lớn hơn 0!');\n      return;\n    }\n\n    // Validate receipts if enabled\n    if (transactionForm.thanh_toan_theo_phieu) {\n      if (transactionForm.chi_tiet_phieu.length === 0) {\n        alert('Vui lòng thêm ít nhất 1 phiếu!');\n        return;\n      }\n      const totalReceipt = transactionForm.chi_tiet_phieu.reduce((sum, r) => sum + r.so_tien, 0);\n      if (Math.abs(totalReceipt - amount) > 0.01) {\n        alert(`Tổng tiền phiếu (${totalReceipt.toLocaleString('vi-VN')}) không khớp với số tiền giao dịch (${amount.toLocaleString('vi-VN')})!`);\n        return;\n      }\n    }\n\n    // Check balance for chi/chuyen\n    if ((transactionForm.loai === 'chi' || transactionForm.loai === 'chuyen') && transactionForm.source_type === 'cash') {\n      const account = accounts.find(acc => acc.id === parseInt(transactionForm.source_id));\n      if (account && account.so_du < amount) {\n        alert(`Số dư không đủ!\\nSố dư: ${account.so_du.toLocaleString('vi-VN')} đ\\nCần: ${amount.toLocaleString('vi-VN')} đ`);\n        return;\n      }\n    }\n\n    // Get object name\n    let doi_tuong_ten = transactionForm.doi_tuong_ten;\n    if (transactionForm.doi_tuong_loai !== 'khong' && transactionForm.doi_tuong_id) {\n      if (transactionForm.doi_tuong_loai === 'nha_cung_cap') {\n        const supplier = suppliers.find(s => s.id === parseInt(transactionForm.doi_tuong_id));\n        doi_tuong_ten = supplier ? `${supplier.code} - ${supplier.name}` : '';\n      } else if (transactionForm.doi_tuong_loai === 'khach_hang') {\n        const customer = customers.find(c => c.id === parseInt(transactionForm.doi_tuong_id));\n        doi_tuong_ten = customer ? `${customer.code} - ${customer.name}` : '';\n      } else if (transactionForm.doi_tuong_loai === 'nhan_vien') {\n        const emp = employees.find(e => e.id === parseInt(transactionForm.doi_tuong_id));\n        doi_tuong_ten = emp ? `${emp.code} - ${emp.name}` : '';\n      }\n    }\n\n    // Get category info\n    const category = categories.find(c => c.ma === transactionForm.danh_muc_id);\n    const newTransaction = {\n      id: Date.now(),\n      loai: transactionForm.loai,\n      source_type: transactionForm.source_type,\n      source_id: parseInt(transactionForm.source_id),\n      target_id: transactionForm.target_id ? parseInt(transactionForm.target_id) : null,\n      ngay: transactionForm.ngay,\n      so_tien: amount,\n      doi_tuong_loai: transactionForm.doi_tuong_loai,\n      doi_tuong_id: transactionForm.doi_tuong_id ? parseInt(transactionForm.doi_tuong_id) : null,\n      doi_tuong_ten: doi_tuong_ten,\n      danh_muc_id: transactionForm.danh_muc_id,\n      danh_muc_ten: category ? category.ten : '',\n      danh_muc_mau: category ? category.mau_sac : '#666',\n      thanh_toan_theo_phieu: transactionForm.thanh_toan_theo_phieu,\n      chi_tiet_phieu: transactionForm.thanh_toan_theo_phieu ? transactionForm.chi_tiet_phieu : [],\n      ly_do: transactionForm.ly_do,\n      ghi_chu: transactionForm.ghi_chu,\n      nguoi_tao: 'Admin',\n      ngay_tao: new Date().toISOString()\n    };\n\n    // Update balances\n    if (transactionForm.source_type === 'cash') {\n      const updatedAccounts = accounts.map(acc => {\n        if (acc.id === parseInt(transactionForm.source_id)) {\n          if (transactionForm.loai === 'thu') {\n            return {\n              ...acc,\n              so_du: acc.so_du + amount\n            };\n          } else {\n            return {\n              ...acc,\n              so_du: acc.so_du - amount\n            };\n          }\n        }\n        if (transactionForm.loai === 'chuyen' && acc.id === parseInt(transactionForm.target_id)) {\n          return {\n            ...acc,\n            so_du: acc.so_du + amount\n          };\n        }\n        return acc;\n      });\n      setAccounts(updatedAccounts);\n    }\n    setTransactions([...transactions, newTransaction]);\n    setShowAddModal(false);\n    setTransactionForm({\n      loai: 'chi',\n      source_type: 'cash',\n      source_id: '',\n      target_id: '',\n      ngay: new Date().toISOString().slice(0, 10),\n      so_tien: '',\n      doi_tuong_loai: 'khong',\n      doi_tuong_id: '',\n      doi_tuong_ten: '',\n      danh_muc_id: '',\n      thanh_toan_theo_phieu: false,\n      chi_tiet_phieu: [],\n      ly_do: '',\n      ghi_chu: ''\n    });\n    alert('Đã thêm giao dịch!');\n  };\n  const handleDeleteTransaction = transaction => {\n    if (!window.confirm('Xóa giao dịch này?')) return;\n\n    // Restore balance\n    if (transaction.source_type === 'cash') {\n      const updatedAccounts = accounts.map(acc => {\n        if (acc.id === transaction.source_id) {\n          if (transaction.loai === 'thu') {\n            return {\n              ...acc,\n              so_du: acc.so_du - transaction.so_tien\n            };\n          } else {\n            return {\n              ...acc,\n              so_du: acc.so_du + transaction.so_tien\n            };\n          }\n        }\n        if (transaction.loai === 'chuyen' && acc.id === transaction.target_id) {\n          return {\n            ...acc,\n            so_du: acc.so_du - transaction.so_tien\n          };\n        }\n        return acc;\n      });\n      setAccounts(updatedAccounts);\n    }\n    setTransactions(transactions.filter(t => t.id !== transaction.id));\n  };\n  const handleExportExcel = () => {\n    const filtered = getFilteredTransactions();\n    if (filtered.length === 0) {\n      alert('Không có dữ liệu để xuất!');\n      return;\n    }\n    const data = filtered.map(t => ({\n      'Ngày': new Date(t.ngay).toLocaleDateString('vi-VN'),\n      'Loại': t.loai === 'thu' ? 'Thu' : t.loai === 'chi' ? 'Chi' : 'Chuyển',\n      'Nguồn': getSourceName(t.source_type, t.source_id),\n      'Đối tượng': t.doi_tuong_ten || '-',\n      'Danh mục': t.danh_muc_ten,\n      'Lý do': t.ly_do,\n      'Số tiền': t.so_tien,\n      'Ghi chú': t.ghi_chu || ''\n    }));\n    const ws = XLSX.utils.json_to_sheet(data);\n    ws['!cols'] = [{\n      wch: 12\n    }, {\n      wch: 10\n    }, {\n      wch: 20\n    }, {\n      wch: 25\n    }, {\n      wch: 20\n    }, {\n      wch: 30\n    }, {\n      wch: 15\n    }, {\n      wch: 20\n    }];\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, `Thu chi ${filterMonth}`);\n    XLSX.writeFile(wb, `So-quy-${filterMonth}.xlsx`);\n  };\n  const getSourceName = (sourceType, sourceId) => {\n    if (sourceType === 'cash') {\n      const acc = accounts.find(a => a.id === sourceId);\n      return acc ? acc.ten : 'N/A';\n    } else {\n      const bank = bankAccounts.find(b => b.id === sourceId);\n      return bank ? `${bank.ma} (${bank.so_tk})` : 'N/A';\n    }\n  };\n  const getFilteredTransactions = () => {\n    return transactions.filter(t => {\n      if (!t.ngay.startsWith(filterMonth)) return false;\n      if (selectedAccount && t.source_type === 'cash' && t.source_id !== selectedAccount.id) return false;\n      if (filterType !== 'all' && t.loai !== filterType) return false;\n      if (!searchTerm) return true;\n      const searchLower = removeVietnameseTones(searchTerm.toLowerCase());\n      const searchableFields = [t.doi_tuong_ten || '', t.danh_muc_ten || '', t.ly_do || '', t.ghi_chu || '', getSourceName(t.source_type, t.source_id)];\n      return searchableFields.some(field => removeVietnameseTones(field.toLowerCase()).includes(searchLower));\n    }).sort((a, b) => new Date(b.ngay) - new Date(a.ngay));\n  };\n  const getSummary = () => {\n    const filtered = getFilteredTransactions();\n    const thu = filtered.filter(t => t.loai === 'thu').reduce((sum, t) => sum + t.so_tien, 0);\n    const chi = filtered.filter(t => t.loai === 'chi').reduce((sum, t) => sum + t.so_tien, 0);\n    return {\n      thu,\n      chi,\n      balance: thu - chi,\n      count: filtered.length\n    };\n  };\n  const cashSources = accounts.filter(acc => acc.trang_thai === 'active');\n  const bankSources = bankAccounts.filter(bank => bank.trang_thai === 'active');\n  const filteredTransactions = getFilteredTransactions();\n  const summary = getSummary();\n\n  // Get objects by type\n  const getObjects = type => {\n    if (type === 'nha_cung_cap') return suppliers;\n    if (type === 'khach_hang') return customers;\n    if (type === 'nhan_vien') return employees.filter(e => e.status !== 'Nghỉ việc');\n    return [];\n  };\n\n  // Get categories by transaction type\n  const getCategories = loai => {\n    if (loai === 'thu') return categories.filter(c => c.loai === 'thu');\n    if (loai === 'chi') return categories.filter(c => c.loai === 'chi');\n    return categories;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: \"S\\u1ED5 qu\\u1EF9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Qu\\u1EA3n l\\xFD thu chi & d\\xF2ng ti\\u1EC1n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleExportExcel,\n          className: \"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Download, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this), \"Xu\\u1EA5t Excel\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this), viewMode === 'accounts' && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAccountModal(true),\n          className: \"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 15\n          }, this), \"Th\\xEAm t\\xE0i kho\\u1EA3n\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this), viewMode === 'transactions' && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAddModal(true),\n          className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this), \"Th\\xEAm giao d\\u1ECBch\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-sm border\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-b\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setViewMode('transactions');\n              setSelectedAccount(null);\n            },\n            className: `px-6 py-3 font-medium ${viewMode === 'transactions' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-600 hover:text-gray-800'}`,\n            children: \"Giao d\\u1ECBch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setViewMode('accounts'),\n            className: `px-6 py-3 font-medium ${viewMode === 'accounts' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-600 hover:text-gray-800'}`,\n            children: \"T\\xE0i kho\\u1EA3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 9\n      }, this), viewMode === 'transactions' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-4 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"Th\\xE1ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"month\",\n              value: filterMonth,\n              onChange: e => setFilterMonth(e.target.value),\n              className: \"w-full px-4 py-2 border rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"Lo\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filterType,\n              onChange: e => setFilterType(e.target.value),\n              className: \"w-full px-4 py-2 border rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"T\\u1EA5t c\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"thu\",\n                children: \"Thu\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"chi\",\n                children: \"Chi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"chuyen\",\n                children: \"Chuy\\u1EC3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"T\\xE0i kho\\u1EA3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: (selectedAccount === null || selectedAccount === void 0 ? void 0 : selectedAccount.id) || '',\n              onChange: e => {\n                const acc = accounts.find(a => a.id === parseInt(e.target.value));\n                setSelectedAccount(acc || null);\n              },\n              className: \"w-full px-4 py-2 border rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"T\\u1EA5t c\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 19\n              }, this), cashSources.map(acc => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: acc.id,\n                children: acc.ten\n              }, acc.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"T\\xECm ki\\u1EBFm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                className: \"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: searchTerm,\n                onChange: e => setSearchTerm(e.target.value),\n                placeholder: \"\\u0110\\u1ED1i t\\u01B0\\u1EE3ng, l\\xFD do...\",\n                className: \"w-full pl-10 pr-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 13\n        }, this), filteredTransactions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-3 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-green-100 text-sm\",\n              children: \"T\\u1ED5ng thu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold mt-1\",\n              children: [(summary.thu / 1000000).toFixed(1), \"M\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 text-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-100 text-sm\",\n              children: \"T\\u1ED5ng chi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold mt-1\",\n              children: [(summary.chi / 1000000).toFixed(1), \"M\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `bg-gradient-to-br ${summary.balance >= 0 ? 'from-blue-500 to-blue-600' : 'from-orange-500 to-orange-600'} rounded-xl p-6 text-white`,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: `${summary.balance >= 0 ? 'text-blue-100' : 'text-orange-100'} text-sm`,\n              children: \"Ch\\xEAnh l\\u1EC7ch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold mt-1\",\n              children: [(summary.balance / 1000000).toFixed(1), \"M\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-50\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\",\n                  children: \"Ng\\xE0y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\",\n                  children: \"Lo\\u1EA1i\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\",\n                  children: \"Ngu\\u1ED3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 551,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\",\n                  children: \"\\u0110\\u1ED1i t\\u01B0\\u1EE3ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\",\n                  children: \"Danh m\\u1EE5c\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\",\n                  children: \"L\\xFD do\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 554,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase\",\n                  children: \"S\\u1ED1 ti\\u1EC1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 555,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase\",\n                  children: \"Thao t\\xE1c\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 556,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"divide-y\",\n              children: filteredTransactions.map(transaction => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-4 text-sm\",\n                  children: new Date(transaction.ngay).toLocaleDateString('vi-VN')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `px-2 py-1 rounded-full text-xs font-medium ${transaction.loai === 'thu' ? 'bg-green-100 text-green-800' : transaction.loai === 'chi' ? 'bg-red-100 text-red-800' : 'bg-blue-100 text-blue-800'}`,\n                    children: transaction.loai === 'thu' ? 'Thu' : transaction.loai === 'chi' ? 'Chi' : 'Chuyển'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 566,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 565,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-4 text-sm\",\n                  children: getSourceName(transaction.source_type, transaction.source_id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 576,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-4 text-sm\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium\",\n                      children: transaction.doi_tuong_ten || '-'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 581,\n                      columnNumber: 27\n                    }, this), transaction.thanh_toan_theo_phieu && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-blue-600 flex items-center gap-1 mt-1\",\n                      children: [/*#__PURE__*/_jsxDEV(FileText, {\n                        className: \"w-3 h-3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 584,\n                        columnNumber: 31\n                      }, this), transaction.chi_tiet_phieu.length, \" phi\\u1EBFu\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 583,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 580,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-4 text-sm\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-3 h-3 rounded\",\n                      style: {\n                        backgroundColor: transaction.danh_muc_mau\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 592,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: transaction.danh_muc_ten\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 596,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 591,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 590,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-4 text-sm text-gray-600\",\n                  children: transaction.ly_do\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 599,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-4 text-sm text-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `font-bold ${transaction.loai === 'thu' ? 'text-green-600' : 'text-red-600'}`,\n                    children: [transaction.loai === 'thu' ? '+' : '-', transaction.so_tien.toLocaleString('vi-VN'), \" \\u0111\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 601,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 600,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        if (transaction.thanh_toan_theo_phieu) {\n                          alert(`Chi tiết phiếu:\\n${transaction.chi_tiet_phieu.map(p => `- ${p.loai_phieu}: ${p.so_phieu} (${p.so_tien.toLocaleString('vi-VN')} đ)`).join('\\n')}`);\n                        }\n                      },\n                      className: \"p-2 text-blue-600 hover:bg-blue-50 rounded-lg\",\n                      title: \"Xem chi ti\\u1EBFt\",\n                      children: /*#__PURE__*/_jsxDEV(Eye, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 618,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 609,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleDeleteTransaction(transaction),\n                      className: \"p-2 text-red-600 hover:bg-red-50 rounded-lg\",\n                      title: \"X\\xF3a\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 625,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 620,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 608,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 23\n                }, this)]\n              }, transaction.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 13\n        }, this), filteredTransactions.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-12 text-gray-500\",\n          children: \"Kh\\xF4ng c\\xF3 giao d\\u1ECBch n\\xE0o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 11\n      }, this), viewMode === 'accounts' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid gap-4\",\n          children: accounts.map(account => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded-xl p-6 hover:shadow-md transition-shadow\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-start\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-bold\",\n                  children: account.ten\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 650,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600 mt-1\",\n                  children: account.ghi_chu || 'Không có ghi chú'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 651,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"S\\u1ED1 d\\u01B0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 654,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `text-2xl font-bold ${account.so_du >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                  children: [account.so_du.toLocaleString('vi-VN'), \" \\u0111\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 655,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 653,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 19\n            }, this)\n          }, account.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 642,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 641,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 7\n    }, this), showAccountModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full max-w-2xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold\",\n            children: \"Th\\xEAm t\\xE0i kho\\u1EA3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"T\\xEAn t\\xE0i kho\\u1EA3n *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: accountForm.ten,\n              onChange: e => setAccountForm({\n                ...accountForm,\n                ten: e.target.value\n              }),\n              placeholder: \"VD: Qu\\u1EF9 ti\\u1EC1n m\\u1EB7t c\\u1EEDa h\\xE0ng\",\n              className: \"w-full px-4 py-2 border rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Lo\\u1EA1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: accountForm.loai,\n                onChange: e => setAccountForm({\n                  ...accountForm,\n                  loai: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"tien_mat\",\n                  children: \"Ti\\u1EC1n m\\u1EB7t\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 693,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"quy\",\n                  children: \"Qu\\u1EF9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 694,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 688,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"S\\u1ED1 d\\u01B0 ban \\u0111\\u1EA7u\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: accountForm.so_du,\n                onChange: e => setAccountForm({\n                  ...accountForm,\n                  so_du: e.target.value\n                }),\n                placeholder: \"0\",\n                className: \"w-full px-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"Ghi ch\\xFA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 709,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: accountForm.ghi_chu,\n              onChange: e => setAccountForm({\n                ...accountForm,\n                ghi_chu: e.target.value\n              }),\n              placeholder: \"Ghi ch\\xFA v\\u1EC1 t\\xE0i kho\\u1EA3n...\",\n              className: \"w-full px-4 py-2 border rounded-lg\",\n              rows: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 708,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 674,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t px-6 py-4 flex justify-end gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowAccountModal(false);\n              setAccountForm({\n                ten: '',\n                loai: 'tien_mat',\n                so_du: 0,\n                ghi_chu: ''\n              });\n            },\n            className: \"px-4 py-2 border rounded-lg hover:bg-gray-50\",\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 720,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAddAccount,\n            className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",\n            children: \"Th\\xEAm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 729,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 719,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 670,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 669,\n      columnNumber: 9\n    }, this), showAddModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sticky top-0 bg-white border-b px-6 py-4 z-10\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold\",\n            children: \"Th\\xEAm giao d\\u1ECBch thu/chi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 744,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Lo\\u1EA1i giao d\\u1ECBch *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 751,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: transactionForm.loai,\n                onChange: e => setTransactionForm({\n                  ...transactionForm,\n                  loai: e.target.value,\n                  danh_muc_id: ''\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"thu\",\n                  children: \"Thu\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 757,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"chi\",\n                  children: \"Chi\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 758,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"chuyen\",\n                  children: \"Chuy\\u1EC3n kho\\u1EA3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 759,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 752,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 750,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Ng\\xE0y *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 763,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: transactionForm.ngay,\n                onChange: e => setTransactionForm({\n                  ...transactionForm,\n                  ngay: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 764,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 762,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 749,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: transactionForm.loai === 'chuyen' ? 'Từ tài khoản *' : 'Nguồn tiền *'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 775,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  id: \"trans-source-cash\",\n                  checked: transactionForm.source_type === 'cash',\n                  onChange: () => setTransactionForm({\n                    ...transactionForm,\n                    source_type: 'cash',\n                    source_id: ''\n                  }),\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 780,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"trans-source-cash\",\n                  className: \"text-sm font-medium\",\n                  children: \"Ti\\u1EC1n m\\u1EB7t / Qu\\u1EF9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 787,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 779,\n                columnNumber: 19\n              }, this), transactionForm.source_type === 'cash' && /*#__PURE__*/_jsxDEV(\"select\", {\n                value: transactionForm.source_id,\n                onChange: e => setTransactionForm({\n                  ...transactionForm,\n                  source_id: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg ml-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn t\\xE0i kho\\u1EA3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 795,\n                  columnNumber: 23\n                }, this), cashSources.map(acc => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: acc.id,\n                  children: [acc.ten, \" (\", acc.so_du.toLocaleString('vi-VN'), \" \\u0111)\"]\n                }, acc.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 797,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 790,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  id: \"trans-source-bank\",\n                  checked: transactionForm.source_type === 'bank',\n                  onChange: () => setTransactionForm({\n                    ...transactionForm,\n                    source_type: 'bank',\n                    source_id: ''\n                  }),\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 805,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"trans-source-bank\",\n                  className: \"text-sm font-medium\",\n                  children: \"Ng\\xE2n h\\xE0ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 812,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 804,\n                columnNumber: 19\n              }, this), transactionForm.source_type === 'bank' && /*#__PURE__*/_jsxDEV(\"select\", {\n                value: transactionForm.source_id,\n                onChange: e => setTransactionForm({\n                  ...transactionForm,\n                  source_id: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg ml-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn t\\xE0i kho\\u1EA3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 820,\n                  columnNumber: 23\n                }, this), bankSources.map(bank => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: bank.id,\n                  children: [bank.ma, \" - \", bank.so_tk, \" (\", bank.ngan_hang, \")\"]\n                }, bank.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 822,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 815,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 778,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 774,\n            columnNumber: 15\n          }, this), transactionForm.loai === 'chuyen' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"\\u0110\\u1EBFn t\\xE0i kho\\u1EA3n *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 834,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: transactionForm.target_id,\n              onChange: e => setTransactionForm({\n                ...transactionForm,\n                target_id: e.target.value\n              }),\n              className: \"w-full px-4 py-2 border rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Ch\\u1ECDn t\\xE0i kho\\u1EA3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 840,\n                columnNumber: 21\n              }, this), cashSources.filter(acc => acc.id !== parseInt(transactionForm.source_id)).map(acc => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: acc.id,\n                children: acc.ten\n              }, acc.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 844,\n                columnNumber: 25\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 835,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 833,\n            columnNumber: 17\n          }, this), transactionForm.loai !== 'chuyen' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"\\u0110\\u1ED1i t\\u01B0\\u1EE3ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 854,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: transactionForm.doi_tuong_loai,\n                onChange: e => setTransactionForm({\n                  ...transactionForm,\n                  doi_tuong_loai: e.target.value,\n                  doi_tuong_id: '',\n                  doi_tuong_ten: ''\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"khong\",\n                  children: \"Kh\\xF4ng c\\xF3 (Thu/Chi kh\\xE1c)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 860,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"nha_cung_cap\",\n                  children: \"Nh\\xE0 cung c\\u1EA5p\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 861,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"khach_hang\",\n                  children: \"Kh\\xE1ch h\\xE0ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 862,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"nhan_vien\",\n                  children: \"Nh\\xE2n vi\\xEAn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 863,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 855,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 853,\n              columnNumber: 19\n            }, this), transactionForm.doi_tuong_loai === 'khong' ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"T\\xEAn \\u0111\\u1ED1i t\\u01B0\\u1EE3ng (T\\xF9y ch\\u1ECDn)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 869,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: transactionForm.doi_tuong_ten,\n                onChange: e => setTransactionForm({\n                  ...transactionForm,\n                  doi_tuong_ten: e.target.value\n                }),\n                placeholder: \"VD: Mua t\\u1EA1p v\\u1EE5, Chi kh\\xE1c...\",\n                className: \"w-full px-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 870,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 868,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: [\"Ch\\u1ECDn \", transactionForm.doi_tuong_loai === 'nha_cung_cap' ? 'nhà cung cấp' : transactionForm.doi_tuong_loai === 'khach_hang' ? 'khách hàng' : 'nhân viên', \" *\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 880,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: transactionForm.doi_tuong_id,\n                onChange: e => setTransactionForm({\n                  ...transactionForm,\n                  doi_tuong_id: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn \\u0111\\u1ED1i t\\u01B0\\u1EE3ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 888,\n                  columnNumber: 25\n                }, this), getObjects(transactionForm.doi_tuong_loai).map(obj => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: obj.id,\n                  children: [obj.code, \" - \", obj.name]\n                }, obj.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 890,\n                  columnNumber: 27\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 883,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 879,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true), transactionForm.loai !== 'chuyen' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"Danh m\\u1EE5c *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 903,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: transactionForm.danh_muc_id,\n              onChange: e => setTransactionForm({\n                ...transactionForm,\n                danh_muc_id: e.target.value\n              }),\n              className: \"w-full px-4 py-2 border rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Ch\\u1ECDn danh m\\u1EE5c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 909,\n                columnNumber: 21\n              }, this), getCategories(transactionForm.loai).map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: cat.ma,\n                children: cat.ten\n              }, cat.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 911,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 904,\n              columnNumber: 19\n            }, this), categories.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-orange-600 mt-1\",\n              children: \"Ch\\u01B0a c\\xF3 danh m\\u1EE5c. Vui l\\xF2ng t\\u1EA1o \\u1EDF menu \\\"Lo\\u1EA1i Thu Chi\\\"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 917,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 902,\n            columnNumber: 17\n          }, this), transactionForm.loai !== 'chuyen' && transactionForm.doi_tuong_loai !== 'khong' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded-lg p-4 bg-gray-50\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                id: \"thanh-toan-phieu\",\n                checked: transactionForm.thanh_toan_theo_phieu,\n                onChange: e => setTransactionForm({\n                  ...transactionForm,\n                  thanh_toan_theo_phieu: e.target.checked\n                }),\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 928,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"thanh-toan-phieu\",\n                className: \"text-sm font-medium\",\n                children: [transactionForm.loai === 'thu' ? 'Thu tiền' : 'Thanh toán', \" theo phi\\u1EBFu\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 935,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 927,\n              columnNumber: 19\n            }, this), transactionForm.thanh_toan_theo_phieu && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowReceiptModal(true),\n                className: \"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Plus, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 946,\n                  columnNumber: 25\n                }, this), \"Th\\xEAm phi\\u1EBFu\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 942,\n                columnNumber: 23\n              }, this), transactionForm.chi_tiet_phieu.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: [transactionForm.chi_tiet_phieu.map((phieu, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between bg-white p-3 rounded-lg border\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium text-sm\",\n                      children: [phieu.loai_phieu === 'hoa_don' ? '📄 Hóa đơn' : phieu.loai_phieu === 'don_hang' ? '📦 Đơn hàng' : '📋 Phiếu', \": \", phieu.so_phieu]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 954,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-600 mt-1\",\n                      children: [new Date(phieu.ngay_phieu).toLocaleDateString('vi-VN'), \" \\u2022 \", phieu.so_tien.toLocaleString('vi-VN'), \" \\u0111\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 957,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 953,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRemoveReceipt(index),\n                    className: \"p-1 text-red-600 hover:bg-red-50 rounded\",\n                    children: /*#__PURE__*/_jsxDEV(X, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 965,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 961,\n                    columnNumber: 31\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 952,\n                  columnNumber: 29\n                }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right font-semibold text-blue-600\",\n                  children: [\"T\\u1ED5ng: \", transactionForm.chi_tiet_phieu.reduce((sum, p) => sum + p.so_tien, 0).toLocaleString('vi-VN'), \" \\u0111\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 969,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 950,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 941,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 926,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"S\\u1ED1 ti\\u1EC1n *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 981,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: transactionForm.so_tien,\n              onChange: e => setTransactionForm({\n                ...transactionForm,\n                so_tien: e.target.value\n              }),\n              placeholder: \"VD: 5000000\",\n              className: \"w-full px-4 py-2 border rounded-lg\",\n              disabled: transactionForm.thanh_toan_theo_phieu && transactionForm.chi_tiet_phieu.length > 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 982,\n              columnNumber: 17\n            }, this), transactionForm.thanh_toan_theo_phieu && transactionForm.chi_tiet_phieu.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-blue-600 mt-1\",\n              children: \"S\\u1ED1 ti\\u1EC1n t\\u1EF1 \\u0111\\u1ED9ng t\\xEDnh t\\u1EEB c\\xE1c phi\\u1EBFu \\u0111\\xE3 th\\xEAm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 991,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 980,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"L\\xFD do *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 999,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: transactionForm.ly_do,\n              onChange: e => setTransactionForm({\n                ...transactionForm,\n                ly_do: e.target.value\n              }),\n              placeholder: \"VD: Thanh to\\xE1n h\\xF3a \\u0111\\u01A1n th\\xE1ng 12...\",\n              className: \"w-full px-4 py-2 border rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1000,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 998,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"Ghi ch\\xFA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1010,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: transactionForm.ghi_chu,\n              onChange: e => setTransactionForm({\n                ...transactionForm,\n                ghi_chu: e.target.value\n              }),\n              placeholder: \"Ghi ch\\xFA th\\xEAm...\",\n              className: \"w-full px-4 py-2 border rounded-lg\",\n              rows: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1011,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1009,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t px-6 py-4 flex justify-end gap-2 sticky bottom-0 bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowAddModal(false);\n              setTransactionForm({\n                loai: 'chi',\n                source_type: 'cash',\n                source_id: '',\n                target_id: '',\n                ngay: new Date().toISOString().slice(0, 10),\n                so_tien: '',\n                doi_tuong_loai: 'khong',\n                doi_tuong_id: '',\n                doi_tuong_ten: '',\n                danh_muc_id: '',\n                thanh_toan_theo_phieu: false,\n                chi_tiet_phieu: [],\n                ly_do: '',\n                ghi_chu: ''\n              });\n            },\n            className: \"px-4 py-2 border rounded-lg hover:bg-gray-50\",\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1021,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAddTransaction,\n            className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",\n            children: \"Th\\xEAm giao d\\u1ECBch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1045,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1020,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 742,\n      columnNumber: 9\n    }, this), showReceiptModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full max-w-2xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold\",\n            children: \"Th\\xEAm phi\\u1EBFu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1061,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1060,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Lo\\u1EA1i phi\\u1EBFu *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1066,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: receiptForm.loai_phieu,\n                onChange: e => setReceiptForm({\n                  ...receiptForm,\n                  loai_phieu: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"hoa_don\",\n                  children: \"H\\xF3a \\u0111\\u01A1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1072,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"don_hang\",\n                  children: \"\\u0110\\u01A1n h\\xE0ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1073,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"phieu_nhap_kho\",\n                  children: \"Phi\\u1EBFu nh\\u1EADp kho\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1074,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"phieu_xuat_kho\",\n                  children: \"Phi\\u1EBFu xu\\u1EA5t kho\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1075,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1067,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1065,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"S\\u1ED1 phi\\u1EBFu *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1079,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: receiptForm.so_phieu,\n                onChange: e => setReceiptForm({\n                  ...receiptForm,\n                  so_phieu: e.target.value\n                }),\n                placeholder: \"VD: HD001\",\n                className: \"w-full px-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1080,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1078,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1064,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Ng\\xE0y phi\\u1EBFu *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1091,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: receiptForm.ngay_phieu,\n                onChange: e => setReceiptForm({\n                  ...receiptForm,\n                  ngay_phieu: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1092,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1090,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"S\\u1ED1 ti\\u1EC1n *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1100,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: receiptForm.so_tien,\n                onChange: e => setReceiptForm({\n                  ...receiptForm,\n                  so_tien: e.target.value\n                }),\n                placeholder: \"VD: 5000000\",\n                className: \"w-full px-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1101,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1099,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1089,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"Ghi ch\\xFA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1111,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: receiptForm.ghi_chu,\n              onChange: e => setReceiptForm({\n                ...receiptForm,\n                ghi_chu: e.target.value\n              }),\n              placeholder: \"Ghi ch\\xFA th\\xEAm...\",\n              className: \"w-full px-4 py-2 border rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1112,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1110,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1063,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t px-6 py-4 flex justify-end gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowReceiptModal(false);\n              setReceiptForm({\n                loai_phieu: 'hoa_don',\n                so_phieu: '',\n                ngay_phieu: new Date().toISOString().slice(0, 10),\n                so_tien: '',\n                ghi_chu: ''\n              });\n            },\n            className: \"px-4 py-2 border rounded-lg hover:bg-gray-50\",\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1122,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAddReceipt,\n            className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",\n            children: \"Th\\xEAm phi\\u1EBFu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1137,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1121,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1059,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1058,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 414,\n    columnNumber: 5\n  }, this);\n}\n_s(CashBook, \"DIaKgYqEviga60uWeNZQvNDCmAc=\");\n_c = CashBook;\nexport default CashBook;\nvar _c;\n$RefreshReg$(_c, \"CashBook\");","map":{"version":3,"names":["React","useState","useEffect","Plus","Search","Trash2","Eye","Download","ArrowRight","X","FileText","XLSX","jsxDEV","_jsxDEV","Fragment","_Fragment","removeVietnameseTones","str","normalize","replace","CashBook","_s","loadAccounts","saved","localStorage","getItem","JSON","parse","id","ten","loai","so_du","trang_thai","ghi_chu","ngay_tao","Date","toISOString","loadTransactions","loadBankAccounts","loadTransactionCategories","loadSuppliers","loadCustomers","loadEmployees","accounts","setAccounts","transactions","setTransactions","bankAccounts","categories","suppliers","customers","employees","viewMode","setViewMode","selectedAccount","setSelectedAccount","filterMonth","setFilterMonth","slice","filterType","setFilterType","searchTerm","setSearchTerm","showAddModal","setShowAddModal","showAccountModal","setShowAccountModal","showReceiptModal","setShowReceiptModal","accountForm","setAccountForm","transactionForm","setTransactionForm","source_type","source_id","target_id","ngay","so_tien","doi_tuong_loai","doi_tuong_id","doi_tuong_ten","danh_muc_id","thanh_toan_theo_phieu","chi_tiet_phieu","ly_do","receiptForm","setReceiptForm","loai_phieu","so_phieu","ngay_phieu","setItem","stringify","handleAddAccount","trim","alert","newAccount","now","parseFloat","handleAddReceipt","newReceipt","handleRemoveReceipt","index","newReceipts","filter","_","i","handleAddTransaction","amount","length","totalReceipt","reduce","sum","r","Math","abs","toLocaleString","account","find","acc","parseInt","supplier","s","code","name","customer","c","emp","e","category","ma","newTransaction","danh_muc_ten","danh_muc_mau","mau_sac","nguoi_tao","updatedAccounts","map","handleDeleteTransaction","transaction","window","confirm","t","handleExportExcel","filtered","getFilteredTransactions","data","toLocaleDateString","getSourceName","ws","utils","json_to_sheet","wch","wb","book_new","book_append_sheet","writeFile","sourceType","sourceId","a","bank","b","so_tk","startsWith","searchLower","toLowerCase","searchableFields","some","field","includes","sort","getSummary","thu","chi","balance","count","cashSources","bankSources","filteredTransactions","summary","getObjects","type","status","getCategories","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","value","onChange","target","placeholder","toFixed","style","backgroundColor","p","join","title","rows","checked","htmlFor","ngan_hang","obj","cat","phieu","disabled","_c","$RefreshReg$"],"sources":["C:/Projects/app/src/pages/CashBook.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Plus, Search, Trash2, Eye, Download, ArrowRight, X, FileText } from 'lucide-react';\r\nimport * as XLSX from 'xlsx';\r\n\r\nconst removeVietnameseTones = (str) => {\r\n  return str\r\n    .normalize('NFD')\r\n    .replace(/[\\u0300-\\u036f]/g, '')\r\n    .replace(/đ/g, 'd')\r\n    .replace(/Đ/g, 'D');\r\n};\r\n\r\nfunction CashBook() {\r\n  const loadAccounts = () => {\r\n    const saved = localStorage.getItem('cash_accounts');\r\n    if (saved) return JSON.parse(saved);\r\n    return [\r\n      { id: 1, ten: 'Quỹ tiền mặt', loai: 'tien_mat', so_du: 0, trang_thai: 'active', ghi_chu: '', ngay_tao: new Date().toISOString() }\r\n    ];\r\n  };\r\n\r\n  const loadTransactions = () => {\r\n    const saved = localStorage.getItem('cash_transactions');\r\n    return saved ? JSON.parse(saved) : [];\r\n  };\r\n\r\n  const loadBankAccounts = () => {\r\n    const saved = localStorage.getItem('bank_accounts');\r\n    return saved ? JSON.parse(saved) : [];\r\n  };\r\n\r\n  const loadTransactionCategories = () => {\r\n    const saved = localStorage.getItem('transaction_categories');\r\n    return saved ? JSON.parse(saved) : [];\r\n  };\r\n\r\n  const loadSuppliers = () => {\r\n    const saved = localStorage.getItem('suppliers');\r\n    return saved ? JSON.parse(saved) : [];\r\n  };\r\n\r\n  const loadCustomers = () => {\r\n    const saved = localStorage.getItem('customers');\r\n    return saved ? JSON.parse(saved) : [];\r\n  };\r\n\r\n  const loadEmployees = () => {\r\n    const saved = localStorage.getItem('employees_v2');\r\n    return saved ? JSON.parse(saved) : [];\r\n  };\r\n\r\n  const [accounts, setAccounts] = useState(loadAccounts);\r\n  const [transactions, setTransactions] = useState(loadTransactions);\r\n  const [bankAccounts] = useState(loadBankAccounts);\r\n  const [categories] = useState(loadTransactionCategories);\r\n  const [suppliers] = useState(loadSuppliers);\r\n  const [customers] = useState(loadCustomers);\r\n  const [employees] = useState(loadEmployees);\r\n  const [viewMode, setViewMode] = useState('transactions');\r\n  const [selectedAccount, setSelectedAccount] = useState(null);\r\n  const [filterMonth, setFilterMonth] = useState(new Date().toISOString().slice(0, 7));\r\n  const [filterType, setFilterType] = useState('all');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [showAccountModal, setShowAccountModal] = useState(false);\r\n  const [showReceiptModal, setShowReceiptModal] = useState(false);\r\n\r\n  const [accountForm, setAccountForm] = useState({\r\n    ten: '',\r\n    loai: 'tien_mat',\r\n    so_du: 0,\r\n    ghi_chu: ''\r\n  });\r\n\r\n  const [transactionForm, setTransactionForm] = useState({\r\n    loai: 'chi',\r\n    source_type: 'cash',\r\n    source_id: '',\r\n    target_id: '',\r\n    ngay: new Date().toISOString().slice(0, 10),\r\n    so_tien: '',\r\n    \r\n    // Đối tượng\r\n    doi_tuong_loai: 'khong',\r\n    doi_tuong_id: '',\r\n    doi_tuong_ten: '',\r\n    \r\n    // Danh mục\r\n    danh_muc_id: '',\r\n    \r\n    // Thanh toán theo phiếu\r\n    thanh_toan_theo_phieu: false,\r\n    chi_tiet_phieu: [],\r\n    \r\n    ly_do: '',\r\n    ghi_chu: ''\r\n  });\r\n\r\n  const [receiptForm, setReceiptForm] = useState({\r\n    loai_phieu: 'hoa_don',\r\n    so_phieu: '',\r\n    ngay_phieu: new Date().toISOString().slice(0, 10),\r\n    so_tien: '',\r\n    ghi_chu: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('cash_accounts', JSON.stringify(accounts));\r\n  }, [accounts]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('cash_transactions', JSON.stringify(transactions));\r\n  }, [transactions]);\r\n\r\n  const handleAddAccount = () => {\r\n    if (!accountForm.ten.trim()) {\r\n      alert('Vui lòng nhập tên tài khoản!');\r\n      return;\r\n    }\r\n\r\n    const newAccount = {\r\n      id: Date.now(),\r\n      ten: accountForm.ten.trim(),\r\n      loai: accountForm.loai,\r\n      so_du: parseFloat(accountForm.so_du) || 0,\r\n      trang_thai: 'active',\r\n      ghi_chu: accountForm.ghi_chu,\r\n      ngay_tao: new Date().toISOString()\r\n    };\r\n\r\n    setAccounts([...accounts, newAccount]);\r\n    setShowAccountModal(false);\r\n    setAccountForm({ ten: '', loai: 'tien_mat', so_du: 0, ghi_chu: '' });\r\n    alert('Đã thêm tài khoản!');\r\n  };\r\n\r\n  const handleAddReceipt = () => {\r\n    if (!receiptForm.so_phieu.trim() || !receiptForm.so_tien) {\r\n      alert('Vui lòng điền đầy đủ thông tin phiếu!');\r\n      return;\r\n    }\r\n\r\n    const newReceipt = {\r\n      loai_phieu: receiptForm.loai_phieu,\r\n      so_phieu: receiptForm.so_phieu.trim(),\r\n      ngay_phieu: receiptForm.ngay_phieu,\r\n      so_tien: parseFloat(receiptForm.so_tien),\r\n      ghi_chu: receiptForm.ghi_chu\r\n    };\r\n\r\n    setTransactionForm({\r\n      ...transactionForm,\r\n      chi_tiet_phieu: [...transactionForm.chi_tiet_phieu, newReceipt]\r\n    });\r\n\r\n    setShowReceiptModal(false);\r\n    setReceiptForm({\r\n      loai_phieu: 'hoa_don',\r\n      so_phieu: '',\r\n      ngay_phieu: new Date().toISOString().slice(0, 10),\r\n      so_tien: '',\r\n      ghi_chu: ''\r\n    });\r\n  };\r\n\r\n  const handleRemoveReceipt = (index) => {\r\n    const newReceipts = transactionForm.chi_tiet_phieu.filter((_, i) => i !== index);\r\n    setTransactionForm({ ...transactionForm, chi_tiet_phieu: newReceipts });\r\n  };\r\n\r\n  const handleAddTransaction = () => {\r\n    if (!transactionForm.source_id || !transactionForm.so_tien) {\r\n      alert('Vui lòng điền đầy đủ thông tin!');\r\n      return;\r\n    }\r\n\r\n    if (transactionForm.loai === 'chuyen' && !transactionForm.target_id) {\r\n      alert('Vui lòng chọn tài khoản đích!');\r\n      return;\r\n    }\r\n\r\n    if (transactionForm.doi_tuong_loai !== 'khong' && !transactionForm.doi_tuong_id) {\r\n      alert('Vui lòng chọn đối tượng!');\r\n      return;\r\n    }\r\n\r\n    if (!transactionForm.danh_muc_id) {\r\n      alert('Vui lòng chọn danh mục!');\r\n      return;\r\n    }\r\n\r\n    const amount = parseFloat(transactionForm.so_tien);\r\n    if (amount <= 0) {\r\n      alert('Số tiền phải lớn hơn 0!');\r\n      return;\r\n    }\r\n\r\n    // Validate receipts if enabled\r\n    if (transactionForm.thanh_toan_theo_phieu) {\r\n      if (transactionForm.chi_tiet_phieu.length === 0) {\r\n        alert('Vui lòng thêm ít nhất 1 phiếu!');\r\n        return;\r\n      }\r\n      const totalReceipt = transactionForm.chi_tiet_phieu.reduce((sum, r) => sum + r.so_tien, 0);\r\n      if (Math.abs(totalReceipt - amount) > 0.01) {\r\n        alert(`Tổng tiền phiếu (${totalReceipt.toLocaleString('vi-VN')}) không khớp với số tiền giao dịch (${amount.toLocaleString('vi-VN')})!`);\r\n        return;\r\n      }\r\n    }\r\n\r\n    // Check balance for chi/chuyen\r\n    if ((transactionForm.loai === 'chi' || transactionForm.loai === 'chuyen') && transactionForm.source_type === 'cash') {\r\n      const account = accounts.find(acc => acc.id === parseInt(transactionForm.source_id));\r\n      if (account && account.so_du < amount) {\r\n        alert(`Số dư không đủ!\\nSố dư: ${account.so_du.toLocaleString('vi-VN')} đ\\nCần: ${amount.toLocaleString('vi-VN')} đ`);\r\n        return;\r\n      }\r\n    }\r\n\r\n    // Get object name\r\n    let doi_tuong_ten = transactionForm.doi_tuong_ten;\r\n    if (transactionForm.doi_tuong_loai !== 'khong' && transactionForm.doi_tuong_id) {\r\n      if (transactionForm.doi_tuong_loai === 'nha_cung_cap') {\r\n        const supplier = suppliers.find(s => s.id === parseInt(transactionForm.doi_tuong_id));\r\n        doi_tuong_ten = supplier ? `${supplier.code} - ${supplier.name}` : '';\r\n      } else if (transactionForm.doi_tuong_loai === 'khach_hang') {\r\n        const customer = customers.find(c => c.id === parseInt(transactionForm.doi_tuong_id));\r\n        doi_tuong_ten = customer ? `${customer.code} - ${customer.name}` : '';\r\n      } else if (transactionForm.doi_tuong_loai === 'nhan_vien') {\r\n        const emp = employees.find(e => e.id === parseInt(transactionForm.doi_tuong_id));\r\n        doi_tuong_ten = emp ? `${emp.code} - ${emp.name}` : '';\r\n      }\r\n    }\r\n\r\n    // Get category info\r\n    const category = categories.find(c => c.ma === transactionForm.danh_muc_id);\r\n\r\n    const newTransaction = {\r\n      id: Date.now(),\r\n      loai: transactionForm.loai,\r\n      source_type: transactionForm.source_type,\r\n      source_id: parseInt(transactionForm.source_id),\r\n      target_id: transactionForm.target_id ? parseInt(transactionForm.target_id) : null,\r\n      ngay: transactionForm.ngay,\r\n      so_tien: amount,\r\n      \r\n      doi_tuong_loai: transactionForm.doi_tuong_loai,\r\n      doi_tuong_id: transactionForm.doi_tuong_id ? parseInt(transactionForm.doi_tuong_id) : null,\r\n      doi_tuong_ten: doi_tuong_ten,\r\n      \r\n      danh_muc_id: transactionForm.danh_muc_id,\r\n      danh_muc_ten: category ? category.ten : '',\r\n      danh_muc_mau: category ? category.mau_sac : '#666',\r\n      \r\n      thanh_toan_theo_phieu: transactionForm.thanh_toan_theo_phieu,\r\n      chi_tiet_phieu: transactionForm.thanh_toan_theo_phieu ? transactionForm.chi_tiet_phieu : [],\r\n      \r\n      ly_do: transactionForm.ly_do,\r\n      ghi_chu: transactionForm.ghi_chu,\r\n      nguoi_tao: 'Admin',\r\n      ngay_tao: new Date().toISOString()\r\n    };\r\n\r\n    // Update balances\r\n    if (transactionForm.source_type === 'cash') {\r\n      const updatedAccounts = accounts.map(acc => {\r\n        if (acc.id === parseInt(transactionForm.source_id)) {\r\n          if (transactionForm.loai === 'thu') {\r\n            return { ...acc, so_du: acc.so_du + amount };\r\n          } else {\r\n            return { ...acc, so_du: acc.so_du - amount };\r\n          }\r\n        }\r\n        if (transactionForm.loai === 'chuyen' && acc.id === parseInt(transactionForm.target_id)) {\r\n          return { ...acc, so_du: acc.so_du + amount };\r\n        }\r\n        return acc;\r\n      });\r\n      setAccounts(updatedAccounts);\r\n    }\r\n\r\n    setTransactions([...transactions, newTransaction]);\r\n    setShowAddModal(false);\r\n    setTransactionForm({\r\n      loai: 'chi',\r\n      source_type: 'cash',\r\n      source_id: '',\r\n      target_id: '',\r\n      ngay: new Date().toISOString().slice(0, 10),\r\n      so_tien: '',\r\n      doi_tuong_loai: 'khong',\r\n      doi_tuong_id: '',\r\n      doi_tuong_ten: '',\r\n      danh_muc_id: '',\r\n      thanh_toan_theo_phieu: false,\r\n      chi_tiet_phieu: [],\r\n      ly_do: '',\r\n      ghi_chu: ''\r\n    });\r\n    alert('Đã thêm giao dịch!');\r\n  };\r\n\r\n  const handleDeleteTransaction = (transaction) => {\r\n    if (!window.confirm('Xóa giao dịch này?')) return;\r\n\r\n    // Restore balance\r\n    if (transaction.source_type === 'cash') {\r\n      const updatedAccounts = accounts.map(acc => {\r\n        if (acc.id === transaction.source_id) {\r\n          if (transaction.loai === 'thu') {\r\n            return { ...acc, so_du: acc.so_du - transaction.so_tien };\r\n          } else {\r\n            return { ...acc, so_du: acc.so_du + transaction.so_tien };\r\n          }\r\n        }\r\n        if (transaction.loai === 'chuyen' && acc.id === transaction.target_id) {\r\n          return { ...acc, so_du: acc.so_du - transaction.so_tien };\r\n        }\r\n        return acc;\r\n      });\r\n      setAccounts(updatedAccounts);\r\n    }\r\n\r\n    setTransactions(transactions.filter(t => t.id !== transaction.id));\r\n  };\r\n\r\n  const handleExportExcel = () => {\r\n    const filtered = getFilteredTransactions();\r\n    if (filtered.length === 0) {\r\n      alert('Không có dữ liệu để xuất!');\r\n      return;\r\n    }\r\n\r\n    const data = filtered.map(t => ({\r\n      'Ngày': new Date(t.ngay).toLocaleDateString('vi-VN'),\r\n      'Loại': t.loai === 'thu' ? 'Thu' : t.loai === 'chi' ? 'Chi' : 'Chuyển',\r\n      'Nguồn': getSourceName(t.source_type, t.source_id),\r\n      'Đối tượng': t.doi_tuong_ten || '-',\r\n      'Danh mục': t.danh_muc_ten,\r\n      'Lý do': t.ly_do,\r\n      'Số tiền': t.so_tien,\r\n      'Ghi chú': t.ghi_chu || ''\r\n    }));\r\n\r\n    const ws = XLSX.utils.json_to_sheet(data);\r\n    ws['!cols'] = [\r\n      { wch: 12 }, { wch: 10 }, { wch: 20 }, { wch: 25 }, \r\n      { wch: 20 }, { wch: 30 }, { wch: 15 }, { wch: 20 }\r\n    ];\r\n    const wb = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(wb, ws, `Thu chi ${filterMonth}`);\r\n    XLSX.writeFile(wb, `So-quy-${filterMonth}.xlsx`);\r\n  };\r\n\r\n  const getSourceName = (sourceType, sourceId) => {\r\n    if (sourceType === 'cash') {\r\n      const acc = accounts.find(a => a.id === sourceId);\r\n      return acc ? acc.ten : 'N/A';\r\n    } else {\r\n      const bank = bankAccounts.find(b => b.id === sourceId);\r\n      return bank ? `${bank.ma} (${bank.so_tk})` : 'N/A';\r\n    }\r\n  };\r\n\r\n  const getFilteredTransactions = () => {\r\n    return transactions.filter(t => {\r\n      if (!t.ngay.startsWith(filterMonth)) return false;\r\n      if (selectedAccount && t.source_type === 'cash' && t.source_id !== selectedAccount.id) return false;\r\n      if (filterType !== 'all' && t.loai !== filterType) return false;\r\n      if (!searchTerm) return true;\r\n\r\n      const searchLower = removeVietnameseTones(searchTerm.toLowerCase());\r\n      const searchableFields = [\r\n        t.doi_tuong_ten || '',\r\n        t.danh_muc_ten || '',\r\n        t.ly_do || '',\r\n        t.ghi_chu || '',\r\n        getSourceName(t.source_type, t.source_id)\r\n      ];\r\n      return searchableFields.some(field =>\r\n        removeVietnameseTones(field.toLowerCase()).includes(searchLower)\r\n      );\r\n    }).sort((a, b) => new Date(b.ngay) - new Date(a.ngay));\r\n  };\r\n\r\n  const getSummary = () => {\r\n    const filtered = getFilteredTransactions();\r\n    const thu = filtered.filter(t => t.loai === 'thu').reduce((sum, t) => sum + t.so_tien, 0);\r\n    const chi = filtered.filter(t => t.loai === 'chi').reduce((sum, t) => sum + t.so_tien, 0);\r\n    return { thu, chi, balance: thu - chi, count: filtered.length };\r\n  };\r\n\r\n  const cashSources = accounts.filter(acc => acc.trang_thai === 'active');\r\n  const bankSources = bankAccounts.filter(bank => bank.trang_thai === 'active');\r\n  const filteredTransactions = getFilteredTransactions();\r\n  const summary = getSummary();\r\n\r\n  // Get objects by type\r\n  const getObjects = (type) => {\r\n    if (type === 'nha_cung_cap') return suppliers;\r\n    if (type === 'khach_hang') return customers;\r\n    if (type === 'nhan_vien') return employees.filter(e => e.status !== 'Nghỉ việc');\r\n    return [];\r\n  };\r\n\r\n  // Get categories by transaction type\r\n  const getCategories = (loai) => {\r\n    if (loai === 'thu') return categories.filter(c => c.loai === 'thu');\r\n    if (loai === 'chi') return categories.filter(c => c.loai === 'chi');\r\n    return categories;\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-800\">Sổ quỹ</h1>\r\n          <p className=\"text-gray-600\">Quản lý thu chi & dòng tiền</p>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <button\r\n            onClick={handleExportExcel}\r\n            className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\r\n          >\r\n            <Download className=\"w-5 h-5\" />Xuất Excel\r\n          </button>\r\n          {viewMode === 'accounts' && (\r\n            <button\r\n              onClick={() => setShowAccountModal(true)}\r\n              className=\"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\r\n            >\r\n              <Plus className=\"w-5 h-5\" />Thêm tài khoản\r\n            </button>\r\n          )}\r\n          {viewMode === 'transactions' && (\r\n            <button\r\n              onClick={() => setShowAddModal(true)}\r\n              className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\r\n            >\r\n              <Plus className=\"w-5 h-5\" />Thêm giao dịch\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-xl shadow-sm border\">\r\n        <div className=\"border-b\">\r\n          <div className=\"flex\">\r\n            <button\r\n              onClick={() => { setViewMode('transactions'); setSelectedAccount(null); }}\r\n              className={`px-6 py-3 font-medium ${\r\n                viewMode === 'transactions'\r\n                  ? 'text-blue-600 border-b-2 border-blue-600'\r\n                  : 'text-gray-600 hover:text-gray-800'\r\n              }`}\r\n            >\r\n              Giao dịch\r\n            </button>\r\n            <button\r\n              onClick={() => setViewMode('accounts')}\r\n              className={`px-6 py-3 font-medium ${\r\n                viewMode === 'accounts'\r\n                  ? 'text-blue-600 border-b-2 border-blue-600'\r\n                  : 'text-gray-600 hover:text-gray-800'\r\n              }`}\r\n            >\r\n              Tài khoản\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {viewMode === 'transactions' && (\r\n          <div className=\"p-4 space-y-4\">\r\n            <div className=\"grid grid-cols-4 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">Tháng</label>\r\n                <input\r\n                  type=\"month\"\r\n                  value={filterMonth}\r\n                  onChange={(e) => setFilterMonth(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border rounded-lg\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">Loại</label>\r\n                <select\r\n                  value={filterType}\r\n                  onChange={(e) => setFilterType(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border rounded-lg\"\r\n                >\r\n                  <option value=\"all\">Tất cả</option>\r\n                  <option value=\"thu\">Thu</option>\r\n                  <option value=\"chi\">Chi</option>\r\n                  <option value=\"chuyen\">Chuyển</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">Tài khoản</label>\r\n                <select\r\n                  value={selectedAccount?.id || ''}\r\n                  onChange={(e) => {\r\n                    const acc = accounts.find(a => a.id === parseInt(e.target.value));\r\n                    setSelectedAccount(acc || null);\r\n                  }}\r\n                  className=\"w-full px-4 py-2 border rounded-lg\"\r\n                >\r\n                  <option value=\"\">Tất cả</option>\r\n                  {cashSources.map(acc => (\r\n                    <option key={acc.id} value={acc.id}>{acc.ten}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">Tìm kiếm</label>\r\n                <div className=\"relative\">\r\n                  <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    placeholder=\"Đối tượng, lý do...\"\r\n                    className=\"w-full pl-10 pr-4 py-2 border rounded-lg\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {filteredTransactions.length > 0 && (\r\n              <div className=\"grid grid-cols-3 gap-4\">\r\n                <div className=\"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white\">\r\n                  <p className=\"text-green-100 text-sm\">Tổng thu</p>\r\n                  <p className=\"text-2xl font-bold mt-1\">{(summary.thu / 1000000).toFixed(1)}M</p>\r\n                </div>\r\n                <div className=\"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 text-white\">\r\n                  <p className=\"text-red-100 text-sm\">Tổng chi</p>\r\n                  <p className=\"text-2xl font-bold mt-1\">{(summary.chi / 1000000).toFixed(1)}M</p>\r\n                </div>\r\n                <div className={`bg-gradient-to-br ${summary.balance >= 0 ? 'from-blue-500 to-blue-600' : 'from-orange-500 to-orange-600'} rounded-xl p-6 text-white`}>\r\n                  <p className={`${summary.balance >= 0 ? 'text-blue-100' : 'text-orange-100'} text-sm`}>Chênh lệch</p>\r\n                  <p className=\"text-2xl font-bold mt-1\">{(summary.balance / 1000000).toFixed(1)}M</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"w-full\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Ngày</th>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Loại</th>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Nguồn</th>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Đối tượng</th>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Danh mục</th>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Lý do</th>\r\n                    <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Số tiền</th>\r\n                    <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase\">Thao tác</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"divide-y\">\r\n                  {filteredTransactions.map(transaction => (\r\n                    <tr key={transaction.id} className=\"hover:bg-gray-50\">\r\n                      <td className=\"px-4 py-4 text-sm\">\r\n                        {new Date(transaction.ngay).toLocaleDateString('vi-VN')}\r\n                      </td>\r\n                      <td className=\"px-4 py-4\">\r\n                        <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n                          transaction.loai === 'thu'\r\n                            ? 'bg-green-100 text-green-800'\r\n                            : transaction.loai === 'chi'\r\n                            ? 'bg-red-100 text-red-800'\r\n                            : 'bg-blue-100 text-blue-800'\r\n                        }`}>\r\n                          {transaction.loai === 'thu' ? 'Thu' : transaction.loai === 'chi' ? 'Chi' : 'Chuyển'}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-4 py-4 text-sm\">\r\n                        {getSourceName(transaction.source_type, transaction.source_id)}\r\n                      </td>\r\n                      <td className=\"px-4 py-4 text-sm\">\r\n                        <div>\r\n                          <div className=\"font-medium\">{transaction.doi_tuong_ten || '-'}</div>\r\n                          {transaction.thanh_toan_theo_phieu && (\r\n                            <div className=\"text-xs text-blue-600 flex items-center gap-1 mt-1\">\r\n                              <FileText className=\"w-3 h-3\" />\r\n                              {transaction.chi_tiet_phieu.length} phiếu\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-4 py-4 text-sm\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <div\r\n                            className=\"w-3 h-3 rounded\"\r\n                            style={{ backgroundColor: transaction.danh_muc_mau }}\r\n                          />\r\n                          <span>{transaction.danh_muc_ten}</span>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-4 py-4 text-sm text-gray-600\">{transaction.ly_do}</td>\r\n                      <td className=\"px-4 py-4 text-sm text-right\">\r\n                        <span className={`font-bold ${\r\n                          transaction.loai === 'thu' ? 'text-green-600' : 'text-red-600'\r\n                        }`}>\r\n                          {transaction.loai === 'thu' ? '+' : '-'}{transaction.so_tien.toLocaleString('vi-VN')} đ\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-4 py-4\">\r\n                        <div className=\"flex justify-center gap-2\">\r\n                          <button\r\n                            onClick={() => {\r\n                              if (transaction.thanh_toan_theo_phieu) {\r\n                                alert(`Chi tiết phiếu:\\n${transaction.chi_tiet_phieu.map(p => `- ${p.loai_phieu}: ${p.so_phieu} (${p.so_tien.toLocaleString('vi-VN')} đ)`).join('\\n')}`);\r\n                              }\r\n                            }}\r\n                            className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg\"\r\n                            title=\"Xem chi tiết\"\r\n                          >\r\n                            <Eye className=\"w-4 h-4\" />\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleDeleteTransaction(transaction)}\r\n                            className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg\"\r\n                            title=\"Xóa\"\r\n                          >\r\n                            <Trash2 className=\"w-4 h-4\" />\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            {filteredTransactions.length === 0 && (\r\n              <div className=\"text-center py-12 text-gray-500\">Không có giao dịch nào</div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {viewMode === 'accounts' && (\r\n          <div className=\"p-4\">\r\n            <div className=\"grid gap-4\">\r\n              {accounts.map(account => (\r\n                <div\r\n                  key={account.id}\r\n                  className=\"border rounded-xl p-6 hover:shadow-md transition-shadow\"\r\n                >\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div>\r\n                      <h3 className=\"text-lg font-bold\">{account.ten}</h3>\r\n                      <p className=\"text-sm text-gray-600 mt-1\">{account.ghi_chu || 'Không có ghi chú'}</p>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <p className=\"text-sm text-gray-600\">Số dư</p>\r\n                      <p className={`text-2xl font-bold ${account.so_du >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                        {account.so_du.toLocaleString('vi-VN')} đ\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Add Account Modal */}\r\n      {showAccountModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-2xl\">\r\n            <div className=\"border-b px-6 py-4\">\r\n              <h2 className=\"text-xl font-bold\">Thêm tài khoản</h2>\r\n            </div>\r\n            <div className=\"p-6 space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">Tên tài khoản *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={accountForm.ten}\r\n                  onChange={(e) => setAccountForm({ ...accountForm, ten: e.target.value })}\r\n                  placeholder=\"VD: Quỹ tiền mặt cửa hàng\"\r\n                  className=\"w-full px-4 py-2 border rounded-lg\"\r\n                />\r\n              </div>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Loại</label>\r\n                  <select\r\n                    value={accountForm.loai}\r\n                    onChange={(e) => setAccountForm({ ...accountForm, loai: e.target.value })}\r\n                    className=\"w-full px-4 py-2 border rounded-lg\"\r\n                  >\r\n                    <option value=\"tien_mat\">Tiền mặt</option>\r\n                    <option value=\"quy\">Quỹ</option>\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Số dư ban đầu</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={accountForm.so_du}\r\n                    onChange={(e) => setAccountForm({ ...accountForm, so_du: e.target.value })}\r\n                    placeholder=\"0\"\r\n                    className=\"w-full px-4 py-2 border rounded-lg\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">Ghi chú</label>\r\n                <textarea\r\n                  value={accountForm.ghi_chu}\r\n                  onChange={(e) => setAccountForm({ ...accountForm, ghi_chu: e.target.value })}\r\n                  placeholder=\"Ghi chú về tài khoản...\"\r\n                  className=\"w-full px-4 py-2 border rounded-lg\"\r\n                  rows=\"2\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"border-t px-6 py-4 flex justify-end gap-2\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowAccountModal(false);\r\n                  setAccountForm({ ten: '', loai: 'tien_mat', so_du: 0, ghi_chu: '' });\r\n                }}\r\n                className=\"px-4 py-2 border rounded-lg hover:bg-gray-50\"\r\n              >\r\n                Hủy\r\n              </button>\r\n              <button\r\n                onClick={handleAddAccount}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n              >\r\n                Thêm\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Transaction Modal */}\r\n      {showAddModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"sticky top-0 bg-white border-b px-6 py-4 z-10\">\r\n              <h2 className=\"text-xl font-bold\">Thêm giao dịch thu/chi</h2>\r\n            </div>\r\n            <div className=\"p-6 space-y-4\">\r\n              {/* Loại & Ngày */}\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Loại giao dịch *</label>\r\n                  <select\r\n                    value={transactionForm.loai}\r\n                    onChange={(e) => setTransactionForm({ ...transactionForm, loai: e.target.value, danh_muc_id: '' })}\r\n                    className=\"w-full px-4 py-2 border rounded-lg\"\r\n                  >\r\n                    <option value=\"thu\">Thu</option>\r\n                    <option value=\"chi\">Chi</option>\r\n                    <option value=\"chuyen\">Chuyển khoản</option>\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Ngày *</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={transactionForm.ngay}\r\n                    onChange={(e) => setTransactionForm({ ...transactionForm, ngay: e.target.value })}\r\n                    className=\"w-full px-4 py-2 border rounded-lg\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Nguồn tiền */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">\r\n                  {transactionForm.loai === 'chuyen' ? 'Từ tài khoản *' : 'Nguồn tiền *'}\r\n                </label>\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      id=\"trans-source-cash\"\r\n                      checked={transactionForm.source_type === 'cash'}\r\n                      onChange={() => setTransactionForm({ ...transactionForm, source_type: 'cash', source_id: '' })}\r\n                      className=\"w-4 h-4\"\r\n                    />\r\n                    <label htmlFor=\"trans-source-cash\" className=\"text-sm font-medium\">Tiền mặt / Quỹ</label>\r\n                  </div>\r\n                  {transactionForm.source_type === 'cash' && (\r\n                    <select\r\n                      value={transactionForm.source_id}\r\n                      onChange={(e) => setTransactionForm({ ...transactionForm, source_id: e.target.value })}\r\n                      className=\"w-full px-4 py-2 border rounded-lg ml-6\"\r\n                    >\r\n                      <option value=\"\">Chọn tài khoản</option>\r\n                      {cashSources.map(acc => (\r\n                        <option key={acc.id} value={acc.id}>\r\n                          {acc.ten} ({acc.so_du.toLocaleString('vi-VN')} đ)\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  )}\r\n\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      id=\"trans-source-bank\"\r\n                      checked={transactionForm.source_type === 'bank'}\r\n                      onChange={() => setTransactionForm({ ...transactionForm, source_type: 'bank', source_id: '' })}\r\n                      className=\"w-4 h-4\"\r\n                    />\r\n                    <label htmlFor=\"trans-source-bank\" className=\"text-sm font-medium\">Ngân hàng</label>\r\n                  </div>\r\n                  {transactionForm.source_type === 'bank' && (\r\n                    <select\r\n                      value={transactionForm.source_id}\r\n                      onChange={(e) => setTransactionForm({ ...transactionForm, source_id: e.target.value })}\r\n                      className=\"w-full px-4 py-2 border rounded-lg ml-6\"\r\n                    >\r\n                      <option value=\"\">Chọn tài khoản</option>\r\n                      {bankSources.map(bank => (\r\n                        <option key={bank.id} value={bank.id}>\r\n                          {bank.ma} - {bank.so_tk} ({bank.ngan_hang})\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Đến tài khoản (chỉ cho chuyển) */}\r\n              {transactionForm.loai === 'chuyen' && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Đến tài khoản *</label>\r\n                  <select\r\n                    value={transactionForm.target_id}\r\n                    onChange={(e) => setTransactionForm({ ...transactionForm, target_id: e.target.value })}\r\n                    className=\"w-full px-4 py-2 border rounded-lg\"\r\n                  >\r\n                    <option value=\"\">Chọn tài khoản</option>\r\n                    {cashSources\r\n                      .filter(acc => acc.id !== parseInt(transactionForm.source_id))\r\n                      .map(acc => (\r\n                        <option key={acc.id} value={acc.id}>{acc.ten}</option>\r\n                      ))}\r\n                  </select>\r\n                </div>\r\n              )}\r\n\r\n              {/* Đối tượng */}\r\n              {transactionForm.loai !== 'chuyen' && (\r\n                <>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-2\">Đối tượng</label>\r\n                    <select\r\n                      value={transactionForm.doi_tuong_loai}\r\n                      onChange={(e) => setTransactionForm({ ...transactionForm, doi_tuong_loai: e.target.value, doi_tuong_id: '', doi_tuong_ten: '' })}\r\n                      className=\"w-full px-4 py-2 border rounded-lg\"\r\n                    >\r\n                      <option value=\"khong\">Không có (Thu/Chi khác)</option>\r\n                      <option value=\"nha_cung_cap\">Nhà cung cấp</option>\r\n                      <option value=\"khach_hang\">Khách hàng</option>\r\n                      <option value=\"nhan_vien\">Nhân viên</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  {transactionForm.doi_tuong_loai === 'khong' ? (\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium mb-2\">Tên đối tượng (Tùy chọn)</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={transactionForm.doi_tuong_ten}\r\n                        onChange={(e) => setTransactionForm({ ...transactionForm, doi_tuong_ten: e.target.value })}\r\n                        placeholder=\"VD: Mua tạp vụ, Chi khác...\"\r\n                        className=\"w-full px-4 py-2 border rounded-lg\"\r\n                      />\r\n                    </div>\r\n                  ) : (\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium mb-2\">\r\n                        Chọn {transactionForm.doi_tuong_loai === 'nha_cung_cap' ? 'nhà cung cấp' : transactionForm.doi_tuong_loai === 'khach_hang' ? 'khách hàng' : 'nhân viên'} *\r\n                      </label>\r\n                      <select\r\n                        value={transactionForm.doi_tuong_id}\r\n                        onChange={(e) => setTransactionForm({ ...transactionForm, doi_tuong_id: e.target.value })}\r\n                        className=\"w-full px-4 py-2 border rounded-lg\"\r\n                      >\r\n                        <option value=\"\">Chọn đối tượng</option>\r\n                        {getObjects(transactionForm.doi_tuong_loai).map(obj => (\r\n                          <option key={obj.id} value={obj.id}>\r\n                            {obj.code} - {obj.name}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  )}\r\n                </>\r\n              )}\r\n\r\n              {/* Danh mục */}\r\n              {transactionForm.loai !== 'chuyen' && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Danh mục *</label>\r\n                  <select\r\n                    value={transactionForm.danh_muc_id}\r\n                    onChange={(e) => setTransactionForm({ ...transactionForm, danh_muc_id: e.target.value })}\r\n                    className=\"w-full px-4 py-2 border rounded-lg\"\r\n                  >\r\n                    <option value=\"\">Chọn danh mục</option>\r\n                    {getCategories(transactionForm.loai).map(cat => (\r\n                      <option key={cat.id} value={cat.ma}>\r\n                        {cat.ten}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                  {categories.length === 0 && (\r\n                    <p className=\"text-xs text-orange-600 mt-1\">\r\n                      Chưa có danh mục. Vui lòng tạo ở menu \"Loại Thu Chi\"\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Thanh toán theo phiếu */}\r\n              {transactionForm.loai !== 'chuyen' && transactionForm.doi_tuong_loai !== 'khong' && (\r\n                <div className=\"border rounded-lg p-4 bg-gray-50\">\r\n                  <div className=\"flex items-center gap-2 mb-3\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"thanh-toan-phieu\"\r\n                      checked={transactionForm.thanh_toan_theo_phieu}\r\n                      onChange={(e) => setTransactionForm({ ...transactionForm, thanh_toan_theo_phieu: e.target.checked })}\r\n                      className=\"w-4 h-4\"\r\n                    />\r\n                    <label htmlFor=\"thanh-toan-phieu\" className=\"text-sm font-medium\">\r\n                      {transactionForm.loai === 'thu' ? 'Thu tiền' : 'Thanh toán'} theo phiếu\r\n                    </label>\r\n                  </div>\r\n\r\n                  {transactionForm.thanh_toan_theo_phieu && (\r\n                    <div className=\"space-y-3\">\r\n                      <button\r\n                        onClick={() => setShowReceiptModal(true)}\r\n                        className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2\"\r\n                      >\r\n                        <Plus className=\"w-4 h-4\" />Thêm phiếu\r\n                      </button>\r\n\r\n                      {transactionForm.chi_tiet_phieu.length > 0 && (\r\n                        <div className=\"space-y-2\">\r\n                          {transactionForm.chi_tiet_phieu.map((phieu, index) => (\r\n                            <div key={index} className=\"flex items-center justify-between bg-white p-3 rounded-lg border\">\r\n                              <div>\r\n                                <div className=\"font-medium text-sm\">\r\n                                  {phieu.loai_phieu === 'hoa_don' ? '📄 Hóa đơn' : phieu.loai_phieu === 'don_hang' ? '📦 Đơn hàng' : '📋 Phiếu'}: {phieu.so_phieu}\r\n                                </div>\r\n                                <div className=\"text-xs text-gray-600 mt-1\">\r\n                                  {new Date(phieu.ngay_phieu).toLocaleDateString('vi-VN')} • {phieu.so_tien.toLocaleString('vi-VN')} đ\r\n                                </div>\r\n                              </div>\r\n                              <button\r\n                                onClick={() => handleRemoveReceipt(index)}\r\n                                className=\"p-1 text-red-600 hover:bg-red-50 rounded\"\r\n                              >\r\n                                <X className=\"w-4 h-4\" />\r\n                              </button>\r\n                            </div>\r\n                          ))}\r\n                          <div className=\"text-right font-semibold text-blue-600\">\r\n                            Tổng: {transactionForm.chi_tiet_phieu.reduce((sum, p) => sum + p.so_tien, 0).toLocaleString('vi-VN')} đ\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Số tiền */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">Số tiền *</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={transactionForm.so_tien}\r\n                  onChange={(e) => setTransactionForm({ ...transactionForm, so_tien: e.target.value })}\r\n                  placeholder=\"VD: 5000000\"\r\n                  className=\"w-full px-4 py-2 border rounded-lg\"\r\n                  disabled={transactionForm.thanh_toan_theo_phieu && transactionForm.chi_tiet_phieu.length > 0}\r\n                />\r\n                {transactionForm.thanh_toan_theo_phieu && transactionForm.chi_tiet_phieu.length > 0 && (\r\n                  <p className=\"text-xs text-blue-600 mt-1\">\r\n                    Số tiền tự động tính từ các phiếu đã thêm\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Lý do & Ghi chú */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">Lý do *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={transactionForm.ly_do}\r\n                  onChange={(e) => setTransactionForm({ ...transactionForm, ly_do: e.target.value })}\r\n                  placeholder=\"VD: Thanh toán hóa đơn tháng 12...\"\r\n                  className=\"w-full px-4 py-2 border rounded-lg\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">Ghi chú</label>\r\n                <textarea\r\n                  value={transactionForm.ghi_chu}\r\n                  onChange={(e) => setTransactionForm({ ...transactionForm, ghi_chu: e.target.value })}\r\n                  placeholder=\"Ghi chú thêm...\"\r\n                  className=\"w-full px-4 py-2 border rounded-lg\"\r\n                  rows=\"2\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"border-t px-6 py-4 flex justify-end gap-2 sticky bottom-0 bg-white\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowAddModal(false);\r\n                  setTransactionForm({\r\n                    loai: 'chi',\r\n                    source_type: 'cash',\r\n                    source_id: '',\r\n                    target_id: '',\r\n                    ngay: new Date().toISOString().slice(0, 10),\r\n                    so_tien: '',\r\n                    doi_tuong_loai: 'khong',\r\n                    doi_tuong_id: '',\r\n                    doi_tuong_ten: '',\r\n                    danh_muc_id: '',\r\n                    thanh_toan_theo_phieu: false,\r\n                    chi_tiet_phieu: [],\r\n                    ly_do: '',\r\n                    ghi_chu: ''\r\n                  });\r\n                }}\r\n                className=\"px-4 py-2 border rounded-lg hover:bg-gray-50\"\r\n              >\r\n                Hủy\r\n              </button>\r\n              <button\r\n                onClick={handleAddTransaction}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n              >\r\n                Thêm giao dịch\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Receipt Modal */}\r\n      {showReceiptModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-2xl\">\r\n            <div className=\"border-b px-6 py-4\">\r\n              <h2 className=\"text-xl font-bold\">Thêm phiếu</h2>\r\n            </div>\r\n            <div className=\"p-6 space-y-4\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Loại phiếu *</label>\r\n                  <select\r\n                    value={receiptForm.loai_phieu}\r\n                    onChange={(e) => setReceiptForm({ ...receiptForm, loai_phieu: e.target.value })}\r\n                    className=\"w-full px-4 py-2 border rounded-lg\"\r\n                  >\r\n                    <option value=\"hoa_don\">Hóa đơn</option>\r\n                    <option value=\"don_hang\">Đơn hàng</option>\r\n                    <option value=\"phieu_nhap_kho\">Phiếu nhập kho</option>\r\n                    <option value=\"phieu_xuat_kho\">Phiếu xuất kho</option>\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Số phiếu *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={receiptForm.so_phieu}\r\n                    onChange={(e) => setReceiptForm({ ...receiptForm, so_phieu: e.target.value })}\r\n                    placeholder=\"VD: HD001\"\r\n                    className=\"w-full px-4 py-2 border rounded-lg\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Ngày phiếu *</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={receiptForm.ngay_phieu}\r\n                    onChange={(e) => setReceiptForm({ ...receiptForm, ngay_phieu: e.target.value })}\r\n                    className=\"w-full px-4 py-2 border rounded-lg\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">Số tiền *</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={receiptForm.so_tien}\r\n                    onChange={(e) => setReceiptForm({ ...receiptForm, so_tien: e.target.value })}\r\n                    placeholder=\"VD: 5000000\"\r\n                    className=\"w-full px-4 py-2 border rounded-lg\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">Ghi chú</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={receiptForm.ghi_chu}\r\n                  onChange={(e) => setReceiptForm({ ...receiptForm, ghi_chu: e.target.value })}\r\n                  placeholder=\"Ghi chú thêm...\"\r\n                  className=\"w-full px-4 py-2 border rounded-lg\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"border-t px-6 py-4 flex justify-end gap-2\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowReceiptModal(false);\r\n                  setReceiptForm({\r\n                    loai_phieu: 'hoa_don',\r\n                    so_phieu: '',\r\n                    ngay_phieu: new Date().toISOString().slice(0, 10),\r\n                    so_tien: '',\r\n                    ghi_chu: ''\r\n                  });\r\n                }}\r\n                className=\"px-4 py-2 border rounded-lg hover:bg-gray-50\"\r\n              >\r\n                Hủy\r\n              </button>\r\n              <button\r\n                onClick={handleAddReceipt}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n              >\r\n                Thêm phiếu\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CashBook;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}