{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\app\\\\src\\\\pages\\\\SalesOrder.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Plus, Search, Edit, Trash2, Eye, X, ShoppingCart, QrCode, Calendar } from 'lucide-react';\nimport TextInput from '../components/TextInput';\nimport TextArea from '../components/TextArea';\n\n// ============================================================================\n// HELPER FUNCTIONS\n// ============================================================================\n\n// Tạo số đơn hàng tự động: DHXyyyymmxxx\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst generateSoDonHang = existingOrders => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  const prefix = `DHX${year}${month}`;\n  const currentMonthOrders = existingOrders.filter(o => {\n    var _o$so_don_hang;\n    return (_o$so_don_hang = o.so_don_hang) === null || _o$so_don_hang === void 0 ? void 0 : _o$so_don_hang.startsWith(prefix);\n  });\n  let maxNum = 0;\n  currentMonthOrders.forEach(o => {\n    const num = parseInt(o.so_don_hang.slice(-3));\n    if (!isNaN(num) && num > maxNum) {\n      maxNum = num;\n    }\n  });\n  const newNum = String(maxNum + 1).padStart(3, '0');\n  return `${prefix}${newNum}`;\n};\n\n// Lấy tên khách hàng\nconst getCustomerName = (customerId, customers) => {\n  if (!customerId || !customers) return '';\n  const customer = customers.find(c => c.id === customerId);\n  return (customer === null || customer === void 0 ? void 0 : customer.ten_khach_hang) || (customer === null || customer === void 0 ? void 0 : customer.name) || '';\n};\n\n// Lấy mã khách hàng\nconst getCustomerCode = (customerId, customers) => {\n  if (!customerId || !customers) return '';\n  const customer = customers.find(c => c.id === customerId);\n  return (customer === null || customer === void 0 ? void 0 : customer.ma_khach_hang) || (customer === null || customer === void 0 ? void 0 : customer.code) || '';\n};\n\n// Tạo danh sách tháng cho dropdown\nconst generateMonthOptions = () => {\n  const months = [];\n  const currentDate = new Date();\n\n  // Tạo 12 tháng gần nhất (6 tháng trước + tháng hiện tại + 5 tháng sau)\n  for (let i = -6; i <= 5; i++) {\n    const date = new Date(currentDate.getFullYear(), currentDate.getMonth() + i, 1);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    months.push({\n      value: `${year}-${month}`,\n      label: `Tháng ${month}/${year}`\n    });\n  }\n  return months;\n};\n\n// Format tháng hiện tại\nconst getCurrentMonth = () => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  return `${year}-${month}`;\n};\n\n// ============================================================================\n// MAIN COMPONENT  \n// ============================================================================\n\nfunction SalesOrder() {\n  _s();\n  const loadOrders = () => {\n    const saved = localStorage.getItem('salesOrders');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadProducts = () => {\n    const saved = localStorage.getItem('products');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadCustomers = () => {\n    const saved = localStorage.getItem('customers');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const [orders, setOrders] = useState(loadOrders);\n  const [products, setProducts] = useState(loadProducts);\n  const [customers, setCustomers] = useState(loadCustomers);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedMonth, setSelectedMonth] = useState(getCurrentMonth());\n  const [showModal, setShowModal] = useState(false);\n  const [editingOrder, setEditingOrder] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showProductModal, setShowProductModal] = useState(false);\n  const [productSearchTerm, setProductSearchTerm] = useState('');\n  const [showQRModal, setShowQRModal] = useState(false);\n  const [qrData, setQRData] = useState(null);\n\n  // Ref cho auto focus số lượng\n  const quantityInputRefs = useRef({});\n  const [form, setForm] = useState({\n    so_don_hang: '',\n    khach_hang_id: '',\n    ngay_dat: new Date().toISOString().split('T')[0],\n    ngay_giao_du_kien: '',\n    chi_tiet: [],\n    ghi_chu: ''\n  });\n  useEffect(() => {\n    localStorage.setItem('salesOrders', JSON.stringify(orders));\n  }, [orders]);\n  useEffect(() => {\n    setProducts(loadProducts());\n    setCustomers(loadCustomers());\n  }, []);\n\n  // ============================================================================\n  // FORM HANDLERS\n  // ============================================================================\n\n  const handleSubmit = () => {\n    if (!form.so_don_hang.trim() || !form.khach_hang_id) {\n      alert('Vui lòng điền đầy đủ Số đơn hàng và Khách hàng!');\n      return;\n    }\n    if (form.chi_tiet.length === 0) {\n      alert('Vui lòng thêm ít nhất 1 sản phẩm!');\n      return;\n    }\n\n    // Check số lượng (chỉ check mẹ, con tự động)\n    const hasInvalidQty = form.chi_tiet.some(item => !item.la_thanh_phan_con && (!item.so_luong || item.so_luong <= 0));\n    if (hasInvalidQty) {\n      alert('Vui lòng nhập số lượng cho tất cả sản phẩm mẹ!');\n      return;\n    }\n    const orderData = {\n      so_don_hang: form.so_don_hang.trim(),\n      khach_hang_id: form.khach_hang_id,\n      ngay_dat: form.ngay_dat,\n      ngay_giao_du_kien: form.ngay_giao_du_kien,\n      chi_tiet: form.chi_tiet.map(item => ({\n        ...item,\n        so_luong: parseFloat(item.so_luong) || 0,\n        thanh_tien: (parseFloat(item.so_luong) || 0) * parseFloat(item.don_gia)\n      })),\n      tong_tien: form.chi_tiet.reduce((sum, item) => sum + (parseFloat(item.so_luong) || 0) * parseFloat(item.don_gia), 0),\n      ghi_chu: form.ghi_chu.trim()\n    };\n    if (editingOrder) {\n      setOrders(orders.map(o => o.id === editingOrder.id ? {\n        ...o,\n        ...orderData\n      } : o));\n      alert('Đã cập nhật đơn hàng!');\n    } else {\n      const newOrder = {\n        id: Date.now(),\n        ...orderData,\n        ngay_tao: new Date().toISOString()\n      };\n      setOrders([...orders, newOrder]);\n      alert('Đã tạo đơn hàng mới!');\n    }\n    resetForm();\n    setShowModal(false);\n  };\n  const resetForm = () => {\n    // Reload customers mỗi lần reset form\n    const latestCustomers = loadCustomers();\n    setCustomers(latestCustomers);\n    setForm({\n      so_don_hang: generateSoDonHang(orders),\n      khach_hang_id: '',\n      ngay_dat: new Date().toISOString().split('T')[0],\n      ngay_giao_du_kien: '',\n      chi_tiet: [],\n      ghi_chu: ''\n    });\n    setEditingOrder(null);\n    quantityInputRefs.current = {};\n  };\n  const handleEdit = order => {\n    setForm({\n      ...order,\n      chi_tiet: order.chi_tiet.map(item => ({\n        ...item,\n        so_luong: item.so_luong.toString()\n      }))\n    });\n    setEditingOrder(order);\n    setShowModal(true);\n  };\n  const handleDelete = id => {\n    if (window.confirm('Bạn có chắc muốn xóa đơn hàng này?')) {\n      setOrders(orders.filter(o => o.id !== id));\n      alert('Đã xóa đơn hàng!');\n    }\n  };\n\n  // ============================================================================\n  // QR CODE HANDLER\n  // ============================================================================\n\n  const handleShowQR = (soDonHang, maHang) => {\n    setQRData({\n      code: `${soDonHang}-${maHang}`,\n      soDonHang: soDonHang,\n      maHang: maHang\n    });\n    setShowQRModal(true);\n  };\n\n  // ============================================================================\n  // PRODUCT HANDLERS - MẸ + CON TỰ ĐỘNG\n  // ============================================================================\n\n  const handleAddProduct = product => {\n    var _product$cong_doan, _product$cong_doan2, _product$cong_doan3, _product$cong_doan4, _product$cong_doan5, _product$cong_doan6, _product$cong_doan7, _product$cong_doan8, _product$cong_doan9, _product$cong_doan0, _product$cong_doan1, _product$cong_doan10, _product$cong_doan11;\n    const ktpo = product.po_cao ? `${product.po_dai}×${product.po_rong}×${product.po_cao}` : `${product.po_dai}×${product.po_rong}`;\n    const ktsx = product.sx_dai || product.sx_rong || product.sx_cao ? `${product.sx_dai || product.po_dai}×${product.sx_rong || product.po_rong}${product.sx_cao || product.po_cao ? '×' + (product.sx_cao || product.po_cao) : ''}` : ktpo;\n    const newItems = [];\n\n    // 1. THÊM MẸ\n    const parentItem = {\n      id: Date.now(),\n      thanh_pham_id: product.id,\n      ma_hang: product.ma_hang,\n      ten_san_pham: product.ten_san_pham,\n      ktpo: ktpo,\n      ktsx: ktsx,\n      song: product.song || 'N/A',\n      dvt: product.dvt || 'Cái',\n      kieu: product.kieu || '',\n      don_gia: product.don_gia || 0,\n      so_luong: '',\n      thanh_tien: 0,\n      hoa_hong_co_dinh: product.hoa_hong_co_dinh || 0,\n      hoa_hong_phan_tram: product.hoa_hong_phan_tram || 0,\n      cho_phep_sai_lech: product.cho_phep_sai_lech || false,\n      sai_lech_so_luong: product.sai_lech_so_luong || 0,\n      sai_lech_phan_tram: product.sai_lech_phan_tram || 0,\n      cong_doan: {\n        xa: ((_product$cong_doan = product.cong_doan) === null || _product$cong_doan === void 0 ? void 0 : _product$cong_doan.xa) || 0,\n        ma_phim: ((_product$cong_doan2 = product.cong_doan) === null || _product$cong_doan2 === void 0 ? void 0 : _product$cong_doan2.ma_phim) || '',\n        so_mau: ((_product$cong_doan3 = product.cong_doan) === null || _product$cong_doan3 === void 0 ? void 0 : _product$cong_doan3.so_mau) || 0,\n        in: ((_product$cong_doan4 = product.cong_doan) === null || _product$cong_doan4 === void 0 ? void 0 : _product$cong_doan4.in) || 0,\n        boi: ((_product$cong_doan5 = product.cong_doan) === null || _product$cong_doan5 === void 0 ? void 0 : _product$cong_doan5.boi) || 0,\n        can_mang: ((_product$cong_doan6 = product.cong_doan) === null || _product$cong_doan6 === void 0 ? void 0 : _product$cong_doan6.can_mang) || 0,\n        ma_khuon: ((_product$cong_doan7 = product.cong_doan) === null || _product$cong_doan7 === void 0 ? void 0 : _product$cong_doan7.ma_khuon) || '',\n        be: ((_product$cong_doan8 = product.cong_doan) === null || _product$cong_doan8 === void 0 ? void 0 : _product$cong_doan8.be) || 0,\n        chap: ((_product$cong_doan9 = product.cong_doan) === null || _product$cong_doan9 === void 0 ? void 0 : _product$cong_doan9.chap) || 0,\n        dong: ((_product$cong_doan0 = product.cong_doan) === null || _product$cong_doan0 === void 0 ? void 0 : _product$cong_doan0.dong) || 0,\n        dan: ((_product$cong_doan1 = product.cong_doan) === null || _product$cong_doan1 === void 0 ? void 0 : _product$cong_doan1.dan) || 0,\n        khac: ((_product$cong_doan10 = product.cong_doan) === null || _product$cong_doan10 === void 0 ? void 0 : _product$cong_doan10.khac) || 0,\n        khac_ghi_chu: ((_product$cong_doan11 = product.cong_doan) === null || _product$cong_doan11 === void 0 ? void 0 : _product$cong_doan11.khac_ghi_chu) || ''\n      },\n      ghi_chu: product.ghi_chu || '',\n      la_thanh_phan_con: false,\n      thanh_pham_me_id: null\n    };\n    newItems.push(parentItem);\n\n    // 2. THÊM CON (nếu có)\n    if (product.co_thanh_phan_con && product.thanh_phan_con && product.thanh_phan_con.length > 0) {\n      product.thanh_phan_con.forEach((con, index) => {\n        var _con$cong_doan, _con$cong_doan2, _con$cong_doan3, _con$cong_doan4, _con$cong_doan5, _con$cong_doan6, _con$cong_doan7, _con$cong_doan8, _con$cong_doan9, _con$cong_doan0, _con$cong_doan1, _con$cong_doan10, _con$cong_doan11;\n        const conKtpo = con.po_cao ? `${con.po_dai}×${con.po_rong}×${con.po_cao}` : `${con.po_dai}×${con.po_rong}`;\n        const conKtsx = con.sx_dai || con.sx_rong || con.sx_cao ? `${con.sx_dai || con.po_dai}×${con.sx_rong || con.po_rong}${con.sx_cao || con.po_cao ? '×' + (con.sx_cao || con.po_cao) : ''}` : conKtpo;\n        const childItem = {\n          id: Date.now() + index + 1,\n          thanh_pham_id: `${product.id}_${con.ma_hang_con}`,\n          ma_hang: con.ma_hang_con,\n          ten_san_pham: con.ten,\n          ktpo: conKtpo,\n          ktsx: conKtsx,\n          song: con.song || product.song || 'N/A',\n          dvt: con.dvt || product.dvt || 'Cái',\n          kieu: con.kieu || product.kieu || '',\n          don_gia: con.don_gia || 0,\n          so_luong: '',\n          // Sẽ tự động tính từ mẹ\n          thanh_tien: 0,\n          hoa_hong_co_dinh: 0,\n          hoa_hong_phan_tram: 0,\n          cho_phep_sai_lech: false,\n          sai_lech_so_luong: 0,\n          sai_lech_phan_tram: 0,\n          cong_doan: {\n            xa: ((_con$cong_doan = con.cong_doan) === null || _con$cong_doan === void 0 ? void 0 : _con$cong_doan.xa) || 0,\n            ma_phim: ((_con$cong_doan2 = con.cong_doan) === null || _con$cong_doan2 === void 0 ? void 0 : _con$cong_doan2.ma_phim) || '',\n            so_mau: ((_con$cong_doan3 = con.cong_doan) === null || _con$cong_doan3 === void 0 ? void 0 : _con$cong_doan3.so_mau) || 0,\n            in: ((_con$cong_doan4 = con.cong_doan) === null || _con$cong_doan4 === void 0 ? void 0 : _con$cong_doan4.in) || 0,\n            boi: ((_con$cong_doan5 = con.cong_doan) === null || _con$cong_doan5 === void 0 ? void 0 : _con$cong_doan5.boi) || 0,\n            can_mang: ((_con$cong_doan6 = con.cong_doan) === null || _con$cong_doan6 === void 0 ? void 0 : _con$cong_doan6.can_mang) || 0,\n            ma_khuon: ((_con$cong_doan7 = con.cong_doan) === null || _con$cong_doan7 === void 0 ? void 0 : _con$cong_doan7.ma_khuon) || '',\n            be: ((_con$cong_doan8 = con.cong_doan) === null || _con$cong_doan8 === void 0 ? void 0 : _con$cong_doan8.be) || 0,\n            chap: ((_con$cong_doan9 = con.cong_doan) === null || _con$cong_doan9 === void 0 ? void 0 : _con$cong_doan9.chap) || 0,\n            dong: ((_con$cong_doan0 = con.cong_doan) === null || _con$cong_doan0 === void 0 ? void 0 : _con$cong_doan0.dong) || 0,\n            dan: ((_con$cong_doan1 = con.cong_doan) === null || _con$cong_doan1 === void 0 ? void 0 : _con$cong_doan1.dan) || 0,\n            khac: ((_con$cong_doan10 = con.cong_doan) === null || _con$cong_doan10 === void 0 ? void 0 : _con$cong_doan10.khac) || 0,\n            khac_ghi_chu: ((_con$cong_doan11 = con.cong_doan) === null || _con$cong_doan11 === void 0 ? void 0 : _con$cong_doan11.khac_ghi_chu) || ''\n          },\n          ghi_chu: con.ghi_chu || '',\n          la_thanh_phan_con: true,\n          thanh_pham_me_id: parentItem.id,\n          so_luong_con_theo_me: con.so_luong || 1 // Tỷ lệ: 1 mẹ = bao nhiêu con\n        };\n        newItems.push(childItem);\n      });\n    }\n    setForm({\n      ...form,\n      chi_tiet: [...form.chi_tiet, ...newItems]\n    });\n    setShowProductModal(false);\n    setProductSearchTerm('');\n\n    // Auto focus vào SL của mẹ\n    setTimeout(() => {\n      const input = quantityInputRefs.current[parentItem.id];\n      if (input) {\n        input.focus();\n        input.select();\n      }\n    }, 100);\n  };\n  const handleUpdateQuantity = (itemId, value) => {\n    const item = form.chi_tiet.find(i => i.id === itemId);\n    if (!item) return;\n\n    // Nếu là mẹ → update cả con\n    if (!item.la_thanh_phan_con) {\n      const meQty = parseFloat(value) || 0;\n      setForm({\n        ...form,\n        chi_tiet: form.chi_tiet.map(i => {\n          // Update mẹ\n          if (i.id === itemId) {\n            return {\n              ...i,\n              so_luong: value,\n              thanh_tien: meQty * parseFloat(i.don_gia)\n            };\n          }\n\n          // Update con (nếu thuộc về mẹ này)\n          if (i.la_thanh_phan_con && i.thanh_pham_me_id === itemId) {\n            const conQty = meQty * (i.so_luong_con_theo_me || 1);\n            return {\n              ...i,\n              so_luong: conQty.toString(),\n              thanh_tien: conQty * parseFloat(i.don_gia)\n            };\n          }\n          return i;\n        })\n      });\n    }\n    // Con không được edit trực tiếp\n  };\n  const handleRemoveItem = itemId => {\n    const item = form.chi_tiet.find(i => i.id === itemId);\n    if (!item) return;\n\n    // Nếu xóa mẹ → xóa cả con\n    if (!item.la_thanh_phan_con) {\n      if (window.confirm('Xóa sản phẩm mẹ sẽ xóa cả các thành phần con. Bạn có chắc?')) {\n        setForm({\n          ...form,\n          chi_tiet: form.chi_tiet.filter(i => i.id !== itemId && i.thanh_pham_me_id !== itemId)\n        });\n      }\n    } else {\n      // Không cho xóa con riêng lẻ\n      alert('Không thể xóa thành phần con riêng lẻ. Vui lòng xóa sản phẩm mẹ.');\n    }\n  };\n\n  // ============================================================================\n  // PRODUCT SELECTION - CHỈ MẸ\n  // ============================================================================\n\n  const getParentProductsOnly = () => {\n    return products.map(product => {\n      var _product$thanh_phan_c;\n      return {\n        ...product,\n        displayName: product.co_thanh_phan_con && ((_product$thanh_phan_c = product.thanh_phan_con) === null || _product$thanh_phan_c === void 0 ? void 0 : _product$thanh_phan_c.length) > 0 ? `${product.ma_hang} - ${product.ten_san_pham} (có ${product.thanh_phan_con.length} con)` : `${product.ma_hang} - ${product.ten_san_pham}`\n      };\n    });\n  };\n  const filteredProducts = getParentProductsOnly().filter(p => {\n    const searchLower = productSearchTerm.toLowerCase();\n    return p.ma_hang.toLowerCase().includes(searchLower) || (p.ten_san_pham || '').toLowerCase().includes(searchLower) || p.displayName.toLowerCase().includes(searchLower);\n  });\n\n  // ============================================================================\n  // FILTERS - Theo tháng\n  // ============================================================================\n\n  const filteredOrders = orders.filter(o => {\n    // Filter theo tháng\n    const orderYearMonth = o.so_don_hang.slice(3, 9); // DHX202512001 → 202512\n    const selectedYearMonth = selectedMonth.replace('-', ''); // 2025-12 → 202512\n\n    if (orderYearMonth !== selectedYearMonth) return false;\n\n    // Filter theo search term\n    if (searchTerm) {\n      const searchLower = searchTerm.toLowerCase();\n      const customerName = getCustomerName(o.khach_hang_id, customers);\n      const customerCode = getCustomerCode(o.khach_hang_id, customers);\n      return o.so_don_hang.toLowerCase().includes(searchLower) || customerName.toLowerCase().includes(searchLower) || customerCode.toLowerCase().includes(searchLower);\n    }\n    return true;\n  });\n\n  // ============================================================================\n  // RENDER\n  // ============================================================================\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: \"\\u0110\\u01A1n h\\xE0ng Xu\\u1EA5t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Qu\\u1EA3n l\\xFD \\u0111\\u01A1n h\\xE0ng xu\\u1EA5t kho\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          resetForm();\n          setShowModal(true);\n        },\n        className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 11\n        }, this), \"T\\u1EA1o \\u0111\\u01A1n h\\xE0ng\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-sm border p-4 space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Calendar, {\n              className: \"w-4 h-4 inline mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 15\n            }, this), \"L\\u1ECDc theo th\\xE1ng\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedMonth,\n            onChange: e => setSelectedMonth(e.target.value),\n            className: \"w-full px-4 py-2 border rounded-lg bg-white\",\n            children: generateMonthOptions().map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: opt.value,\n              children: opt.label\n            }, opt.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"w-4 h-4 inline mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 15\n            }, this), \"T\\xECm ki\\u1EBFm\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            placeholder: \"S\\u1ED1 \\u0111\\u01A1n h\\xE0ng, kh\\xE1ch h\\xE0ng...\",\n            className: \"w-full px-4 py-2 border rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: [\"Hi\\u1EC3n th\\u1ECB \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-blue-600\",\n          children: filteredOrders.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 20\n        }, this), \" \\u0111\\u01A1n h\\xE0ng\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [filteredOrders.map(order => {\n        const customerName = getCustomerName(order.khach_hang_id, customers);\n        const customerCode = getCustomerCode(order.khach_hang_id, customers);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-sm border overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-blue-50 to-purple-50 px-6 py-4 border-b flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n                className: \"w-6 h-6 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-bold text-lg text-blue-900\",\n                  children: order.so_don_hang\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 551,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-3 text-sm text-gray-600 mt-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDCE6 KH: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-gray-900\",\n                      children: [customerCode, \" - \", customerName]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 553,\n                      columnNumber: 36\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u2022\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 554,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDCC5 \\u0110\\u1EB7t: \", new Date(order.ngay_dat).toLocaleDateString('vi-VN')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 555,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u2022\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 556,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDE9A Giao: \", new Date(order.ngay_giao_du_kien).toLocaleDateString('vi-VN')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 557,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"T\\u1ED5ng ti\\u1EC1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 563,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-green-600\",\n                  children: [order.tong_tien.toLocaleString('vi-VN'), \"\\u0111\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setSelectedOrder(order);\n                  setShowDetailModal(true);\n                },\n                className: \"p-2 text-purple-600 hover:bg-purple-50 rounded-lg\",\n                title: \"Xem chi ti\\u1EBFt\",\n                children: /*#__PURE__*/_jsxDEV(Eye, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 576,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEdit(order),\n                className: \"p-2 text-blue-600 hover:bg-blue-50 rounded-lg\",\n                title: \"S\\u1EEDa\",\n                children: /*#__PURE__*/_jsxDEV(Edit, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 583,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDelete(order.id),\n                className: \"p-2 text-red-600 hover:bg-red-50 rounded-lg\",\n                title: \"X\\xF3a\",\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 590,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-6 py-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"S\\u1EA3n ph\\u1EA9m:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 597,\n                columnNumber: 19\n              }, this), \" \", order.chi_tiet.length, \" m\\u1EB7t h\\xE0ng\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 17\n            }, this), order.ghi_chu && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-gray-700\",\n                children: \"Ghi ch\\xFA:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 601,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600 ml-2\",\n                children: order.ghi_chu\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 602,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 15\n          }, this)]\n        }, order.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 13\n        }, this);\n      }), filteredOrders.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm border p-12 text-center text-gray-500\",\n        children: [\"Kh\\xF4ng c\\xF3 \\u0111\\u01A1n h\\xE0ng n\\xE0o trong th\\xE1ng \", selectedMonth.split('-')[1], \"/\", selectedMonth.split('-')[0]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 611,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full max-w-7xl my-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sticky top-0 bg-white border-b px-6 py-4 z-10 rounded-t-xl\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold\",\n              children: editingOrder ? 'Sửa đơn hàng' : 'Tạo đơn hàng mới'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowModal(false);\n                resetForm();\n              },\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: [\"S\\u1ED1 \\u0111\\u01A1n h\\xE0ng * \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"(T\\u1EF1 \\u0111\\u1ED9ng)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 643,\n                  columnNumber: 35\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 642,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: form.so_don_hang,\n                readOnly: true,\n                className: \"w-full px-4 py-2 border rounded-lg bg-gray-50 font-mono font-bold text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 645,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Kh\\xE1ch h\\xE0ng *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 654,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: form.khach_hang_id,\n                onChange: e => {\n                  const selectedCustomer = customers.find(c => c.id === e.target.value);\n                  console.log('Selected customer:', selectedCustomer);\n                  setForm({\n                    ...form,\n                    khach_hang_id: e.target.value\n                  });\n                },\n                className: \"w-full px-4 py-2 border rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"-- Ch\\u1ECDn m\\xE3 kh\\xE1ch h\\xE0ng --\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 21\n                }, this), customers.map(c => {\n                  const maKH = c.ma_khach_hang || c.code || c.id;\n                  const tenKH = c.ten_khach_hang || c.name || '';\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: c.id,\n                    \"data-name\": tenKH,\n                    children: maKH\n                  }, c.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 669,\n                    columnNumber: 25\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 19\n              }, this), form.khach_hang_id && (() => {\n                const selectedCustomer = customers.find(c => c.id === form.khach_hang_id);\n                const customerName = (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.ten_khach_hang) || (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.name) || '';\n                return customerName ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-blue-600 mt-1 font-medium\",\n                  children: [\"\\u2192 \", customerName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 679,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-red-500 mt-1\",\n                  children: [\"\\u26A0 Kh\\xF4ng t\\xECm th\\u1EA5y t\\xEAn kh\\xE1ch h\\xE0ng (ID: \", form.khach_hang_id, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 683,\n                  columnNumber: 23\n                }, this);\n              })()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Ng\\xE0y \\u0111\\u1EB7t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 691,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: form.ngay_dat,\n                onChange: e => setForm({\n                  ...form,\n                  ngay_dat: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 692,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Ng\\xE0y giao d\\u1EF1 ki\\u1EBFn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 701,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: form.ngay_giao_du_kien,\n                onChange: e => setForm({\n                  ...form,\n                  ngay_giao_du_kien: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 702,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 700,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded-lg p-4 bg-gray-50\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-bold text-lg\",\n                children: \"Chi ti\\u1EBFt s\\u1EA3n ph\\u1EA9m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 714,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowProductModal(true),\n                className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Plus, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 719,\n                  columnNumber: 21\n                }, this), \"Th\\xEAm s\\u1EA3n ph\\u1EA9m\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 715,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 713,\n              columnNumber: 17\n            }, this), form.chi_tiet.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-x-auto border rounded-lg bg-white\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-100 sticky top-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold sticky left-0 bg-gray-100 z-10 border-r\",\n                      children: \"M\\xE3 h\\xE0ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 729,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold\",\n                      children: \"T\\xEAn SP\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 730,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\",\n                      children: \"KTPO\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 731,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\",\n                      children: \"KTSX\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 732,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\",\n                      children: \"S\\xF3ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 733,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\",\n                      children: \"\\u0110VT\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 734,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\",\n                      children: \"Ki\\u1EC3u\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 735,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold bg-green-50\",\n                      children: \"\\u0110\\u01A1n gi\\xE1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 738,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold bg-yellow-50\",\n                      children: \"SL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 739,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold bg-green-50 border-r\",\n                      children: \"Th\\xE0nh ti\\u1EC1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 740,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold\",\n                      children: \"HH c\\u1ED1 \\u0111\\u1ECBnh\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 741,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border-r\",\n                      children: \"HH %\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 742,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold bg-blue-50\",\n                      children: \"X\\u1EA3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 745,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold bg-blue-50\",\n                      children: \"M\\xE3 phim\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 746,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold bg-blue-50\",\n                      children: \"S\\u1ED1 m\\xE0u\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 747,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold bg-blue-50\",\n                      children: \"In\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 748,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold bg-blue-50\",\n                      children: \"B\\u1ED3i\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 749,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold bg-blue-50\",\n                      children: \"C\\xE1n m\\xE0ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 750,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold bg-blue-50\",\n                      children: \"M\\xE3 khu\\xF4n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 751,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold bg-blue-50\",\n                      children: \"B\\u1EBF\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 752,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold bg-blue-50\",\n                      children: \"Ch\\u1EA1p\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 753,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold bg-blue-50\",\n                      children: \"\\u0110\\xF3ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 754,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold bg-blue-50\",\n                      children: \"D\\xE1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 755,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold bg-blue-50\",\n                      children: \"Kh\\xE1c\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 756,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold bg-blue-50 border-r\",\n                      children: \"Ghi ch\\xFA Kh\\xE1c\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 757,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold\",\n                      children: \"Ghi ch\\xFA\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 760,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\",\n                      children: \"QR\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 761,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 762,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 727,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 726,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  className: \"divide-y\",\n                  children: form.chi_tiet.map(item => {\n                    var _item$cong_doan, _item$cong_doan2, _item$cong_doan3, _item$cong_doan4, _item$cong_doan5, _item$cong_doan6, _item$cong_doan7, _item$cong_doan8, _item$cong_doan9, _item$cong_doan0, _item$cong_doan1, _item$cong_doan10, _item$cong_doan11;\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: item.la_thanh_phan_con ? 'bg-purple-50' : '',\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 sticky left-0 bg-white z-10 border-r\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `font-medium ${item.la_thanh_phan_con ? 'text-purple-700 pl-4' : 'text-blue-600'}`,\n                          children: [item.la_thanh_phan_con && '↳ ', item.ma_hang]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 770,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 769,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2\",\n                        children: item.ten_san_pham\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 775,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs\",\n                        children: item.ktpo\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 776,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs\",\n                        children: item.ktsx\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 777,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-gray-100 rounded text-xs\",\n                          children: item.song\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 779,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 778,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs\",\n                        children: item.dvt\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 783,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs\",\n                          children: item.kieu || '-'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 785,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 784,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right bg-green-50\",\n                        children: parseFloat(item.don_gia).toLocaleString('vi-VN')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 791,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 bg-yellow-50\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          ref: el => quantityInputRefs.current[item.id] = el,\n                          type: \"number\",\n                          value: item.so_luong,\n                          onChange: e => handleUpdateQuantity(item.id, e.target.value),\n                          className: \"w-20 px-2 py-1 border rounded text-right\",\n                          min: \"0\",\n                          placeholder: \"0\",\n                          disabled: item.la_thanh_phan_con\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 795,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 794,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right font-semibold text-green-600 bg-green-50 border-r\",\n                        children: item.thanh_tien.toLocaleString('vi-VN')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 806,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right text-xs\",\n                        children: item.hoa_hong_co_dinh ? item.hoa_hong_co_dinh.toLocaleString('vi-VN') : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 809,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right text-xs border-r\",\n                        children: item.hoa_hong_phan_tram ? `${item.hoa_hong_phan_tram}%` : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 812,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center bg-blue-50 text-xs\",\n                        children: ((_item$cong_doan = item.cong_doan) === null || _item$cong_doan === void 0 ? void 0 : _item$cong_doan.xa) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 817,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center bg-blue-50\",\n                        children: (_item$cong_doan2 = item.cong_doan) !== null && _item$cong_doan2 !== void 0 && _item$cong_doan2.ma_phim ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-medium\",\n                          children: item.cong_doan.ma_phim\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 822,\n                          columnNumber: 33\n                        }, this) : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 820,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center bg-blue-50 text-xs\",\n                        children: ((_item$cong_doan3 = item.cong_doan) === null || _item$cong_doan3 === void 0 ? void 0 : _item$cong_doan3.so_mau) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 827,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center bg-blue-50 text-xs\",\n                        children: ((_item$cong_doan4 = item.cong_doan) === null || _item$cong_doan4 === void 0 ? void 0 : _item$cong_doan4.in) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 830,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center bg-blue-50 text-xs\",\n                        children: ((_item$cong_doan5 = item.cong_doan) === null || _item$cong_doan5 === void 0 ? void 0 : _item$cong_doan5.boi) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 833,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center bg-blue-50 text-xs\",\n                        children: ((_item$cong_doan6 = item.cong_doan) === null || _item$cong_doan6 === void 0 ? void 0 : _item$cong_doan6.can_mang) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 836,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center bg-blue-50\",\n                        children: (_item$cong_doan7 = item.cong_doan) !== null && _item$cong_doan7 !== void 0 && _item$cong_doan7.ma_khuon ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-xs font-medium\",\n                          children: item.cong_doan.ma_khuon\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 841,\n                          columnNumber: 33\n                        }, this) : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 839,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center bg-blue-50 text-xs\",\n                        children: ((_item$cong_doan8 = item.cong_doan) === null || _item$cong_doan8 === void 0 ? void 0 : _item$cong_doan8.be) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 846,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center bg-blue-50 text-xs\",\n                        children: ((_item$cong_doan9 = item.cong_doan) === null || _item$cong_doan9 === void 0 ? void 0 : _item$cong_doan9.chap) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 849,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center bg-blue-50 text-xs\",\n                        children: ((_item$cong_doan0 = item.cong_doan) === null || _item$cong_doan0 === void 0 ? void 0 : _item$cong_doan0.dong) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 852,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center bg-blue-50 text-xs\",\n                        children: ((_item$cong_doan1 = item.cong_doan) === null || _item$cong_doan1 === void 0 ? void 0 : _item$cong_doan1.dan) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 855,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center bg-blue-50 text-xs\",\n                        children: ((_item$cong_doan10 = item.cong_doan) === null || _item$cong_doan10 === void 0 ? void 0 : _item$cong_doan10.khac) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 858,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-left bg-blue-50 text-xs border-r\",\n                        children: ((_item$cong_doan11 = item.cong_doan) === null || _item$cong_doan11 === void 0 ? void 0 : _item$cong_doan11.khac_ghi_chu) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 861,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-xs\",\n                        children: item.ghi_chu || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 866,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleShowQR(form.so_don_hang, item.ma_hang),\n                          className: \"p-1 text-green-600 hover:bg-green-50 rounded\",\n                          title: \"Xem QR Code\",\n                          children: /*#__PURE__*/_jsxDEV(QrCode, {\n                            className: \"w-4 h-4\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 875,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 870,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 869,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleRemoveItem(item.id),\n                          className: \"p-1 text-red-600 hover:bg-red-50 rounded\",\n                          title: item.la_thanh_phan_con ? 'Không thể xóa con riêng lẻ' : 'Xóa',\n                          children: /*#__PURE__*/_jsxDEV(X, {\n                            className: \"w-4 h-4\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 884,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 879,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 878,\n                        columnNumber: 29\n                      }, this)]\n                    }, item.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 767,\n                      columnNumber: 27\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 765,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                  className: \"bg-gray-50 border-t-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"9\",\n                      className: \"px-3 py-3 text-right font-bold\",\n                      children: \"T\\u1ED5ng ti\\u1EC1n:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 892,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-3 text-right font-bold text-green-600 text-lg\",\n                      children: [form.chi_tiet.reduce((sum, item) => sum + item.thanh_tien, 0).toLocaleString('vi-VN'), \"\\u0111\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 895,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"18\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 898,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 891,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 890,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 724,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 text-gray-500 bg-white border rounded-lg\",\n              children: \"Ch\\u01B0a c\\xF3 s\\u1EA3n ph\\u1EA9m. Nh\\u1EA5n \\\"Th\\xEAm s\\u1EA3n ph\\u1EA9m\\\" \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 904,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 712,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"Ghi ch\\xFA \\u0111\\u01A1n h\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 912,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n              value: form.ghi_chu,\n              onChange: value => setForm({\n                ...form,\n                ghi_chu: value\n              }),\n              placeholder: \"Ghi ch\\xFA v\\u1EC1 \\u0111\\u01A1n h\\xE0ng...\",\n              rows: 3,\n              className: \"w-full px-4 py-2 border rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 913,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 911,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t px-6 py-4 flex justify-end gap-3 sticky bottom-0 bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowModal(false);\n              resetForm();\n            },\n            className: \"px-6 py-2 border rounded-lg hover:bg-gray-50\",\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 925,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            className: \"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 938,\n              columnNumber: 17\n            }, this), editingOrder ? 'Cập nhật' : 'Tạo đơn hàng']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 934,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 924,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 9\n    }, this), showProductModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold\",\n              children: \"Ch\\u1ECDn s\\u1EA3n ph\\u1EA9m (M\\u1EB9 + Con t\\u1EF1 \\u0111\\u1ED9ng)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 952,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowProductModal(false);\n                setProductSearchTerm('');\n              },\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 960,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 953,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 951,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 950,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 967,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: productSearchTerm,\n              onChange: e => setProductSearchTerm(e.target.value),\n              placeholder: \"T\\xECm ki\\u1EBFm m\\xE3 h\\xE0ng, t\\xEAn s\\u1EA3n ph\\u1EA9m...\",\n              className: \"w-full pl-10 pr-4 py-2 border rounded-lg\",\n              autoFocus: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 968,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 966,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-y-auto max-h-96 border rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-50 sticky top-0\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-left font-semibold\",\n                    children: \"M\\xE3 h\\xE0ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 982,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-left font-semibold\",\n                    children: \"T\\xEAn s\\u1EA3n ph\\u1EA9m\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 983,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-center font-semibold\",\n                    children: \"KTSX\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 984,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-center font-semibold\",\n                    children: \"S\\xF3ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 985,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-right font-semibold\",\n                    children: \"\\u0110\\u01A1n gi\\xE1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 986,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-center font-semibold\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 987,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 981,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 980,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                className: \"divide-y\",\n                children: filteredProducts.map(product => {\n                  var _product$thanh_phan_c2;\n                  const alreadyAdded = form.chi_tiet.some(item => item.thanh_pham_id === product.id && !item.la_thanh_phan_con);\n                  const ktsx = product.sx_dai || product.sx_rong || product.sx_cao ? `${product.sx_dai || product.po_dai}×${product.sx_rong || product.po_rong}${product.sx_cao || product.po_cao ? '×' + (product.sx_cao || product.po_cao) : ''}` : product.po_cao ? `${product.po_dai}×${product.po_rong}×${product.po_cao}` : `${product.po_dai}×${product.po_rong}`;\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"hover:bg-gray-50\",\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium text-blue-600\",\n                        children: product.ma_hang\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1003,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1002,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [product.ten_san_pham, product.co_thanh_phan_con && ((_product$thanh_phan_c2 = product.thanh_phan_con) === null || _product$thanh_phan_c2 === void 0 ? void 0 : _product$thanh_phan_c2.length) > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xs text-purple-600 ml-2\",\n                          children: [\"(\", product.thanh_phan_con.length, \" con)\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1011,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1008,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1007,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center text-xs\",\n                      children: ktsx\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1017,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"px-2 py-1 bg-gray-100 rounded text-xs\",\n                        children: product.song || 'N/A'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1019,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1018,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-right\",\n                      children: [(product.don_gia || 0).toLocaleString('vi-VN'), \"\\u0111\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1023,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleAddProduct(product),\n                        disabled: alreadyAdded,\n                        className: `px-3 py-1 rounded text-sm ${alreadyAdded ? 'bg-gray-200 text-gray-500 cursor-not-allowed' : 'bg-blue-600 text-white hover:bg-blue-700'}`,\n                        children: alreadyAdded ? 'Đã thêm' : 'Chọn'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1027,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1026,\n                      columnNumber: 27\n                    }, this)]\n                  }, product.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1001,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 990,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 979,\n              columnNumber: 17\n            }, this), filteredProducts.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 text-gray-500\",\n              children: \"Kh\\xF4ng t\\xECm th\\u1EA5y s\\u1EA3n ph\\u1EA9m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1046,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 978,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 965,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 949,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 948,\n      columnNumber: 9\n    }, this), showQRModal && qrData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl max-w-md w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b px-6 py-4 flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold\",\n            children: \"QR Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1061,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowQRModal(false);\n              setQRData(null);\n            },\n            className: \"text-gray-400 hover:text-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1069,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1062,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1060,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-100 p-8 rounded-lg mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(QrCode, {\n              className: \"w-48 h-48 mx-auto text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1075,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mt-4\",\n              children: \"\\uD83D\\uDD2E QR Code s\\u1EBD \\u0111\\u01B0\\u1EE3c t\\u1EA1o \\u1EDF \\u0111\\xE2y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1076,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1074,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold text-lg font-mono text-blue-600\",\n              children: qrData.code\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1082,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: [\"\\u0110\\u01A1n h\\xE0ng: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: qrData.soDonHang\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1086,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1085,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: [\"M\\xE3 h\\xE0ng: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: qrData.maHang\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1089,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1088,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1081,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 flex gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => alert('Tính năng in QR - Làm sau'),\n              className: \"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\",\n              children: \"In QR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1094,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowQRModal(false);\n                setQRData(null);\n              },\n              className: \"flex-1 border px-4 py-2 rounded-lg hover:bg-gray-50\",\n              children: \"\\u0110\\xF3ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1100,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1093,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1073,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1059,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1058,\n      columnNumber: 9\n    }, this), showDetailModal && selectedOrder && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sticky top-0 bg-white border-b px-6 py-4 z-10\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold\",\n              children: [\"Chi ti\\u1EBFt \\u0111\\u01A1n h\\xE0ng: \", selectedOrder.so_don_hang]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1121,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowDetailModal(false);\n                setSelectedOrder(null);\n              },\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1129,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1122,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1120,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1119,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4 bg-blue-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Kh\\xE1ch h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1138,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold text-lg\",\n                children: [getCustomerCode(selectedOrder.khach_hang_id, customers), \" - \", getCustomerName(selectedOrder.khach_hang_id, customers)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1139,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1137,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"T\\u1ED5ng ti\\u1EC1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1144,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold text-2xl text-green-600\",\n                children: [selectedOrder.tong_tien.toLocaleString('vi-VN'), \"\\u0111\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1145,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1143,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Ng\\xE0y \\u0111\\u1EB7t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1150,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: new Date(selectedOrder.ngay_dat).toLocaleDateString('vi-VN')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1151,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1149,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Ng\\xE0y giao d\\u1EF1 ki\\u1EBFn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1156,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: new Date(selectedOrder.ngay_giao_du_kien).toLocaleDateString('vi-VN')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1157,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1155,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1136,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-bold text-lg mb-3\",\n              children: \"Danh s\\xE1ch s\\u1EA3n ph\\u1EA9m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1165,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-x-auto border rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-100\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold\",\n                      children: \"M\\xE3 h\\xE0ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1170,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold\",\n                      children: \"T\\xEAn SP\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1171,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\",\n                      children: \"KTSX\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1172,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\",\n                      children: \"S\\xF3ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1173,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold\",\n                      children: \"\\u0110\\u01A1n gi\\xE1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1174,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold\",\n                      children: \"SL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1175,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold\",\n                      children: \"Th\\xE0nh ti\\u1EC1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1176,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\",\n                      children: \"QR\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1177,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1169,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1168,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  className: \"divide-y\",\n                  children: selectedOrder.chi_tiet.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: item.la_thanh_phan_con ? 'bg-purple-50' : '',\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `font-medium ${item.la_thanh_phan_con ? 'text-purple-700 pl-4' : 'text-blue-600'}`,\n                        children: [item.la_thanh_phan_con && '↳ ', item.ma_hang]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1184,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1183,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2\",\n                      children: item.ten_san_pham\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1189,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center text-xs\",\n                      children: item.ktsx\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1190,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"px-2 py-1 bg-gray-100 rounded text-xs\",\n                        children: item.song\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1192,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1191,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-right\",\n                      children: parseFloat(item.don_gia).toLocaleString('vi-VN')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1196,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-right font-medium\",\n                      children: item.so_luong.toLocaleString('vi-VN')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1199,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-right font-semibold text-green-600\",\n                      children: item.thanh_tien.toLocaleString('vi-VN')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1202,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleShowQR(selectedOrder.so_don_hang, item.ma_hang),\n                        className: \"p-1 text-green-600 hover:bg-green-50 rounded\",\n                        children: /*#__PURE__*/_jsxDEV(QrCode, {\n                          className: \"w-4 h-4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1210,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1206,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1205,\n                      columnNumber: 27\n                    }, this)]\n                  }, item.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1182,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1180,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                  className: \"bg-gray-50 border-t-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"6\",\n                      className: \"px-3 py-3 text-right font-bold\",\n                      children: \"T\\u1ED5ng c\\u1ED9ng:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1218,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-3 text-right font-bold text-green-600 text-lg\",\n                      children: [selectedOrder.tong_tien.toLocaleString('vi-VN'), \"\\u0111\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1221,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1224,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1217,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1216,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1167,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1166,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1164,\n            columnNumber: 15\n          }, this), selectedOrder.ghi_chu && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-semibold text-gray-700 mb-2\",\n              children: \"Ghi ch\\xFA:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1234,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: selectedOrder.ghi_chu\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1235,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1233,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1134,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t px-6 py-4 flex justify-end gap-3 sticky bottom-0 bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowDetailModal(false);\n              handleEdit(selectedOrder);\n            },\n            className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Edit, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1248,\n              columnNumber: 17\n            }, this), \"S\\u1EEDa\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1241,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowDetailModal(false);\n              setSelectedOrder(null);\n            },\n            className: \"px-4 py-2 border rounded-lg hover:bg-gray-50\",\n            children: \"\\u0110\\xF3ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1251,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1240,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1117,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 478,\n    columnNumber: 5\n  }, this);\n}\n_s(SalesOrder, \"XOy5CD3hupSgFBXIHCZmbQEFWqo=\");\n_c = SalesOrder;\nexport default SalesOrder;\nvar _c;\n$RefreshReg$(_c, \"SalesOrder\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Plus","Search","Edit","Trash2","Eye","X","ShoppingCart","QrCode","Calendar","TextInput","TextArea","jsxDEV","_jsxDEV","generateSoDonHang","existingOrders","now","Date","year","getFullYear","month","String","getMonth","padStart","prefix","currentMonthOrders","filter","o","_o$so_don_hang","so_don_hang","startsWith","maxNum","forEach","num","parseInt","slice","isNaN","newNum","getCustomerName","customerId","customers","customer","find","c","id","ten_khach_hang","name","getCustomerCode","ma_khach_hang","code","generateMonthOptions","months","currentDate","i","date","push","value","label","getCurrentMonth","SalesOrder","_s","loadOrders","saved","localStorage","getItem","JSON","parse","loadProducts","loadCustomers","orders","setOrders","products","setProducts","setCustomers","searchTerm","setSearchTerm","selectedMonth","setSelectedMonth","showModal","setShowModal","editingOrder","setEditingOrder","showDetailModal","setShowDetailModal","selectedOrder","setSelectedOrder","showProductModal","setShowProductModal","productSearchTerm","setProductSearchTerm","showQRModal","setShowQRModal","qrData","setQRData","quantityInputRefs","form","setForm","khach_hang_id","ngay_dat","toISOString","split","ngay_giao_du_kien","chi_tiet","ghi_chu","setItem","stringify","handleSubmit","trim","alert","length","hasInvalidQty","some","item","la_thanh_phan_con","so_luong","orderData","map","parseFloat","thanh_tien","don_gia","tong_tien","reduce","sum","newOrder","ngay_tao","resetForm","latestCustomers","current","handleEdit","order","toString","handleDelete","window","confirm","handleShowQR","soDonHang","maHang","handleAddProduct","product","_product$cong_doan","_product$cong_doan2","_product$cong_doan3","_product$cong_doan4","_product$cong_doan5","_product$cong_doan6","_product$cong_doan7","_product$cong_doan8","_product$cong_doan9","_product$cong_doan0","_product$cong_doan1","_product$cong_doan10","_product$cong_doan11","ktpo","po_cao","po_dai","po_rong","ktsx","sx_dai","sx_rong","sx_cao","newItems","parentItem","thanh_pham_id","ma_hang","ten_san_pham","song","dvt","kieu","hoa_hong_co_dinh","hoa_hong_phan_tram","cho_phep_sai_lech","sai_lech_so_luong","sai_lech_phan_tram","cong_doan","xa","ma_phim","so_mau","in","boi","can_mang","ma_khuon","be","chap","dong","dan","khac","khac_ghi_chu","thanh_pham_me_id","co_thanh_phan_con","thanh_phan_con","con","index","_con$cong_doan","_con$cong_doan2","_con$cong_doan3","_con$cong_doan4","_con$cong_doan5","_con$cong_doan6","_con$cong_doan7","_con$cong_doan8","_con$cong_doan9","_con$cong_doan0","_con$cong_doan1","_con$cong_doan10","_con$cong_doan11","conKtpo","conKtsx","childItem","ma_hang_con","ten","so_luong_con_theo_me","setTimeout","input","focus","select","handleUpdateQuantity","itemId","meQty","conQty","handleRemoveItem","getParentProductsOnly","_product$thanh_phan_c","displayName","filteredProducts","p","searchLower","toLowerCase","includes","filteredOrders","orderYearMonth","selectedYearMonth","replace","customerName","customerCode","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onChange","e","target","opt","type","placeholder","toLocaleDateString","toLocaleString","title","readOnly","selectedCustomer","console","log","maKH","tenKH","_item$cong_doan","_item$cong_doan2","_item$cong_doan3","_item$cong_doan4","_item$cong_doan5","_item$cong_doan6","_item$cong_doan7","_item$cong_doan8","_item$cong_doan9","_item$cong_doan0","_item$cong_doan1","_item$cong_doan10","_item$cong_doan11","ref","el","min","disabled","colSpan","rows","autoFocus","_product$thanh_phan_c2","alreadyAdded","_c","$RefreshReg$"],"sources":["C:/Projects/app/src/pages/SalesOrder.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Plus, Search, Edit, Trash2, Eye, X, ShoppingCart, QrCode, Calendar } from 'lucide-react';\nimport TextInput from '../components/TextInput';\nimport TextArea from '../components/TextArea';\n\n// ============================================================================\n// HELPER FUNCTIONS\n// ============================================================================\n\n// Tạo số đơn hàng tự động: DHXyyyymmxxx\nconst generateSoDonHang = (existingOrders) => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  const prefix = `DHX${year}${month}`;\n  \n  const currentMonthOrders = existingOrders.filter(o => \n    o.so_don_hang?.startsWith(prefix)\n  );\n  \n  let maxNum = 0;\n  currentMonthOrders.forEach(o => {\n    const num = parseInt(o.so_don_hang.slice(-3));\n    if (!isNaN(num) && num > maxNum) {\n      maxNum = num;\n    }\n  });\n  \n  const newNum = String(maxNum + 1).padStart(3, '0');\n  return `${prefix}${newNum}`;\n};\n\n// Lấy tên khách hàng\nconst getCustomerName = (customerId, customers) => {\n  if (!customerId || !customers) return '';\n  const customer = customers.find(c => c.id === customerId);\n  return customer?.ten_khach_hang || customer?.name || '';\n};\n\n// Lấy mã khách hàng\nconst getCustomerCode = (customerId, customers) => {\n  if (!customerId || !customers) return '';\n  const customer = customers.find(c => c.id === customerId);\n  return customer?.ma_khach_hang || customer?.code || '';\n};\n\n// Tạo danh sách tháng cho dropdown\nconst generateMonthOptions = () => {\n  const months = [];\n  const currentDate = new Date();\n  \n  // Tạo 12 tháng gần nhất (6 tháng trước + tháng hiện tại + 5 tháng sau)\n  for (let i = -6; i <= 5; i++) {\n    const date = new Date(currentDate.getFullYear(), currentDate.getMonth() + i, 1);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    months.push({\n      value: `${year}-${month}`,\n      label: `Tháng ${month}/${year}`\n    });\n  }\n  \n  return months;\n};\n\n// Format tháng hiện tại\nconst getCurrentMonth = () => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  return `${year}-${month}`;\n};\n\n// ============================================================================\n// MAIN COMPONENT  \n// ============================================================================\n\nfunction SalesOrder() {\n  const loadOrders = () => {\n    const saved = localStorage.getItem('salesOrders');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const loadProducts = () => {\n    const saved = localStorage.getItem('products');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const loadCustomers = () => {\n    const saved = localStorage.getItem('customers');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const [orders, setOrders] = useState(loadOrders);\n  const [products, setProducts] = useState(loadProducts);\n  const [customers, setCustomers] = useState(loadCustomers);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedMonth, setSelectedMonth] = useState(getCurrentMonth());\n  const [showModal, setShowModal] = useState(false);\n  const [editingOrder, setEditingOrder] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showProductModal, setShowProductModal] = useState(false);\n  const [productSearchTerm, setProductSearchTerm] = useState('');\n  const [showQRModal, setShowQRModal] = useState(false);\n  const [qrData, setQRData] = useState(null);\n\n  // Ref cho auto focus số lượng\n  const quantityInputRefs = useRef({});\n\n  const [form, setForm] = useState({\n    so_don_hang: '',\n    khach_hang_id: '',\n    ngay_dat: new Date().toISOString().split('T')[0],\n    ngay_giao_du_kien: '',\n    chi_tiet: [],\n    ghi_chu: ''\n  });\n\n  useEffect(() => {\n    localStorage.setItem('salesOrders', JSON.stringify(orders));\n  }, [orders]);\n\n  useEffect(() => {\n    setProducts(loadProducts());\n    setCustomers(loadCustomers());\n  }, []);\n\n  // ============================================================================\n  // FORM HANDLERS\n  // ============================================================================\n\n  const handleSubmit = () => {\n    if (!form.so_don_hang.trim() || !form.khach_hang_id) {\n      alert('Vui lòng điền đầy đủ Số đơn hàng và Khách hàng!');\n      return;\n    }\n\n    if (form.chi_tiet.length === 0) {\n      alert('Vui lòng thêm ít nhất 1 sản phẩm!');\n      return;\n    }\n\n    // Check số lượng (chỉ check mẹ, con tự động)\n    const hasInvalidQty = form.chi_tiet.some(item => \n      !item.la_thanh_phan_con && (!item.so_luong || item.so_luong <= 0)\n    );\n    if (hasInvalidQty) {\n      alert('Vui lòng nhập số lượng cho tất cả sản phẩm mẹ!');\n      return;\n    }\n\n    const orderData = {\n      so_don_hang: form.so_don_hang.trim(),\n      khach_hang_id: form.khach_hang_id,\n      ngay_dat: form.ngay_dat,\n      ngay_giao_du_kien: form.ngay_giao_du_kien,\n      chi_tiet: form.chi_tiet.map(item => ({\n        ...item,\n        so_luong: parseFloat(item.so_luong) || 0,\n        thanh_tien: (parseFloat(item.so_luong) || 0) * parseFloat(item.don_gia)\n      })),\n      tong_tien: form.chi_tiet.reduce((sum, item) => \n        sum + ((parseFloat(item.so_luong) || 0) * parseFloat(item.don_gia)), 0\n      ),\n      ghi_chu: form.ghi_chu.trim()\n    };\n\n    if (editingOrder) {\n      setOrders(orders.map(o =>\n        o.id === editingOrder.id ? { ...o, ...orderData } : o\n      ));\n      alert('Đã cập nhật đơn hàng!');\n    } else {\n      const newOrder = {\n        id: Date.now(),\n        ...orderData,\n        ngay_tao: new Date().toISOString()\n      };\n      setOrders([...orders, newOrder]);\n      alert('Đã tạo đơn hàng mới!');\n    }\n\n    resetForm();\n    setShowModal(false);\n  };\n\n  const resetForm = () => {\n    // Reload customers mỗi lần reset form\n    const latestCustomers = loadCustomers();\n    setCustomers(latestCustomers);\n    \n    setForm({\n      so_don_hang: generateSoDonHang(orders),\n      khach_hang_id: '',\n      ngay_dat: new Date().toISOString().split('T')[0],\n      ngay_giao_du_kien: '',\n      chi_tiet: [],\n      ghi_chu: ''\n    });\n    setEditingOrder(null);\n    quantityInputRefs.current = {};\n  };\n\n  const handleEdit = (order) => {\n    setForm({\n      ...order,\n      chi_tiet: order.chi_tiet.map(item => ({\n        ...item,\n        so_luong: item.so_luong.toString()\n      }))\n    });\n    setEditingOrder(order);\n    setShowModal(true);\n  };\n\n  const handleDelete = (id) => {\n    if (window.confirm('Bạn có chắc muốn xóa đơn hàng này?')) {\n      setOrders(orders.filter(o => o.id !== id));\n      alert('Đã xóa đơn hàng!');\n    }\n  };\n\n  // ============================================================================\n  // QR CODE HANDLER\n  // ============================================================================\n\n  const handleShowQR = (soDonHang, maHang) => {\n    setQRData({\n      code: `${soDonHang}-${maHang}`,\n      soDonHang: soDonHang,\n      maHang: maHang\n    });\n    setShowQRModal(true);\n  };\n\n  // ============================================================================\n  // PRODUCT HANDLERS - MẸ + CON TỰ ĐỘNG\n  // ============================================================================\n\n  const handleAddProduct = (product) => {\n    const ktpo = product.po_cao \n      ? `${product.po_dai}×${product.po_rong}×${product.po_cao}`\n      : `${product.po_dai}×${product.po_rong}`;\n    \n    const ktsx = (product.sx_dai || product.sx_rong || product.sx_cao)\n      ? `${product.sx_dai || product.po_dai}×${product.sx_rong || product.po_rong}${product.sx_cao || product.po_cao ? '×' + (product.sx_cao || product.po_cao) : ''}`\n      : ktpo;\n\n    const newItems = [];\n    \n    // 1. THÊM MẸ\n    const parentItem = {\n      id: Date.now(),\n      thanh_pham_id: product.id,\n      ma_hang: product.ma_hang,\n      ten_san_pham: product.ten_san_pham,\n      ktpo: ktpo,\n      ktsx: ktsx,\n      song: product.song || 'N/A',\n      dvt: product.dvt || 'Cái',\n      kieu: product.kieu || '',\n      don_gia: product.don_gia || 0,\n      so_luong: '',\n      thanh_tien: 0,\n      hoa_hong_co_dinh: product.hoa_hong_co_dinh || 0,\n      hoa_hong_phan_tram: product.hoa_hong_phan_tram || 0,\n      cho_phep_sai_lech: product.cho_phep_sai_lech || false,\n      sai_lech_so_luong: product.sai_lech_so_luong || 0,\n      sai_lech_phan_tram: product.sai_lech_phan_tram || 0,\n      cong_doan: {\n        xa: product.cong_doan?.xa || 0,\n        ma_phim: product.cong_doan?.ma_phim || '',\n        so_mau: product.cong_doan?.so_mau || 0,\n        in: product.cong_doan?.in || 0,\n        boi: product.cong_doan?.boi || 0,\n        can_mang: product.cong_doan?.can_mang || 0,\n        ma_khuon: product.cong_doan?.ma_khuon || '',\n        be: product.cong_doan?.be || 0,\n        chap: product.cong_doan?.chap || 0,\n        dong: product.cong_doan?.dong || 0,\n        dan: product.cong_doan?.dan || 0,\n        khac: product.cong_doan?.khac || 0,\n        khac_ghi_chu: product.cong_doan?.khac_ghi_chu || ''\n      },\n      ghi_chu: product.ghi_chu || '',\n      la_thanh_phan_con: false,\n      thanh_pham_me_id: null\n    };\n    \n    newItems.push(parentItem);\n\n    // 2. THÊM CON (nếu có)\n    if (product.co_thanh_phan_con && product.thanh_phan_con && product.thanh_phan_con.length > 0) {\n      product.thanh_phan_con.forEach((con, index) => {\n        const conKtpo = con.po_cao \n          ? `${con.po_dai}×${con.po_rong}×${con.po_cao}`\n          : `${con.po_dai}×${con.po_rong}`;\n        \n        const conKtsx = (con.sx_dai || con.sx_rong || con.sx_cao)\n          ? `${con.sx_dai || con.po_dai}×${con.sx_rong || con.po_rong}${con.sx_cao || con.po_cao ? '×' + (con.sx_cao || con.po_cao) : ''}`\n          : conKtpo;\n\n        const childItem = {\n          id: Date.now() + index + 1,\n          thanh_pham_id: `${product.id}_${con.ma_hang_con}`,\n          ma_hang: con.ma_hang_con,\n          ten_san_pham: con.ten,\n          ktpo: conKtpo,\n          ktsx: conKtsx,\n          song: con.song || product.song || 'N/A',\n          dvt: con.dvt || product.dvt || 'Cái',\n          kieu: con.kieu || product.kieu || '',\n          don_gia: con.don_gia || 0,\n          so_luong: '', // Sẽ tự động tính từ mẹ\n          thanh_tien: 0,\n          hoa_hong_co_dinh: 0,\n          hoa_hong_phan_tram: 0,\n          cho_phep_sai_lech: false,\n          sai_lech_so_luong: 0,\n          sai_lech_phan_tram: 0,\n          cong_doan: {\n            xa: con.cong_doan?.xa || 0,\n            ma_phim: con.cong_doan?.ma_phim || '',\n            so_mau: con.cong_doan?.so_mau || 0,\n            in: con.cong_doan?.in || 0,\n            boi: con.cong_doan?.boi || 0,\n            can_mang: con.cong_doan?.can_mang || 0,\n            ma_khuon: con.cong_doan?.ma_khuon || '',\n            be: con.cong_doan?.be || 0,\n            chap: con.cong_doan?.chap || 0,\n            dong: con.cong_doan?.dong || 0,\n            dan: con.cong_doan?.dan || 0,\n            khac: con.cong_doan?.khac || 0,\n            khac_ghi_chu: con.cong_doan?.khac_ghi_chu || ''\n          },\n          ghi_chu: con.ghi_chu || '',\n          la_thanh_phan_con: true,\n          thanh_pham_me_id: parentItem.id,\n          so_luong_con_theo_me: con.so_luong || 1 // Tỷ lệ: 1 mẹ = bao nhiêu con\n        };\n        \n        newItems.push(childItem);\n      });\n    }\n\n    setForm({\n      ...form,\n      chi_tiet: [...form.chi_tiet, ...newItems]\n    });\n\n    setShowProductModal(false);\n    setProductSearchTerm('');\n\n    // Auto focus vào SL của mẹ\n    setTimeout(() => {\n      const input = quantityInputRefs.current[parentItem.id];\n      if (input) {\n        input.focus();\n        input.select();\n      }\n    }, 100);\n  };\n\n  const handleUpdateQuantity = (itemId, value) => {\n    const item = form.chi_tiet.find(i => i.id === itemId);\n    \n    if (!item) return;\n\n    // Nếu là mẹ → update cả con\n    if (!item.la_thanh_phan_con) {\n      const meQty = parseFloat(value) || 0;\n      \n      setForm({\n        ...form,\n        chi_tiet: form.chi_tiet.map(i => {\n          // Update mẹ\n          if (i.id === itemId) {\n            return {\n              ...i,\n              so_luong: value,\n              thanh_tien: meQty * parseFloat(i.don_gia)\n            };\n          }\n          \n          // Update con (nếu thuộc về mẹ này)\n          if (i.la_thanh_phan_con && i.thanh_pham_me_id === itemId) {\n            const conQty = meQty * (i.so_luong_con_theo_me || 1);\n            return {\n              ...i,\n              so_luong: conQty.toString(),\n              thanh_tien: conQty * parseFloat(i.don_gia)\n            };\n          }\n          \n          return i;\n        })\n      });\n    }\n    // Con không được edit trực tiếp\n  };\n\n  const handleRemoveItem = (itemId) => {\n    const item = form.chi_tiet.find(i => i.id === itemId);\n    \n    if (!item) return;\n\n    // Nếu xóa mẹ → xóa cả con\n    if (!item.la_thanh_phan_con) {\n      if (window.confirm('Xóa sản phẩm mẹ sẽ xóa cả các thành phần con. Bạn có chắc?')) {\n        setForm({\n          ...form,\n          chi_tiet: form.chi_tiet.filter(i => \n            i.id !== itemId && i.thanh_pham_me_id !== itemId\n          )\n        });\n      }\n    } else {\n      // Không cho xóa con riêng lẻ\n      alert('Không thể xóa thành phần con riêng lẻ. Vui lòng xóa sản phẩm mẹ.');\n    }\n  };\n\n  // ============================================================================\n  // PRODUCT SELECTION - CHỈ MẸ\n  // ============================================================================\n\n  const getParentProductsOnly = () => {\n    return products.map(product => ({\n      ...product,\n      displayName: product.co_thanh_phan_con && product.thanh_phan_con?.length > 0\n        ? `${product.ma_hang} - ${product.ten_san_pham} (có ${product.thanh_phan_con.length} con)`\n        : `${product.ma_hang} - ${product.ten_san_pham}`\n    }));\n  };\n\n  const filteredProducts = getParentProductsOnly().filter(p => {\n    const searchLower = productSearchTerm.toLowerCase();\n    return (\n      p.ma_hang.toLowerCase().includes(searchLower) ||\n      (p.ten_san_pham || '').toLowerCase().includes(searchLower) ||\n      p.displayName.toLowerCase().includes(searchLower)\n    );\n  });\n\n  // ============================================================================\n  // FILTERS - Theo tháng\n  // ============================================================================\n\n  const filteredOrders = orders.filter(o => {\n    // Filter theo tháng\n    const orderYearMonth = o.so_don_hang.slice(3, 9); // DHX202512001 → 202512\n    const selectedYearMonth = selectedMonth.replace('-', ''); // 2025-12 → 202512\n    \n    if (orderYearMonth !== selectedYearMonth) return false;\n\n    // Filter theo search term\n    if (searchTerm) {\n      const searchLower = searchTerm.toLowerCase();\n      const customerName = getCustomerName(o.khach_hang_id, customers);\n      const customerCode = getCustomerCode(o.khach_hang_id, customers);\n      \n      return (\n        o.so_don_hang.toLowerCase().includes(searchLower) ||\n        customerName.toLowerCase().includes(searchLower) ||\n        customerCode.toLowerCase().includes(searchLower)\n      );\n    }\n\n    return true;\n  });\n\n  // ============================================================================\n  // RENDER\n  // ============================================================================\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-800\">Đơn hàng Xuất</h1>\n          <p className=\"text-gray-600\">Quản lý đơn hàng xuất kho</p>\n        </div>\n        <button\n          onClick={() => {\n            resetForm();\n            setShowModal(true);\n          }}\n          className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\n        >\n          <Plus className=\"w-5 h-5\" />Tạo đơn hàng\n        </button>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white rounded-xl shadow-sm border p-4 space-y-4\">\n        <div className=\"grid grid-cols-2 gap-4\">\n          {/* Chọn tháng */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <Calendar className=\"w-4 h-4 inline mr-1\" />\n              Lọc theo tháng\n            </label>\n            <select\n              value={selectedMonth}\n              onChange={(e) => setSelectedMonth(e.target.value)}\n              className=\"w-full px-4 py-2 border rounded-lg bg-white\"\n            >\n              {generateMonthOptions().map(opt => (\n                <option key={opt.value} value={opt.value}>\n                  {opt.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Search */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <Search className=\"w-4 h-4 inline mr-1\" />\n              Tìm kiếm\n            </label>\n            <input\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              placeholder=\"Số đơn hàng, khách hàng...\"\n              className=\"w-full px-4 py-2 border rounded-lg\"\n            />\n          </div>\n        </div>\n\n        <div className=\"text-sm text-gray-600\">\n          Hiển thị <span className=\"font-semibold text-blue-600\">{filteredOrders.length}</span> đơn hàng\n        </div>\n      </div>\n\n      {/* Orders List */}\n      <div className=\"space-y-4\">\n        {filteredOrders.map(order => {\n          const customerName = getCustomerName(order.khach_hang_id, customers);\n          const customerCode = getCustomerCode(order.khach_hang_id, customers);\n\n          return (\n            <div key={order.id} className=\"bg-white rounded-xl shadow-sm border overflow-hidden\">\n              <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 px-6 py-4 border-b flex justify-between items-center\">\n                <div className=\"flex items-center gap-4\">\n                  <ShoppingCart className=\"w-6 h-6 text-blue-600\" />\n                  <div>\n                    <h3 className=\"font-bold text-lg text-blue-900\">{order.so_don_hang}</h3>\n                    <div className=\"flex items-center gap-3 text-sm text-gray-600 mt-1\">\n                      <span>📦 KH: <span className=\"font-medium text-gray-900\">{customerCode} - {customerName}</span></span>\n                      <span>•</span>\n                      <span>📅 Đặt: {new Date(order.ngay_dat).toLocaleDateString('vi-VN')}</span>\n                      <span>•</span>\n                      <span>🚚 Giao: {new Date(order.ngay_giao_du_kien).toLocaleDateString('vi-VN')}</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"text-right\">\n                    <p className=\"text-sm text-gray-600\">Tổng tiền</p>\n                    <p className=\"text-2xl font-bold text-green-600\">\n                      {order.tong_tien.toLocaleString('vi-VN')}đ\n                    </p>\n                  </div>\n                  <button\n                    onClick={() => {\n                      setSelectedOrder(order);\n                      setShowDetailModal(true);\n                    }}\n                    className=\"p-2 text-purple-600 hover:bg-purple-50 rounded-lg\"\n                    title=\"Xem chi tiết\"\n                  >\n                    <Eye className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleEdit(order)}\n                    className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg\"\n                    title=\"Sửa\"\n                  >\n                    <Edit className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(order.id)}\n                    className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg\"\n                    title=\"Xóa\"\n                  >\n                    <Trash2 className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"px-6 py-4\">\n                <div className=\"text-sm text-gray-600 mb-2\">\n                  <span className=\"font-medium\">Sản phẩm:</span> {order.chi_tiet.length} mặt hàng\n                </div>\n                {order.ghi_chu && (\n                  <div className=\"text-sm\">\n                    <span className=\"font-medium text-gray-700\">Ghi chú:</span>\n                    <span className=\"text-gray-600 ml-2\">{order.ghi_chu}</span>\n                  </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n\n        {filteredOrders.length === 0 && (\n          <div className=\"bg-white rounded-xl shadow-sm border p-12 text-center text-gray-500\">\n            Không có đơn hàng nào trong tháng {selectedMonth.split('-')[1]}/{selectedMonth.split('-')[0]}\n          </div>\n        )}\n      </div>\n\n      {/* Add/Edit Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-7xl my-8\">\n            <div className=\"sticky top-0 bg-white border-b px-6 py-4 z-10 rounded-t-xl\">\n              <div className=\"flex justify-between items-center\">\n                <h2 className=\"text-xl font-bold\">\n                  {editingOrder ? 'Sửa đơn hàng' : 'Tạo đơn hàng mới'}\n                </h2>\n                <button\n                  onClick={() => {\n                    setShowModal(false);\n                    resetForm();\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto\">\n              {/* Thông tin đơn hàng */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Số đơn hàng * <span className=\"text-xs text-gray-500\">(Tự động)</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={form.so_don_hang}\n                    readOnly\n                    className=\"w-full px-4 py-2 border rounded-lg bg-gray-50 font-mono font-bold text-blue-600\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">Khách hàng *</label>\n                  <select\n                    value={form.khach_hang_id}\n                    onChange={(e) => {\n                      const selectedCustomer = customers.find(c => c.id === e.target.value);\n                      console.log('Selected customer:', selectedCustomer);\n                      setForm({ ...form, khach_hang_id: e.target.value });\n                    }}\n                    className=\"w-full px-4 py-2 border rounded-lg\"\n                  >\n                    <option value=\"\">-- Chọn mã khách hàng --</option>\n                    {customers.map(c => {\n                      const maKH = c.ma_khach_hang || c.code || c.id;\n                      const tenKH = c.ten_khach_hang || c.name || '';\n                      return (\n                        <option key={c.id} value={c.id} data-name={tenKH}>\n                          {maKH}\n                        </option>\n                      );\n                    })}\n                  </select>\n                  {form.khach_hang_id && (() => {\n                    const selectedCustomer = customers.find(c => c.id === form.khach_hang_id);\n                    const customerName = selectedCustomer?.ten_khach_hang || selectedCustomer?.name || '';\n                    return customerName ? (\n                      <p className=\"text-sm text-blue-600 mt-1 font-medium\">\n                        → {customerName}\n                      </p>\n                    ) : (\n                      <p className=\"text-sm text-red-500 mt-1\">\n                        ⚠ Không tìm thấy tên khách hàng (ID: {form.khach_hang_id})\n                      </p>\n                    );\n                  })()}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">Ngày đặt</label>\n                  <input\n                    type=\"date\"\n                    value={form.ngay_dat}\n                    onChange={(e) => setForm({ ...form, ngay_dat: e.target.value })}\n                    className=\"w-full px-4 py-2 border rounded-lg\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">Ngày giao dự kiến</label>\n                  <input\n                    type=\"date\"\n                    value={form.ngay_giao_du_kien}\n                    onChange={(e) => setForm({ ...form, ngay_giao_du_kien: e.target.value })}\n                    className=\"w-full px-4 py-2 border rounded-lg\"\n                  />\n                </div>\n              </div>\n\n              {/* Chi tiết sản phẩm */}\n              <div className=\"border rounded-lg p-4 bg-gray-50\">\n                <div className=\"flex justify-between items-center mb-4\">\n                  <h3 className=\"font-bold text-lg\">Chi tiết sản phẩm</h3>\n                  <button\n                    onClick={() => setShowProductModal(true)}\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\n                  >\n                    <Plus className=\"w-4 h-4\" />Thêm sản phẩm\n                  </button>\n                </div>\n\n                {form.chi_tiet.length > 0 ? (\n                  <div className=\"overflow-x-auto border rounded-lg bg-white\">\n                    <table className=\"w-full text-sm\">\n                      <thead className=\"bg-gray-100 sticky top-0\">\n                        <tr>\n                          {/* Thông tin cơ bản */}\n                          <th className=\"px-3 py-2 text-left font-semibold sticky left-0 bg-gray-100 z-10 border-r\">Mã hàng</th>\n                          <th className=\"px-3 py-2 text-left font-semibold\">Tên SP</th>\n                          <th className=\"px-3 py-2 text-center font-semibold\">KTPO</th>\n                          <th className=\"px-3 py-2 text-center font-semibold\">KTSX</th>\n                          <th className=\"px-3 py-2 text-center font-semibold\">Sóng</th>\n                          <th className=\"px-3 py-2 text-center font-semibold\">ĐVT</th>\n                          <th className=\"px-3 py-2 text-center font-semibold\">Kiểu</th>\n                          \n                          {/* Giá (Đơn giá → SL → Thành tiền → HH cố định → HH%) */}\n                          <th className=\"px-3 py-2 text-right font-semibold bg-green-50\">Đơn giá</th>\n                          <th className=\"px-3 py-2 text-center font-semibold bg-yellow-50\">SL</th>\n                          <th className=\"px-3 py-2 text-right font-semibold bg-green-50 border-r\">Thành tiền</th>\n                          <th className=\"px-3 py-2 text-right font-semibold\">HH cố định</th>\n                          <th className=\"px-3 py-2 text-right font-semibold border-r\">HH %</th>\n                          \n                          {/* 13 công đoạn */}\n                          <th className=\"px-3 py-2 text-center font-semibold bg-blue-50\">Xả</th>\n                          <th className=\"px-3 py-2 text-center font-semibold bg-blue-50\">Mã phim</th>\n                          <th className=\"px-3 py-2 text-center font-semibold bg-blue-50\">Số màu</th>\n                          <th className=\"px-3 py-2 text-center font-semibold bg-blue-50\">In</th>\n                          <th className=\"px-3 py-2 text-center font-semibold bg-blue-50\">Bồi</th>\n                          <th className=\"px-3 py-2 text-center font-semibold bg-blue-50\">Cán màng</th>\n                          <th className=\"px-3 py-2 text-center font-semibold bg-blue-50\">Mã khuôn</th>\n                          <th className=\"px-3 py-2 text-center font-semibold bg-blue-50\">Bế</th>\n                          <th className=\"px-3 py-2 text-center font-semibold bg-blue-50\">Chạp</th>\n                          <th className=\"px-3 py-2 text-center font-semibold bg-blue-50\">Đóng</th>\n                          <th className=\"px-3 py-2 text-center font-semibold bg-blue-50\">Dán</th>\n                          <th className=\"px-3 py-2 text-center font-semibold bg-blue-50\">Khác</th>\n                          <th className=\"px-3 py-2 text-left font-semibold bg-blue-50 border-r\">Ghi chú Khác</th>\n                          \n                          {/* Ghi chú & Action */}\n                          <th className=\"px-3 py-2 text-left font-semibold\">Ghi chú</th>\n                          <th className=\"px-3 py-2 text-center font-semibold\">QR</th>\n                          <th className=\"px-3 py-2 text-center font-semibold\"></th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"divide-y\">\n                        {form.chi_tiet.map(item => (\n                          <tr key={item.id} className={item.la_thanh_phan_con ? 'bg-purple-50' : ''}>\n                            {/* Thông tin cơ bản */}\n                            <td className=\"px-3 py-2 sticky left-0 bg-white z-10 border-r\">\n                              <span className={`font-medium ${item.la_thanh_phan_con ? 'text-purple-700 pl-4' : 'text-blue-600'}`}>\n                                {item.la_thanh_phan_con && '↳ '}\n                                {item.ma_hang}\n                              </span>\n                            </td>\n                            <td className=\"px-3 py-2\">{item.ten_san_pham}</td>\n                            <td className=\"px-3 py-2 text-center text-xs\">{item.ktpo}</td>\n                            <td className=\"px-3 py-2 text-center text-xs\">{item.ktsx}</td>\n                            <td className=\"px-3 py-2 text-center\">\n                              <span className=\"px-2 py-1 bg-gray-100 rounded text-xs\">\n                                {item.song}\n                              </span>\n                            </td>\n                            <td className=\"px-3 py-2 text-center text-xs\">{item.dvt}</td>\n                            <td className=\"px-3 py-2 text-center\">\n                              <span className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs\">\n                                {item.kieu || '-'}\n                              </span>\n                            </td>\n                            \n                            {/* Giá */}\n                            <td className=\"px-3 py-2 text-right bg-green-50\">\n                              {parseFloat(item.don_gia).toLocaleString('vi-VN')}\n                            </td>\n                            <td className=\"px-3 py-2 bg-yellow-50\">\n                              <input\n                                ref={el => quantityInputRefs.current[item.id] = el}\n                                type=\"number\"\n                                value={item.so_luong}\n                                onChange={(e) => handleUpdateQuantity(item.id, e.target.value)}\n                                className=\"w-20 px-2 py-1 border rounded text-right\"\n                                min=\"0\"\n                                placeholder=\"0\"\n                                disabled={item.la_thanh_phan_con}\n                              />\n                            </td>\n                            <td className=\"px-3 py-2 text-right font-semibold text-green-600 bg-green-50 border-r\">\n                              {item.thanh_tien.toLocaleString('vi-VN')}\n                            </td>\n                            <td className=\"px-3 py-2 text-right text-xs\">\n                              {item.hoa_hong_co_dinh ? item.hoa_hong_co_dinh.toLocaleString('vi-VN') : '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-right text-xs border-r\">\n                              {item.hoa_hong_phan_tram ? `${item.hoa_hong_phan_tram}%` : '-'}\n                            </td>\n                            \n                            {/* 13 công đoạn */}\n                            <td className=\"px-3 py-2 text-center bg-blue-50 text-xs\">\n                              {item.cong_doan?.xa || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center bg-blue-50\">\n                              {item.cong_doan?.ma_phim ? (\n                                <span className=\"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-medium\">\n                                  {item.cong_doan.ma_phim}\n                                </span>\n                              ) : '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center bg-blue-50 text-xs\">\n                              {item.cong_doan?.so_mau || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center bg-blue-50 text-xs\">\n                              {item.cong_doan?.in || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center bg-blue-50 text-xs\">\n                              {item.cong_doan?.boi || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center bg-blue-50 text-xs\">\n                              {item.cong_doan?.can_mang || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center bg-blue-50\">\n                              {item.cong_doan?.ma_khuon ? (\n                                <span className=\"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-xs font-medium\">\n                                  {item.cong_doan.ma_khuon}\n                                </span>\n                              ) : '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center bg-blue-50 text-xs\">\n                              {item.cong_doan?.be || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center bg-blue-50 text-xs\">\n                              {item.cong_doan?.chap || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center bg-blue-50 text-xs\">\n                              {item.cong_doan?.dong || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center bg-blue-50 text-xs\">\n                              {item.cong_doan?.dan || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center bg-blue-50 text-xs\">\n                              {item.cong_doan?.khac || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-left bg-blue-50 text-xs border-r\">\n                              {item.cong_doan?.khac_ghi_chu || '-'}\n                            </td>\n                            \n                            {/* Ghi chú & Actions */}\n                            <td className=\"px-3 py-2 text-xs\">\n                              {item.ghi_chu || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center\">\n                              <button\n                                onClick={() => handleShowQR(form.so_don_hang, item.ma_hang)}\n                                className=\"p-1 text-green-600 hover:bg-green-50 rounded\"\n                                title=\"Xem QR Code\"\n                              >\n                                <QrCode className=\"w-4 h-4\" />\n                              </button>\n                            </td>\n                            <td className=\"px-3 py-2 text-center\">\n                              <button\n                                onClick={() => handleRemoveItem(item.id)}\n                                className=\"p-1 text-red-600 hover:bg-red-50 rounded\"\n                                title={item.la_thanh_phan_con ? 'Không thể xóa con riêng lẻ' : 'Xóa'}\n                              >\n                                <X className=\"w-4 h-4\" />\n                              </button>\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                      <tfoot className=\"bg-gray-50 border-t-2\">\n                        <tr>\n                          <td colSpan=\"9\" className=\"px-3 py-3 text-right font-bold\">\n                            Tổng tiền:\n                          </td>\n                          <td className=\"px-3 py-3 text-right font-bold text-green-600 text-lg\">\n                            {form.chi_tiet.reduce((sum, item) => sum + item.thanh_tien, 0).toLocaleString('vi-VN')}đ\n                          </td>\n                          <td colSpan=\"18\"></td>\n                        </tr>\n                      </tfoot>\n                    </table>\n                  </div>\n                ) : (\n                  <div className=\"text-center py-8 text-gray-500 bg-white border rounded-lg\">\n                    Chưa có sản phẩm. Nhấn \"Thêm sản phẩm\" để bắt đầu.\n                  </div>\n                )}\n              </div>\n\n              {/* Ghi chú */}\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">Ghi chú đơn hàng</label>\n                <TextArea\n                  value={form.ghi_chu}\n                  onChange={(value) => setForm({ ...form, ghi_chu: value })}\n                  placeholder=\"Ghi chú về đơn hàng...\"\n                  rows={3}\n                  className=\"w-full px-4 py-2 border rounded-lg\"\n                />\n              </div>\n            </div>\n\n            {/* Footer */}\n            <div className=\"border-t px-6 py-4 flex justify-end gap-3 sticky bottom-0 bg-white\">\n              <button\n                onClick={() => {\n                  setShowModal(false);\n                  resetForm();\n                }}\n                className=\"px-6 py-2 border rounded-lg hover:bg-gray-50\"\n              >\n                Hủy\n              </button>\n              <button\n                onClick={handleSubmit}\n                className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\"\n              >\n                <ShoppingCart className=\"w-5 h-5\" />\n                {editingOrder ? 'Cập nhật' : 'Tạo đơn hàng'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Product Selection Modal - CHỈ MẸ */}\n      {showProductModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden\">\n            <div className=\"border-b px-6 py-4\">\n              <div className=\"flex justify-between items-center\">\n                <h3 className=\"text-xl font-bold\">Chọn sản phẩm (Mẹ + Con tự động)</h3>\n                <button\n                  onClick={() => {\n                    setShowProductModal(false);\n                    setProductSearchTerm('');\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"p-6 space-y-4\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  value={productSearchTerm}\n                  onChange={(e) => setProductSearchTerm(e.target.value)}\n                  placeholder=\"Tìm kiếm mã hàng, tên sản phẩm...\"\n                  className=\"w-full pl-10 pr-4 py-2 border rounded-lg\"\n                  autoFocus\n                />\n              </div>\n\n              <div className=\"overflow-y-auto max-h-96 border rounded-lg\">\n                <table className=\"w-full text-sm\">\n                  <thead className=\"bg-gray-50 sticky top-0\">\n                    <tr>\n                      <th className=\"px-3 py-2 text-left font-semibold\">Mã hàng</th>\n                      <th className=\"px-3 py-2 text-left font-semibold\">Tên sản phẩm</th>\n                      <th className=\"px-3 py-2 text-center font-semibold\">KTSX</th>\n                      <th className=\"px-3 py-2 text-center font-semibold\">Sóng</th>\n                      <th className=\"px-3 py-2 text-right font-semibold\">Đơn giá</th>\n                      <th className=\"px-3 py-2 text-center font-semibold\"></th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y\">\n                    {filteredProducts.map(product => {\n                      const alreadyAdded = form.chi_tiet.some(item => \n                        item.thanh_pham_id === product.id && !item.la_thanh_phan_con\n                      );\n\n                      const ktsx = (product.sx_dai || product.sx_rong || product.sx_cao)\n                        ? `${product.sx_dai || product.po_dai}×${product.sx_rong || product.po_rong}${product.sx_cao || product.po_cao ? '×' + (product.sx_cao || product.po_cao) : ''}`\n                        : (product.po_cao ? `${product.po_dai}×${product.po_rong}×${product.po_cao}` : `${product.po_dai}×${product.po_rong}`);\n\n                      return (\n                        <tr key={product.id} className=\"hover:bg-gray-50\">\n                          <td className=\"px-3 py-2\">\n                            <span className=\"font-medium text-blue-600\">\n                              {product.ma_hang}\n                            </span>\n                          </td>\n                          <td className=\"px-3 py-2\">\n                            <div>\n                              {product.ten_san_pham}\n                              {product.co_thanh_phan_con && product.thanh_phan_con?.length > 0 && (\n                                <span className=\"text-xs text-purple-600 ml-2\">\n                                  ({product.thanh_phan_con.length} con)\n                                </span>\n                              )}\n                            </div>\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs\">{ktsx}</td>\n                          <td className=\"px-3 py-2 text-center\">\n                            <span className=\"px-2 py-1 bg-gray-100 rounded text-xs\">\n                              {product.song || 'N/A'}\n                            </span>\n                          </td>\n                          <td className=\"px-3 py-2 text-right\">\n                            {(product.don_gia || 0).toLocaleString('vi-VN')}đ\n                          </td>\n                          <td className=\"px-3 py-2 text-center\">\n                            <button\n                              onClick={() => handleAddProduct(product)}\n                              disabled={alreadyAdded}\n                              className={`px-3 py-1 rounded text-sm ${\n                                alreadyAdded\n                                  ? 'bg-gray-200 text-gray-500 cursor-not-allowed'\n                                  : 'bg-blue-600 text-white hover:bg-blue-700'\n                              }`}\n                            >\n                              {alreadyAdded ? 'Đã thêm' : 'Chọn'}\n                            </button>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n\n                {filteredProducts.length === 0 && (\n                  <div className=\"text-center py-8 text-gray-500\">\n                    Không tìm thấy sản phẩm\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* QR Code Modal */}\n      {showQRModal && qrData && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl max-w-md w-full\">\n            <div className=\"border-b px-6 py-4 flex justify-between items-center\">\n              <h3 className=\"text-xl font-bold\">QR Code</h3>\n              <button\n                onClick={() => {\n                  setShowQRModal(false);\n                  setQRData(null);\n                }}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            <div className=\"p-6 text-center\">\n              <div className=\"bg-gray-100 p-8 rounded-lg mb-4\">\n                <QrCode className=\"w-48 h-48 mx-auto text-gray-400\" />\n                <p className=\"text-sm text-gray-500 mt-4\">\n                  🔮 QR Code sẽ được tạo ở đây\n                </p>\n              </div>\n\n              <div className=\"space-y-2 text-sm\">\n                <p className=\"font-bold text-lg font-mono text-blue-600\">\n                  {qrData.code}\n                </p>\n                <p className=\"text-gray-600\">\n                  Đơn hàng: <span className=\"font-medium\">{qrData.soDonHang}</span>\n                </p>\n                <p className=\"text-gray-600\">\n                  Mã hàng: <span className=\"font-medium\">{qrData.maHang}</span>\n                </p>\n              </div>\n\n              <div className=\"mt-6 flex gap-3\">\n                <button\n                  onClick={() => alert('Tính năng in QR - Làm sau')}\n                  className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\n                >\n                  In QR\n                </button>\n                <button\n                  onClick={() => {\n                    setShowQRModal(false);\n                    setQRData(null);\n                  }}\n                  className=\"flex-1 border px-4 py-2 rounded-lg hover:bg-gray-50\"\n                >\n                  Đóng\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Detail Modal - Đầy đủ */}\n      {showDetailModal && selectedOrder && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"sticky top-0 bg-white border-b px-6 py-4 z-10\">\n              <div className=\"flex justify-between items-center\">\n                <h3 className=\"text-xl font-bold\">Chi tiết đơn hàng: {selectedOrder.so_don_hang}</h3>\n                <button\n                  onClick={() => {\n                    setShowDetailModal(false);\n                    setSelectedOrder(null);\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n            </div>\n            \n            <div className=\"p-6 space-y-6\">\n              {/* Thông tin đơn hàng */}\n              <div className=\"grid grid-cols-2 gap-4 bg-blue-50 p-4 rounded-lg\">\n                <div>\n                  <p className=\"text-sm text-gray-600\">Khách hàng</p>\n                  <p className=\"font-bold text-lg\">\n                    {getCustomerCode(selectedOrder.khach_hang_id, customers)} - {getCustomerName(selectedOrder.khach_hang_id, customers)}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Tổng tiền</p>\n                  <p className=\"font-bold text-2xl text-green-600\">\n                    {selectedOrder.tong_tien.toLocaleString('vi-VN')}đ\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Ngày đặt</p>\n                  <p className=\"font-medium\">\n                    {new Date(selectedOrder.ngay_dat).toLocaleDateString('vi-VN')}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Ngày giao dự kiến</p>\n                  <p className=\"font-medium\">\n                    {new Date(selectedOrder.ngay_giao_du_kien).toLocaleDateString('vi-VN')}\n                  </p>\n                </div>\n              </div>\n\n              {/* Bảng sản phẩm */}\n              <div>\n                <h4 className=\"font-bold text-lg mb-3\">Danh sách sản phẩm</h4>\n                <div className=\"overflow-x-auto border rounded-lg\">\n                  <table className=\"w-full text-sm\">\n                    <thead className=\"bg-gray-100\">\n                      <tr>\n                        <th className=\"px-3 py-2 text-left font-semibold\">Mã hàng</th>\n                        <th className=\"px-3 py-2 text-left font-semibold\">Tên SP</th>\n                        <th className=\"px-3 py-2 text-center font-semibold\">KTSX</th>\n                        <th className=\"px-3 py-2 text-center font-semibold\">Sóng</th>\n                        <th className=\"px-3 py-2 text-right font-semibold\">Đơn giá</th>\n                        <th className=\"px-3 py-2 text-right font-semibold\">SL</th>\n                        <th className=\"px-3 py-2 text-right font-semibold\">Thành tiền</th>\n                        <th className=\"px-3 py-2 text-center font-semibold\">QR</th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"divide-y\">\n                      {selectedOrder.chi_tiet.map(item => (\n                        <tr key={item.id} className={item.la_thanh_phan_con ? 'bg-purple-50' : ''}>\n                          <td className=\"px-3 py-2\">\n                            <span className={`font-medium ${item.la_thanh_phan_con ? 'text-purple-700 pl-4' : 'text-blue-600'}`}>\n                              {item.la_thanh_phan_con && '↳ '}\n                              {item.ma_hang}\n                            </span>\n                          </td>\n                          <td className=\"px-3 py-2\">{item.ten_san_pham}</td>\n                          <td className=\"px-3 py-2 text-center text-xs\">{item.ktsx}</td>\n                          <td className=\"px-3 py-2 text-center\">\n                            <span className=\"px-2 py-1 bg-gray-100 rounded text-xs\">\n                              {item.song}\n                            </span>\n                          </td>\n                          <td className=\"px-3 py-2 text-right\">\n                            {parseFloat(item.don_gia).toLocaleString('vi-VN')}\n                          </td>\n                          <td className=\"px-3 py-2 text-right font-medium\">\n                            {item.so_luong.toLocaleString('vi-VN')}\n                          </td>\n                          <td className=\"px-3 py-2 text-right font-semibold text-green-600\">\n                            {item.thanh_tien.toLocaleString('vi-VN')}\n                          </td>\n                          <td className=\"px-3 py-2 text-center\">\n                            <button\n                              onClick={() => handleShowQR(selectedOrder.so_don_hang, item.ma_hang)}\n                              className=\"p-1 text-green-600 hover:bg-green-50 rounded\"\n                            >\n                              <QrCode className=\"w-4 h-4\" />\n                            </button>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                    <tfoot className=\"bg-gray-50 border-t-2\">\n                      <tr>\n                        <td colSpan=\"6\" className=\"px-3 py-3 text-right font-bold\">\n                          Tổng cộng:\n                        </td>\n                        <td className=\"px-3 py-3 text-right font-bold text-green-600 text-lg\">\n                          {selectedOrder.tong_tien.toLocaleString('vi-VN')}đ\n                        </td>\n                        <td></td>\n                      </tr>\n                    </tfoot>\n                  </table>\n                </div>\n              </div>\n\n              {/* Ghi chú */}\n              {selectedOrder.ghi_chu && (\n                <div className=\"bg-gray-50 p-4 rounded-lg\">\n                  <p className=\"font-semibold text-gray-700 mb-2\">Ghi chú:</p>\n                  <p className=\"text-gray-600\">{selectedOrder.ghi_chu}</p>\n                </div>\n              )}\n            </div>\n\n            <div className=\"border-t px-6 py-4 flex justify-end gap-3 sticky bottom-0 bg-white\">\n              <button\n                onClick={() => {\n                  setShowDetailModal(false);\n                  handleEdit(selectedOrder);\n                }}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\"\n              >\n                <Edit className=\"w-4 h-4\" />\n                Sửa\n              </button>\n              <button\n                onClick={() => {\n                  setShowDetailModal(false);\n                  setSelectedOrder(null);\n                }}\n                className=\"px-4 py-2 border rounded-lg hover:bg-gray-50\"\n              >\n                Đóng\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n}\n\nexport default SalesOrder;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}