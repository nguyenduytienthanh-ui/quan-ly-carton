{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\app\\\\src\\\\pages\\\\SalesOrder.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Plus, Search, Edit, Trash2, Eye, X, ShoppingCart, QrCode, Calendar } from 'lucide-react';\nimport TextInput from '../components/TextInput';\nimport TextArea from '../components/TextArea';\n\n// ============================================================================\n// HELPER FUNCTIONS\n// ============================================================================\n\n// Tạo số đơn hàng tự động: DHXyyyymmxxx\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst generateSoDonHang = existingOrders => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  const prefix = `DHX${year}${month}`;\n  const currentMonthOrders = existingOrders.filter(o => {\n    var _o$so_don_hang;\n    return (_o$so_don_hang = o.so_don_hang) === null || _o$so_don_hang === void 0 ? void 0 : _o$so_don_hang.startsWith(prefix);\n  });\n  let maxNum = 0;\n  currentMonthOrders.forEach(o => {\n    const num = parseInt(o.so_don_hang.slice(-3));\n    if (!isNaN(num) && num > maxNum) {\n      maxNum = num;\n    }\n  });\n  const newNum = String(maxNum + 1).padStart(3, '0');\n  return `${prefix}${newNum}`;\n};\n\n// Lấy tên khách hàng\nconst getCustomerName = (customerId, customers) => {\n  if (!customerId || !customers) return '';\n  const customer = customers.find(c => c.id === customerId);\n  return (customer === null || customer === void 0 ? void 0 : customer.ten_khach_hang) || (customer === null || customer === void 0 ? void 0 : customer.name) || '';\n};\n\n// Lấy mã khách hàng\nconst getCustomerCode = (customerId, customers) => {\n  if (!customerId || !customers) return '';\n  const customer = customers.find(c => c.id === customerId);\n  return (customer === null || customer === void 0 ? void 0 : customer.ma_khach_hang) || (customer === null || customer === void 0 ? void 0 : customer.code) || '';\n};\n\n// Tạo danh sách tháng cho dropdown\nconst generateMonthOptions = () => {\n  const months = [];\n  const currentDate = new Date();\n\n  // Tạo 12 tháng gần nhất (6 tháng trước + tháng hiện tại + 5 tháng sau)\n  for (let i = -6; i <= 5; i++) {\n    const date = new Date(currentDate.getFullYear(), currentDate.getMonth() + i, 1);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    months.push({\n      value: `${year}-${month}`,\n      label: `Tháng ${month}/${year}`\n    });\n  }\n  return months;\n};\n\n// Format tháng hiện tại\nconst getCurrentMonth = () => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  return `${year}-${month}`;\n};\n\n// ============================================================================\n// MAIN COMPONENT  \n// ============================================================================\n\nfunction SalesOrder() {\n  _s();\n  const loadOrders = () => {\n    const saved = localStorage.getItem('salesOrders');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadProducts = () => {\n    const saved = localStorage.getItem('products');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadCustomers = () => {\n    const saved = localStorage.getItem('customers');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const [orders, setOrders] = useState(loadOrders);\n  const [products, setProducts] = useState(loadProducts);\n  const [customers, setCustomers] = useState(loadCustomers);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedMonth, setSelectedMonth] = useState(getCurrentMonth());\n  const [showModal, setShowModal] = useState(false);\n  const [editingOrder, setEditingOrder] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showProductModal, setShowProductModal] = useState(false);\n  const [productSearchTerm, setProductSearchTerm] = useState('');\n  const [showQRModal, setShowQRModal] = useState(false);\n  const [qrData, setQRData] = useState(null);\n\n  // Ref cho auto focus số lượng\n  const quantityInputRefs = useRef({});\n  const [form, setForm] = useState({\n    so_don_hang: '',\n    khach_hang_id: '',\n    ngay_dat: new Date().toISOString().split('T')[0],\n    ngay_giao_du_kien: '',\n    chi_tiet: [],\n    ghi_chu: ''\n  });\n  useEffect(() => {\n    localStorage.setItem('salesOrders', JSON.stringify(orders));\n  }, [orders]);\n  useEffect(() => {\n    setProducts(loadProducts());\n    setCustomers(loadCustomers());\n  }, []);\n\n  // ============================================================================\n  // FORM HANDLERS\n  // ============================================================================\n\n  const handleSubmit = () => {\n    if (!form.so_don_hang.trim() || !form.khach_hang_id) {\n      alert('Vui lòng điền đầy đủ Số đơn hàng và Khách hàng!');\n      return;\n    }\n    if (form.chi_tiet.length === 0) {\n      alert('Vui lòng thêm ít nhất 1 sản phẩm!');\n      return;\n    }\n\n    // Check số lượng (chỉ check mẹ, con tự động)\n    const hasInvalidQty = form.chi_tiet.some(item => !item.la_thanh_phan_con && (!item.so_luong || item.so_luong <= 0));\n    if (hasInvalidQty) {\n      alert('Vui lòng nhập số lượng cho tất cả sản phẩm mẹ!');\n      return;\n    }\n    const orderData = {\n      so_don_hang: form.so_don_hang.trim(),\n      khach_hang_id: form.khach_hang_id,\n      ngay_dat: form.ngay_dat,\n      ngay_giao_du_kien: form.ngay_giao_du_kien,\n      chi_tiet: form.chi_tiet.map(item => ({\n        ...item,\n        so_luong: parseFloat(item.so_luong) || 0,\n        thanh_tien: (parseFloat(item.so_luong) || 0) * parseFloat(item.don_gia)\n      })),\n      tong_tien: form.chi_tiet.reduce((sum, item) => sum + (parseFloat(item.so_luong) || 0) * parseFloat(item.don_gia), 0),\n      ghi_chu: form.ghi_chu.trim()\n    };\n    if (editingOrder) {\n      setOrders(orders.map(o => o.id === editingOrder.id ? {\n        ...o,\n        ...orderData\n      } : o));\n      alert('Đã cập nhật đơn hàng!');\n    } else {\n      const newOrder = {\n        id: Date.now(),\n        ...orderData,\n        ngay_tao: new Date().toISOString()\n      };\n      setOrders([...orders, newOrder]);\n      alert('Đã tạo đơn hàng mới!');\n    }\n    resetForm();\n    setShowModal(false);\n  };\n  const resetForm = () => {\n    setForm({\n      so_don_hang: generateSoDonHang(orders),\n      khach_hang_id: '',\n      ngay_dat: new Date().toISOString().split('T')[0],\n      ngay_giao_du_kien: '',\n      chi_tiet: [],\n      ghi_chu: ''\n    });\n    setEditingOrder(null);\n    quantityInputRefs.current = {};\n  };\n  const handleEdit = order => {\n    setForm({\n      ...order,\n      chi_tiet: order.chi_tiet.map(item => ({\n        ...item,\n        so_luong: item.so_luong.toString()\n      }))\n    });\n    setEditingOrder(order);\n    setShowModal(true);\n  };\n  const handleDelete = id => {\n    if (window.confirm('Bạn có chắc muốn xóa đơn hàng này?')) {\n      setOrders(orders.filter(o => o.id !== id));\n      alert('Đã xóa đơn hàng!');\n    }\n  };\n\n  // ============================================================================\n  // QR CODE HANDLER\n  // ============================================================================\n\n  const handleShowQR = (soDonHang, maHang) => {\n    setQRData({\n      code: `${soDonHang}-${maHang}`,\n      soDonHang: soDonHang,\n      maHang: maHang\n    });\n    setShowQRModal(true);\n  };\n\n  // ============================================================================\n  // PRODUCT HANDLERS - MẸ + CON TỰ ĐỘNG\n  // ============================================================================\n\n  const handleAddProduct = product => {\n    var _product$cong_doan, _product$cong_doan2, _product$cong_doan3, _product$cong_doan4, _product$cong_doan5, _product$cong_doan6, _product$cong_doan7, _product$cong_doan8, _product$cong_doan9, _product$cong_doan0, _product$cong_doan1, _product$cong_doan10, _product$cong_doan11;\n    const ktpo = product.po_cao ? `${product.po_dai}×${product.po_rong}×${product.po_cao}` : `${product.po_dai}×${product.po_rong}`;\n    const ktsx = product.sx_dai || product.sx_rong || product.sx_cao ? `${product.sx_dai || product.po_dai}×${product.sx_rong || product.po_rong}${product.sx_cao || product.po_cao ? '×' + (product.sx_cao || product.po_cao) : ''}` : ktpo;\n    const newItems = [];\n\n    // 1. THÊM MẸ\n    const parentItem = {\n      id: Date.now(),\n      thanh_pham_id: product.id,\n      ma_hang: product.ma_hang,\n      ten_san_pham: product.ten_san_pham,\n      ktpo: ktpo,\n      ktsx: ktsx,\n      song: product.song || 'N/A',\n      dvt: product.dvt || 'Cái',\n      kieu: product.kieu || '',\n      don_gia: product.don_gia || 0,\n      so_luong: '',\n      thanh_tien: 0,\n      hoa_hong_co_dinh: product.hoa_hong_co_dinh || 0,\n      hoa_hong_phan_tram: product.hoa_hong_phan_tram || 0,\n      cho_phep_sai_lech: product.cho_phep_sai_lech || false,\n      sai_lech_so_luong: product.sai_lech_so_luong || 0,\n      sai_lech_phan_tram: product.sai_lech_phan_tram || 0,\n      cong_doan: {\n        xa: ((_product$cong_doan = product.cong_doan) === null || _product$cong_doan === void 0 ? void 0 : _product$cong_doan.xa) || 0,\n        ma_phim: ((_product$cong_doan2 = product.cong_doan) === null || _product$cong_doan2 === void 0 ? void 0 : _product$cong_doan2.ma_phim) || '',\n        so_mau: ((_product$cong_doan3 = product.cong_doan) === null || _product$cong_doan3 === void 0 ? void 0 : _product$cong_doan3.so_mau) || 0,\n        in: ((_product$cong_doan4 = product.cong_doan) === null || _product$cong_doan4 === void 0 ? void 0 : _product$cong_doan4.in) || 0,\n        boi: ((_product$cong_doan5 = product.cong_doan) === null || _product$cong_doan5 === void 0 ? void 0 : _product$cong_doan5.boi) || 0,\n        can_mang: ((_product$cong_doan6 = product.cong_doan) === null || _product$cong_doan6 === void 0 ? void 0 : _product$cong_doan6.can_mang) || 0,\n        ma_khuon: ((_product$cong_doan7 = product.cong_doan) === null || _product$cong_doan7 === void 0 ? void 0 : _product$cong_doan7.ma_khuon) || '',\n        be: ((_product$cong_doan8 = product.cong_doan) === null || _product$cong_doan8 === void 0 ? void 0 : _product$cong_doan8.be) || 0,\n        chap: ((_product$cong_doan9 = product.cong_doan) === null || _product$cong_doan9 === void 0 ? void 0 : _product$cong_doan9.chap) || 0,\n        dong: ((_product$cong_doan0 = product.cong_doan) === null || _product$cong_doan0 === void 0 ? void 0 : _product$cong_doan0.dong) || 0,\n        dan: ((_product$cong_doan1 = product.cong_doan) === null || _product$cong_doan1 === void 0 ? void 0 : _product$cong_doan1.dan) || 0,\n        khac: ((_product$cong_doan10 = product.cong_doan) === null || _product$cong_doan10 === void 0 ? void 0 : _product$cong_doan10.khac) || 0,\n        khac_ghi_chu: ((_product$cong_doan11 = product.cong_doan) === null || _product$cong_doan11 === void 0 ? void 0 : _product$cong_doan11.khac_ghi_chu) || ''\n      },\n      ghi_chu: product.ghi_chu || '',\n      la_thanh_phan_con: false,\n      thanh_pham_me_id: null\n    };\n    newItems.push(parentItem);\n\n    // 2. THÊM CON (nếu có)\n    if (product.co_thanh_phan_con && product.thanh_phan_con && product.thanh_phan_con.length > 0) {\n      product.thanh_phan_con.forEach((con, index) => {\n        var _con$cong_doan, _con$cong_doan2, _con$cong_doan3, _con$cong_doan4, _con$cong_doan5, _con$cong_doan6, _con$cong_doan7, _con$cong_doan8, _con$cong_doan9, _con$cong_doan0, _con$cong_doan1, _con$cong_doan10, _con$cong_doan11;\n        const conKtpo = con.po_cao ? `${con.po_dai}×${con.po_rong}×${con.po_cao}` : `${con.po_dai}×${con.po_rong}`;\n        const conKtsx = con.sx_dai || con.sx_rong || con.sx_cao ? `${con.sx_dai || con.po_dai}×${con.sx_rong || con.po_rong}${con.sx_cao || con.po_cao ? '×' + (con.sx_cao || con.po_cao) : ''}` : conKtpo;\n        const childItem = {\n          id: Date.now() + index + 1,\n          thanh_pham_id: `${product.id}_${con.ma_hang_con}`,\n          ma_hang: con.ma_hang_con,\n          ten_san_pham: con.ten,\n          ktpo: conKtpo,\n          ktsx: conKtsx,\n          song: con.song || product.song || 'N/A',\n          dvt: con.dvt || product.dvt || 'Cái',\n          kieu: con.kieu || product.kieu || '',\n          don_gia: con.don_gia || 0,\n          so_luong: '',\n          // Sẽ tự động tính từ mẹ\n          thanh_tien: 0,\n          hoa_hong_co_dinh: 0,\n          hoa_hong_phan_tram: 0,\n          cho_phep_sai_lech: false,\n          sai_lech_so_luong: 0,\n          sai_lech_phan_tram: 0,\n          cong_doan: {\n            xa: ((_con$cong_doan = con.cong_doan) === null || _con$cong_doan === void 0 ? void 0 : _con$cong_doan.xa) || 0,\n            ma_phim: ((_con$cong_doan2 = con.cong_doan) === null || _con$cong_doan2 === void 0 ? void 0 : _con$cong_doan2.ma_phim) || '',\n            so_mau: ((_con$cong_doan3 = con.cong_doan) === null || _con$cong_doan3 === void 0 ? void 0 : _con$cong_doan3.so_mau) || 0,\n            in: ((_con$cong_doan4 = con.cong_doan) === null || _con$cong_doan4 === void 0 ? void 0 : _con$cong_doan4.in) || 0,\n            boi: ((_con$cong_doan5 = con.cong_doan) === null || _con$cong_doan5 === void 0 ? void 0 : _con$cong_doan5.boi) || 0,\n            can_mang: ((_con$cong_doan6 = con.cong_doan) === null || _con$cong_doan6 === void 0 ? void 0 : _con$cong_doan6.can_mang) || 0,\n            ma_khuon: ((_con$cong_doan7 = con.cong_doan) === null || _con$cong_doan7 === void 0 ? void 0 : _con$cong_doan7.ma_khuon) || '',\n            be: ((_con$cong_doan8 = con.cong_doan) === null || _con$cong_doan8 === void 0 ? void 0 : _con$cong_doan8.be) || 0,\n            chap: ((_con$cong_doan9 = con.cong_doan) === null || _con$cong_doan9 === void 0 ? void 0 : _con$cong_doan9.chap) || 0,\n            dong: ((_con$cong_doan0 = con.cong_doan) === null || _con$cong_doan0 === void 0 ? void 0 : _con$cong_doan0.dong) || 0,\n            dan: ((_con$cong_doan1 = con.cong_doan) === null || _con$cong_doan1 === void 0 ? void 0 : _con$cong_doan1.dan) || 0,\n            khac: ((_con$cong_doan10 = con.cong_doan) === null || _con$cong_doan10 === void 0 ? void 0 : _con$cong_doan10.khac) || 0,\n            khac_ghi_chu: ((_con$cong_doan11 = con.cong_doan) === null || _con$cong_doan11 === void 0 ? void 0 : _con$cong_doan11.khac_ghi_chu) || ''\n          },\n          ghi_chu: con.ghi_chu || '',\n          la_thanh_phan_con: true,\n          thanh_pham_me_id: parentItem.id,\n          so_luong_con_theo_me: con.so_luong || 1 // Tỷ lệ: 1 mẹ = bao nhiêu con\n        };\n        newItems.push(childItem);\n      });\n    }\n    setForm({\n      ...form,\n      chi_tiet: [...form.chi_tiet, ...newItems]\n    });\n    setShowProductModal(false);\n    setProductSearchTerm('');\n\n    // Auto focus vào SL của mẹ\n    setTimeout(() => {\n      const input = quantityInputRefs.current[parentItem.id];\n      if (input) {\n        input.focus();\n        input.select();\n      }\n    }, 100);\n  };\n  const handleUpdateQuantity = (itemId, value) => {\n    const item = form.chi_tiet.find(i => i.id === itemId);\n    if (!item) return;\n\n    // Nếu là mẹ → update cả con\n    if (!item.la_thanh_phan_con) {\n      const meQty = parseFloat(value) || 0;\n      setForm({\n        ...form,\n        chi_tiet: form.chi_tiet.map(i => {\n          // Update mẹ\n          if (i.id === itemId) {\n            return {\n              ...i,\n              so_luong: value,\n              thanh_tien: meQty * parseFloat(i.don_gia)\n            };\n          }\n\n          // Update con (nếu thuộc về mẹ này)\n          if (i.la_thanh_phan_con && i.thanh_pham_me_id === itemId) {\n            const conQty = meQty * (i.so_luong_con_theo_me || 1);\n            return {\n              ...i,\n              so_luong: conQty.toString(),\n              thanh_tien: conQty * parseFloat(i.don_gia)\n            };\n          }\n          return i;\n        })\n      });\n    }\n    // Con không được edit trực tiếp\n  };\n  const handleRemoveItem = itemId => {\n    const item = form.chi_tiet.find(i => i.id === itemId);\n    if (!item) return;\n\n    // Nếu xóa mẹ → xóa cả con\n    if (!item.la_thanh_phan_con) {\n      if (window.confirm('Xóa sản phẩm mẹ sẽ xóa cả các thành phần con. Bạn có chắc?')) {\n        setForm({\n          ...form,\n          chi_tiet: form.chi_tiet.filter(i => i.id !== itemId && i.thanh_pham_me_id !== itemId)\n        });\n      }\n    } else {\n      // Không cho xóa con riêng lẻ\n      alert('Không thể xóa thành phần con riêng lẻ. Vui lòng xóa sản phẩm mẹ.');\n    }\n  };\n\n  // ============================================================================\n  // PRODUCT SELECTION - CHỈ MẸ\n  // ============================================================================\n\n  const getParentProductsOnly = () => {\n    return products.map(product => {\n      var _product$thanh_phan_c;\n      return {\n        ...product,\n        displayName: product.co_thanh_phan_con && ((_product$thanh_phan_c = product.thanh_phan_con) === null || _product$thanh_phan_c === void 0 ? void 0 : _product$thanh_phan_c.length) > 0 ? `${product.ma_hang} - ${product.ten_san_pham} (có ${product.thanh_phan_con.length} con)` : `${product.ma_hang} - ${product.ten_san_pham}`\n      };\n    });\n  };\n  const filteredProducts = getParentProductsOnly().filter(p => {\n    const searchLower = productSearchTerm.toLowerCase();\n    return p.ma_hang.toLowerCase().includes(searchLower) || (p.ten_san_pham || '').toLowerCase().includes(searchLower) || p.displayName.toLowerCase().includes(searchLower);\n  });\n\n  // ============================================================================\n  // FILTERS - Theo tháng\n  // ============================================================================\n\n  const filteredOrders = orders.filter(o => {\n    // Filter theo tháng\n    const orderYearMonth = o.so_don_hang.slice(3, 9); // DHX202512001 → 202512\n    const selectedYearMonth = selectedMonth.replace('-', ''); // 2025-12 → 202512\n\n    if (orderYearMonth !== selectedYearMonth) return false;\n\n    // Filter theo search term\n    if (searchTerm) {\n      const searchLower = searchTerm.toLowerCase();\n      const customerName = getCustomerName(o.khach_hang_id, customers);\n      const customerCode = getCustomerCode(o.khach_hang_id, customers);\n      return o.so_don_hang.toLowerCase().includes(searchLower) || customerName.toLowerCase().includes(searchLower) || customerCode.toLowerCase().includes(searchLower);\n    }\n    return true;\n  });\n\n  // ============================================================================\n  // RENDER\n  // ============================================================================\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: \"\\u0110\\u01A1n h\\xE0ng Xu\\u1EA5t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Qu\\u1EA3n l\\xFD \\u0111\\u01A1n h\\xE0ng xu\\u1EA5t kho\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          resetForm();\n          setShowModal(true);\n        },\n        className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 11\n        }, this), \"T\\u1EA1o \\u0111\\u01A1n h\\xE0ng\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-sm border p-4 space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Calendar, {\n              className: \"w-4 h-4 inline mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 15\n            }, this), \"L\\u1ECDc theo th\\xE1ng\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedMonth,\n            onChange: e => setSelectedMonth(e.target.value),\n            className: \"w-full px-4 py-2 border rounded-lg bg-white\",\n            children: generateMonthOptions().map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: opt.value,\n              children: opt.label\n            }, opt.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"w-4 h-4 inline mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 15\n            }, this), \"T\\xECm ki\\u1EBFm\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            placeholder: \"S\\u1ED1 \\u0111\\u01A1n h\\xE0ng, kh\\xE1ch h\\xE0ng...\",\n            className: \"w-full px-4 py-2 border rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: [\"Hi\\u1EC3n th\\u1ECB \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-blue-600\",\n          children: filteredOrders.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 20\n        }, this), \" \\u0111\\u01A1n h\\xE0ng\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [filteredOrders.map(order => {\n        const customerName = getCustomerName(order.khach_hang_id, customers);\n        const customerCode = getCustomerCode(order.khach_hang_id, customers);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-sm border overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-blue-50 to-purple-50 px-6 py-4 border-b flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n                className: \"w-6 h-6 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-bold text-lg text-blue-900\",\n                  children: order.so_don_hang\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-3 text-sm text-gray-600 mt-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDCE6 KH: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-gray-900\",\n                      children: [customerCode, \" - \", customerName]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 549,\n                      columnNumber: 36\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 549,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u2022\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 550,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDCC5 \\u0110\\u1EB7t: \", new Date(order.ngay_dat).toLocaleDateString('vi-VN')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 551,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u2022\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 552,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDE9A Giao: \", new Date(order.ngay_giao_du_kien).toLocaleDateString('vi-VN')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 548,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"T\\u1ED5ng ti\\u1EC1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 559,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-green-600\",\n                  children: [order.tong_tien.toLocaleString('vi-VN'), \"\\u0111\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 560,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setSelectedOrder(order);\n                  setShowDetailModal(true);\n                },\n                className: \"p-2 text-purple-600 hover:bg-purple-50 rounded-lg\",\n                title: \"Xem chi ti\\u1EBFt\",\n                children: /*#__PURE__*/_jsxDEV(Eye, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 572,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEdit(order),\n                className: \"p-2 text-blue-600 hover:bg-blue-50 rounded-lg\",\n                title: \"S\\u1EEDa\",\n                children: /*#__PURE__*/_jsxDEV(Edit, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDelete(order.id),\n                className: \"p-2 text-red-600 hover:bg-red-50 rounded-lg\",\n                title: \"X\\xF3a\",\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 586,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 581,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-6 py-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"S\\u1EA3n ph\\u1EA9m:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 19\n              }, this), \" \", order.chi_tiet.length, \" m\\u1EB7t h\\xE0ng\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 17\n            }, this), order.ghi_chu && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-gray-700\",\n                children: \"Ghi ch\\xFA:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 597,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600 ml-2\",\n                children: order.ghi_chu\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 598,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 15\n          }, this)]\n        }, order.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 13\n        }, this);\n      }), filteredOrders.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm border p-12 text-center text-gray-500\",\n        children: [\"Kh\\xF4ng c\\xF3 \\u0111\\u01A1n h\\xE0ng n\\xE0o trong th\\xE1ng \", selectedMonth.split('-')[1], \"/\", selectedMonth.split('-')[0]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full max-w-7xl my-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sticky top-0 bg-white border-b px-6 py-4 z-10 rounded-t-xl\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold\",\n              children: editingOrder ? 'Sửa đơn hàng' : 'Tạo đơn hàng mới'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowModal(false);\n                resetForm();\n              },\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 629,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 617,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: [\"S\\u1ED1 \\u0111\\u01A1n h\\xE0ng * \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"(T\\u1EF1 \\u0111\\u1ED9ng)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 35\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: form.so_don_hang,\n                readOnly: true,\n                className: \"w-full px-4 py-2 border rounded-lg bg-gray-50 font-mono font-bold text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Kh\\xE1ch h\\xE0ng *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: form.khach_hang_id,\n                onChange: e => setForm({\n                  ...form,\n                  khach_hang_id: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"-- Ch\\u1ECDn m\\xE3 kh\\xE1ch h\\xE0ng --\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 656,\n                  columnNumber: 21\n                }, this), customers.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: c.id,\n                  children: c.ma_khach_hang || c.code\n                }, c.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 658,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 651,\n                columnNumber: 19\n              }, this), form.khach_hang_id && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-blue-600 mt-1 font-medium\",\n                children: [\"\\u2192 \", getCustomerName(form.khach_hang_id, customers)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 664,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Ng\\xE0y \\u0111\\u1EB7t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: form.ngay_dat,\n                onChange: e => setForm({\n                  ...form,\n                  ngay_dat: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Ng\\xE0y giao d\\u1EF1 ki\\u1EBFn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: form.ngay_giao_du_kien,\n                onChange: e => setForm({\n                  ...form,\n                  ngay_giao_du_kien: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded-lg p-4 bg-gray-50\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-bold text-lg\",\n                children: \"Chi ti\\u1EBFt s\\u1EA3n ph\\u1EA9m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowProductModal(true),\n                className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Plus, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 699,\n                  columnNumber: 21\n                }, this), \"Th\\xEAm s\\u1EA3n ph\\u1EA9m\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 17\n            }, this), form.chi_tiet.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-x-auto border rounded-lg bg-white\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-100 sticky top-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold sticky left-0 bg-gray-100 z-10 border-r\",\n                      children: \"M\\xE3 h\\xE0ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 708,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold\",\n                      children: \"T\\xEAn SP\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 709,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\",\n                      children: \"KTSX\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 710,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\",\n                      children: \"S\\xF3ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 711,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold bg-green-50\",\n                      children: \"\\u0110\\u01A1n gi\\xE1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 712,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold bg-yellow-50\",\n                      children: \"SL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 713,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold bg-green-50\",\n                      children: \"Th\\xE0nh ti\\u1EC1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 714,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\",\n                      children: \"QR\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 715,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 716,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 707,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 706,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  className: \"divide-y\",\n                  children: form.chi_tiet.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: item.la_thanh_phan_con ? 'bg-purple-50' : '',\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 sticky left-0 bg-white z-10 border-r\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `font-medium ${item.la_thanh_phan_con ? 'text-purple-700 pl-4' : 'text-blue-600'}`,\n                        children: [item.la_thanh_phan_con && '↳ ', item.ma_hang]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 723,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 722,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2\",\n                      children: item.ten_san_pham\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 728,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center text-xs\",\n                      children: item.ktsx\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 729,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"px-2 py-1 bg-gray-100 rounded text-xs\",\n                        children: item.song\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 731,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 730,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-right bg-green-50\",\n                      children: parseFloat(item.don_gia).toLocaleString('vi-VN')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 735,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 bg-yellow-50\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        ref: el => quantityInputRefs.current[item.id] = el,\n                        type: \"number\",\n                        value: item.so_luong,\n                        onChange: e => handleUpdateQuantity(item.id, e.target.value),\n                        className: \"w-20 px-2 py-1 border rounded text-right\",\n                        min: \"0\",\n                        placeholder: \"0\",\n                        disabled: item.la_thanh_phan_con\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 739,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 738,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-right font-semibold text-green-600 bg-green-50\",\n                      children: item.thanh_tien.toLocaleString('vi-VN')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 750,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleShowQR(form.so_don_hang, item.ma_hang),\n                        className: \"p-1 text-green-600 hover:bg-green-50 rounded\",\n                        title: \"Xem QR Code\",\n                        children: /*#__PURE__*/_jsxDEV(QrCode, {\n                          className: \"w-4 h-4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 759,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 754,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 753,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleRemoveItem(item.id),\n                        className: \"p-1 text-red-600 hover:bg-red-50 rounded\",\n                        title: item.la_thanh_phan_con ? 'Không thể xóa con riêng lẻ' : 'Xóa',\n                        children: /*#__PURE__*/_jsxDEV(X, {\n                          className: \"w-4 h-4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 768,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 763,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 762,\n                      columnNumber: 29\n                    }, this)]\n                  }, item.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 721,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 719,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                  className: \"bg-gray-50 border-t-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"6\",\n                      className: \"px-3 py-3 text-right font-bold\",\n                      children: \"T\\u1ED5ng ti\\u1EC1n:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 776,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-3 text-right font-bold text-green-600 text-lg\",\n                      children: [form.chi_tiet.reduce((sum, item) => sum + item.thanh_tien, 0).toLocaleString('vi-VN'), \"\\u0111\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 779,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 782,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 775,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 774,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 705,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 text-gray-500 bg-white border rounded-lg\",\n              children: \"Ch\\u01B0a c\\xF3 s\\u1EA3n ph\\u1EA9m. Nh\\u1EA5n \\\"Th\\xEAm s\\u1EA3n ph\\u1EA9m\\\" \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"Ghi ch\\xFA \\u0111\\u01A1n h\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 796,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n              value: form.ghi_chu,\n              onChange: value => setForm({\n                ...form,\n                ghi_chu: value\n              }),\n              placeholder: \"Ghi ch\\xFA v\\u1EC1 \\u0111\\u01A1n h\\xE0ng...\",\n              rows: 3,\n              className: \"w-full px-4 py-2 border rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 797,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 795,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t px-6 py-4 flex justify-end gap-3 sticky bottom-0 bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowModal(false);\n              resetForm();\n            },\n            className: \"px-6 py-2 border rounded-lg hover:bg-gray-50\",\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            className: \"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 822,\n              columnNumber: 17\n            }, this), editingOrder ? 'Cập nhật' : 'Tạo đơn hàng']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 818,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 808,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 616,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 615,\n      columnNumber: 9\n    }, this), showProductModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold\",\n              children: \"Ch\\u1ECDn s\\u1EA3n ph\\u1EA9m (M\\u1EB9 + Con t\\u1EF1 \\u0111\\u1ED9ng)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 836,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowProductModal(false);\n                setProductSearchTerm('');\n              },\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 844,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 837,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 835,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 834,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 851,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: productSearchTerm,\n              onChange: e => setProductSearchTerm(e.target.value),\n              placeholder: \"T\\xECm ki\\u1EBFm m\\xE3 h\\xE0ng, t\\xEAn s\\u1EA3n ph\\u1EA9m...\",\n              className: \"w-full pl-10 pr-4 py-2 border rounded-lg\",\n              autoFocus: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 852,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 850,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-y-auto max-h-96 border rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-50 sticky top-0\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-left font-semibold\",\n                    children: \"M\\xE3 h\\xE0ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 866,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-left font-semibold\",\n                    children: \"T\\xEAn s\\u1EA3n ph\\u1EA9m\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 867,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-center font-semibold\",\n                    children: \"KTSX\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 868,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-center font-semibold\",\n                    children: \"S\\xF3ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 869,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-right font-semibold\",\n                    children: \"\\u0110\\u01A1n gi\\xE1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 870,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-center font-semibold\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 871,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 865,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 864,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                className: \"divide-y\",\n                children: filteredProducts.map(product => {\n                  var _product$thanh_phan_c2;\n                  const alreadyAdded = form.chi_tiet.some(item => item.thanh_pham_id === product.id && !item.la_thanh_phan_con);\n                  const ktsx = product.sx_dai || product.sx_rong || product.sx_cao ? `${product.sx_dai || product.po_dai}×${product.sx_rong || product.po_rong}${product.sx_cao || product.po_cao ? '×' + (product.sx_cao || product.po_cao) : ''}` : product.po_cao ? `${product.po_dai}×${product.po_rong}×${product.po_cao}` : `${product.po_dai}×${product.po_rong}`;\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"hover:bg-gray-50\",\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium text-blue-600\",\n                        children: product.ma_hang\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 887,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 886,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [product.ten_san_pham, product.co_thanh_phan_con && ((_product$thanh_phan_c2 = product.thanh_phan_con) === null || _product$thanh_phan_c2 === void 0 ? void 0 : _product$thanh_phan_c2.length) > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xs text-purple-600 ml-2\",\n                          children: [\"(\", product.thanh_phan_con.length, \" con)\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 895,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 892,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 891,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center text-xs\",\n                      children: ktsx\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 901,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"px-2 py-1 bg-gray-100 rounded text-xs\",\n                        children: product.song || 'N/A'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 903,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 902,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-right\",\n                      children: [(product.don_gia || 0).toLocaleString('vi-VN'), \"\\u0111\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 907,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleAddProduct(product),\n                        disabled: alreadyAdded,\n                        className: `px-3 py-1 rounded text-sm ${alreadyAdded ? 'bg-gray-200 text-gray-500 cursor-not-allowed' : 'bg-blue-600 text-white hover:bg-blue-700'}`,\n                        children: alreadyAdded ? 'Đã thêm' : 'Chọn'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 911,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 910,\n                      columnNumber: 27\n                    }, this)]\n                  }, product.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 885,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 874,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 17\n            }, this), filteredProducts.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 text-gray-500\",\n              children: \"Kh\\xF4ng t\\xECm th\\u1EA5y s\\u1EA3n ph\\u1EA9m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 930,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 862,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 849,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 833,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 832,\n      columnNumber: 9\n    }, this), showQRModal && qrData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl max-w-md w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b px-6 py-4 flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold\",\n            children: \"QR Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 945,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowQRModal(false);\n              setQRData(null);\n            },\n            className: \"text-gray-400 hover:text-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 953,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 946,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 944,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-100 p-8 rounded-lg mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(QrCode, {\n              className: \"w-48 h-48 mx-auto text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 959,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mt-4\",\n              children: \"\\uD83D\\uDD2E QR Code s\\u1EBD \\u0111\\u01B0\\u1EE3c t\\u1EA1o \\u1EDF \\u0111\\xE2y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 960,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 958,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold text-lg font-mono text-blue-600\",\n              children: qrData.code\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 966,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: [\"\\u0110\\u01A1n h\\xE0ng: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: qrData.soDonHang\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 970,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 969,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: [\"M\\xE3 h\\xE0ng: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: qrData.maHang\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 973,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 972,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 965,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 flex gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => alert('Tính năng in QR - Làm sau'),\n              className: \"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\",\n              children: \"In QR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 978,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowQRModal(false);\n                setQRData(null);\n              },\n              className: \"flex-1 border px-4 py-2 rounded-lg hover:bg-gray-50\",\n              children: \"\\u0110\\xF3ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 984,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 977,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 957,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 943,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 942,\n      columnNumber: 9\n    }, this), showDetailModal && selectedOrder && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sticky top-0 bg-white border-b px-6 py-4 z-10\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold\",\n              children: [\"Chi ti\\u1EBFt \\u0111\\u01A1n h\\xE0ng: \", selectedOrder.so_don_hang]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1005,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowDetailModal(false);\n                setSelectedOrder(null);\n              },\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1013,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1006,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1004,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1003,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4 bg-blue-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Kh\\xE1ch h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1022,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold text-lg\",\n                children: [getCustomerCode(selectedOrder.khach_hang_id, customers), \" - \", getCustomerName(selectedOrder.khach_hang_id, customers)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1023,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1021,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"T\\u1ED5ng ti\\u1EC1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1028,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold text-2xl text-green-600\",\n                children: [selectedOrder.tong_tien.toLocaleString('vi-VN'), \"\\u0111\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1029,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1027,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Ng\\xE0y \\u0111\\u1EB7t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1034,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: new Date(selectedOrder.ngay_dat).toLocaleDateString('vi-VN')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1035,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1033,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Ng\\xE0y giao d\\u1EF1 ki\\u1EBFn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1040,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: new Date(selectedOrder.ngay_giao_du_kien).toLocaleDateString('vi-VN')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1041,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1039,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1020,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-bold text-lg mb-3\",\n              children: \"Danh s\\xE1ch s\\u1EA3n ph\\u1EA9m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1049,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-x-auto border rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-100\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold\",\n                      children: \"M\\xE3 h\\xE0ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1054,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold\",\n                      children: \"T\\xEAn SP\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1055,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\",\n                      children: \"KTSX\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1056,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\",\n                      children: \"S\\xF3ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1057,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold\",\n                      children: \"\\u0110\\u01A1n gi\\xE1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1058,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold\",\n                      children: \"SL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1059,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold\",\n                      children: \"Th\\xE0nh ti\\u1EC1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1060,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold\",\n                      children: \"QR\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1061,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1053,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1052,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  className: \"divide-y\",\n                  children: selectedOrder.chi_tiet.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: item.la_thanh_phan_con ? 'bg-purple-50' : '',\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `font-medium ${item.la_thanh_phan_con ? 'text-purple-700 pl-4' : 'text-blue-600'}`,\n                        children: [item.la_thanh_phan_con && '↳ ', item.ma_hang]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1068,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1067,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2\",\n                      children: item.ten_san_pham\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1073,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center text-xs\",\n                      children: item.ktsx\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1074,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"px-2 py-1 bg-gray-100 rounded text-xs\",\n                        children: item.song\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1076,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1075,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-right\",\n                      children: parseFloat(item.don_gia).toLocaleString('vi-VN')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1080,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-right font-medium\",\n                      children: item.so_luong.toLocaleString('vi-VN')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1083,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-right font-semibold text-green-600\",\n                      children: item.thanh_tien.toLocaleString('vi-VN')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1086,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleShowQR(selectedOrder.so_don_hang, item.ma_hang),\n                        className: \"p-1 text-green-600 hover:bg-green-50 rounded\",\n                        children: /*#__PURE__*/_jsxDEV(QrCode, {\n                          className: \"w-4 h-4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1094,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1090,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1089,\n                      columnNumber: 27\n                    }, this)]\n                  }, item.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1066,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1064,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                  className: \"bg-gray-50 border-t-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"6\",\n                      className: \"px-3 py-3 text-right font-bold\",\n                      children: \"T\\u1ED5ng c\\u1ED9ng:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1102,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-3 text-right font-bold text-green-600 text-lg\",\n                      children: [selectedOrder.tong_tien.toLocaleString('vi-VN'), \"\\u0111\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1105,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1108,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1101,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1100,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1051,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1050,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1048,\n            columnNumber: 15\n          }, this), selectedOrder.ghi_chu && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-semibold text-gray-700 mb-2\",\n              children: \"Ghi ch\\xFA:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1118,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: selectedOrder.ghi_chu\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1119,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1117,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1018,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t px-6 py-4 flex justify-end gap-3 sticky bottom-0 bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowDetailModal(false);\n              handleEdit(selectedOrder);\n            },\n            className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Edit, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1132,\n              columnNumber: 17\n            }, this), \"S\\u1EEDa\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1125,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowDetailModal(false);\n              setSelectedOrder(null);\n            },\n            className: \"px-4 py-2 border rounded-lg hover:bg-gray-50\",\n            children: \"\\u0110\\xF3ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1135,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1124,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1002,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1001,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 474,\n    columnNumber: 5\n  }, this);\n}\n_s(SalesOrder, \"XOy5CD3hupSgFBXIHCZmbQEFWqo=\");\n_c = SalesOrder;\nexport default SalesOrder;\nvar _c;\n$RefreshReg$(_c, \"SalesOrder\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Plus","Search","Edit","Trash2","Eye","X","ShoppingCart","QrCode","Calendar","TextInput","TextArea","jsxDEV","_jsxDEV","generateSoDonHang","existingOrders","now","Date","year","getFullYear","month","String","getMonth","padStart","prefix","currentMonthOrders","filter","o","_o$so_don_hang","so_don_hang","startsWith","maxNum","forEach","num","parseInt","slice","isNaN","newNum","getCustomerName","customerId","customers","customer","find","c","id","ten_khach_hang","name","getCustomerCode","ma_khach_hang","code","generateMonthOptions","months","currentDate","i","date","push","value","label","getCurrentMonth","SalesOrder","_s","loadOrders","saved","localStorage","getItem","JSON","parse","loadProducts","loadCustomers","orders","setOrders","products","setProducts","setCustomers","searchTerm","setSearchTerm","selectedMonth","setSelectedMonth","showModal","setShowModal","editingOrder","setEditingOrder","showDetailModal","setShowDetailModal","selectedOrder","setSelectedOrder","showProductModal","setShowProductModal","productSearchTerm","setProductSearchTerm","showQRModal","setShowQRModal","qrData","setQRData","quantityInputRefs","form","setForm","khach_hang_id","ngay_dat","toISOString","split","ngay_giao_du_kien","chi_tiet","ghi_chu","setItem","stringify","handleSubmit","trim","alert","length","hasInvalidQty","some","item","la_thanh_phan_con","so_luong","orderData","map","parseFloat","thanh_tien","don_gia","tong_tien","reduce","sum","newOrder","ngay_tao","resetForm","current","handleEdit","order","toString","handleDelete","window","confirm","handleShowQR","soDonHang","maHang","handleAddProduct","product","_product$cong_doan","_product$cong_doan2","_product$cong_doan3","_product$cong_doan4","_product$cong_doan5","_product$cong_doan6","_product$cong_doan7","_product$cong_doan8","_product$cong_doan9","_product$cong_doan0","_product$cong_doan1","_product$cong_doan10","_product$cong_doan11","ktpo","po_cao","po_dai","po_rong","ktsx","sx_dai","sx_rong","sx_cao","newItems","parentItem","thanh_pham_id","ma_hang","ten_san_pham","song","dvt","kieu","hoa_hong_co_dinh","hoa_hong_phan_tram","cho_phep_sai_lech","sai_lech_so_luong","sai_lech_phan_tram","cong_doan","xa","ma_phim","so_mau","in","boi","can_mang","ma_khuon","be","chap","dong","dan","khac","khac_ghi_chu","thanh_pham_me_id","co_thanh_phan_con","thanh_phan_con","con","index","_con$cong_doan","_con$cong_doan2","_con$cong_doan3","_con$cong_doan4","_con$cong_doan5","_con$cong_doan6","_con$cong_doan7","_con$cong_doan8","_con$cong_doan9","_con$cong_doan0","_con$cong_doan1","_con$cong_doan10","_con$cong_doan11","conKtpo","conKtsx","childItem","ma_hang_con","ten","so_luong_con_theo_me","setTimeout","input","focus","select","handleUpdateQuantity","itemId","meQty","conQty","handleRemoveItem","getParentProductsOnly","_product$thanh_phan_c","displayName","filteredProducts","p","searchLower","toLowerCase","includes","filteredOrders","orderYearMonth","selectedYearMonth","replace","customerName","customerCode","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onChange","e","target","opt","type","placeholder","toLocaleDateString","toLocaleString","title","readOnly","ref","el","min","disabled","colSpan","rows","autoFocus","_product$thanh_phan_c2","alreadyAdded","_c","$RefreshReg$"],"sources":["C:/Projects/app/src/pages/SalesOrder.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Plus, Search, Edit, Trash2, Eye, X, ShoppingCart, QrCode, Calendar } from 'lucide-react';\nimport TextInput from '../components/TextInput';\nimport TextArea from '../components/TextArea';\n\n// ============================================================================\n// HELPER FUNCTIONS\n// ============================================================================\n\n// Tạo số đơn hàng tự động: DHXyyyymmxxx\nconst generateSoDonHang = (existingOrders) => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  const prefix = `DHX${year}${month}`;\n  \n  const currentMonthOrders = existingOrders.filter(o => \n    o.so_don_hang?.startsWith(prefix)\n  );\n  \n  let maxNum = 0;\n  currentMonthOrders.forEach(o => {\n    const num = parseInt(o.so_don_hang.slice(-3));\n    if (!isNaN(num) && num > maxNum) {\n      maxNum = num;\n    }\n  });\n  \n  const newNum = String(maxNum + 1).padStart(3, '0');\n  return `${prefix}${newNum}`;\n};\n\n// Lấy tên khách hàng\nconst getCustomerName = (customerId, customers) => {\n  if (!customerId || !customers) return '';\n  const customer = customers.find(c => c.id === customerId);\n  return customer?.ten_khach_hang || customer?.name || '';\n};\n\n// Lấy mã khách hàng\nconst getCustomerCode = (customerId, customers) => {\n  if (!customerId || !customers) return '';\n  const customer = customers.find(c => c.id === customerId);\n  return customer?.ma_khach_hang || customer?.code || '';\n};\n\n// Tạo danh sách tháng cho dropdown\nconst generateMonthOptions = () => {\n  const months = [];\n  const currentDate = new Date();\n  \n  // Tạo 12 tháng gần nhất (6 tháng trước + tháng hiện tại + 5 tháng sau)\n  for (let i = -6; i <= 5; i++) {\n    const date = new Date(currentDate.getFullYear(), currentDate.getMonth() + i, 1);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    months.push({\n      value: `${year}-${month}`,\n      label: `Tháng ${month}/${year}`\n    });\n  }\n  \n  return months;\n};\n\n// Format tháng hiện tại\nconst getCurrentMonth = () => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  return `${year}-${month}`;\n};\n\n// ============================================================================\n// MAIN COMPONENT  \n// ============================================================================\n\nfunction SalesOrder() {\n  const loadOrders = () => {\n    const saved = localStorage.getItem('salesOrders');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const loadProducts = () => {\n    const saved = localStorage.getItem('products');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const loadCustomers = () => {\n    const saved = localStorage.getItem('customers');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const [orders, setOrders] = useState(loadOrders);\n  const [products, setProducts] = useState(loadProducts);\n  const [customers, setCustomers] = useState(loadCustomers);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedMonth, setSelectedMonth] = useState(getCurrentMonth());\n  const [showModal, setShowModal] = useState(false);\n  const [editingOrder, setEditingOrder] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showProductModal, setShowProductModal] = useState(false);\n  const [productSearchTerm, setProductSearchTerm] = useState('');\n  const [showQRModal, setShowQRModal] = useState(false);\n  const [qrData, setQRData] = useState(null);\n\n  // Ref cho auto focus số lượng\n  const quantityInputRefs = useRef({});\n\n  const [form, setForm] = useState({\n    so_don_hang: '',\n    khach_hang_id: '',\n    ngay_dat: new Date().toISOString().split('T')[0],\n    ngay_giao_du_kien: '',\n    chi_tiet: [],\n    ghi_chu: ''\n  });\n\n  useEffect(() => {\n    localStorage.setItem('salesOrders', JSON.stringify(orders));\n  }, [orders]);\n\n  useEffect(() => {\n    setProducts(loadProducts());\n    setCustomers(loadCustomers());\n  }, []);\n\n  // ============================================================================\n  // FORM HANDLERS\n  // ============================================================================\n\n  const handleSubmit = () => {\n    if (!form.so_don_hang.trim() || !form.khach_hang_id) {\n      alert('Vui lòng điền đầy đủ Số đơn hàng và Khách hàng!');\n      return;\n    }\n\n    if (form.chi_tiet.length === 0) {\n      alert('Vui lòng thêm ít nhất 1 sản phẩm!');\n      return;\n    }\n\n    // Check số lượng (chỉ check mẹ, con tự động)\n    const hasInvalidQty = form.chi_tiet.some(item => \n      !item.la_thanh_phan_con && (!item.so_luong || item.so_luong <= 0)\n    );\n    if (hasInvalidQty) {\n      alert('Vui lòng nhập số lượng cho tất cả sản phẩm mẹ!');\n      return;\n    }\n\n    const orderData = {\n      so_don_hang: form.so_don_hang.trim(),\n      khach_hang_id: form.khach_hang_id,\n      ngay_dat: form.ngay_dat,\n      ngay_giao_du_kien: form.ngay_giao_du_kien,\n      chi_tiet: form.chi_tiet.map(item => ({\n        ...item,\n        so_luong: parseFloat(item.so_luong) || 0,\n        thanh_tien: (parseFloat(item.so_luong) || 0) * parseFloat(item.don_gia)\n      })),\n      tong_tien: form.chi_tiet.reduce((sum, item) => \n        sum + ((parseFloat(item.so_luong) || 0) * parseFloat(item.don_gia)), 0\n      ),\n      ghi_chu: form.ghi_chu.trim()\n    };\n\n    if (editingOrder) {\n      setOrders(orders.map(o =>\n        o.id === editingOrder.id ? { ...o, ...orderData } : o\n      ));\n      alert('Đã cập nhật đơn hàng!');\n    } else {\n      const newOrder = {\n        id: Date.now(),\n        ...orderData,\n        ngay_tao: new Date().toISOString()\n      };\n      setOrders([...orders, newOrder]);\n      alert('Đã tạo đơn hàng mới!');\n    }\n\n    resetForm();\n    setShowModal(false);\n  };\n\n  const resetForm = () => {\n    setForm({\n      so_don_hang: generateSoDonHang(orders),\n      khach_hang_id: '',\n      ngay_dat: new Date().toISOString().split('T')[0],\n      ngay_giao_du_kien: '',\n      chi_tiet: [],\n      ghi_chu: ''\n    });\n    setEditingOrder(null);\n    quantityInputRefs.current = {};\n  };\n\n  const handleEdit = (order) => {\n    setForm({\n      ...order,\n      chi_tiet: order.chi_tiet.map(item => ({\n        ...item,\n        so_luong: item.so_luong.toString()\n      }))\n    });\n    setEditingOrder(order);\n    setShowModal(true);\n  };\n\n  const handleDelete = (id) => {\n    if (window.confirm('Bạn có chắc muốn xóa đơn hàng này?')) {\n      setOrders(orders.filter(o => o.id !== id));\n      alert('Đã xóa đơn hàng!');\n    }\n  };\n\n  // ============================================================================\n  // QR CODE HANDLER\n  // ============================================================================\n\n  const handleShowQR = (soDonHang, maHang) => {\n    setQRData({\n      code: `${soDonHang}-${maHang}`,\n      soDonHang: soDonHang,\n      maHang: maHang\n    });\n    setShowQRModal(true);\n  };\n\n  // ============================================================================\n  // PRODUCT HANDLERS - MẸ + CON TỰ ĐỘNG\n  // ============================================================================\n\n  const handleAddProduct = (product) => {\n    const ktpo = product.po_cao \n      ? `${product.po_dai}×${product.po_rong}×${product.po_cao}`\n      : `${product.po_dai}×${product.po_rong}`;\n    \n    const ktsx = (product.sx_dai || product.sx_rong || product.sx_cao)\n      ? `${product.sx_dai || product.po_dai}×${product.sx_rong || product.po_rong}${product.sx_cao || product.po_cao ? '×' + (product.sx_cao || product.po_cao) : ''}`\n      : ktpo;\n\n    const newItems = [];\n    \n    // 1. THÊM MẸ\n    const parentItem = {\n      id: Date.now(),\n      thanh_pham_id: product.id,\n      ma_hang: product.ma_hang,\n      ten_san_pham: product.ten_san_pham,\n      ktpo: ktpo,\n      ktsx: ktsx,\n      song: product.song || 'N/A',\n      dvt: product.dvt || 'Cái',\n      kieu: product.kieu || '',\n      don_gia: product.don_gia || 0,\n      so_luong: '',\n      thanh_tien: 0,\n      hoa_hong_co_dinh: product.hoa_hong_co_dinh || 0,\n      hoa_hong_phan_tram: product.hoa_hong_phan_tram || 0,\n      cho_phep_sai_lech: product.cho_phep_sai_lech || false,\n      sai_lech_so_luong: product.sai_lech_so_luong || 0,\n      sai_lech_phan_tram: product.sai_lech_phan_tram || 0,\n      cong_doan: {\n        xa: product.cong_doan?.xa || 0,\n        ma_phim: product.cong_doan?.ma_phim || '',\n        so_mau: product.cong_doan?.so_mau || 0,\n        in: product.cong_doan?.in || 0,\n        boi: product.cong_doan?.boi || 0,\n        can_mang: product.cong_doan?.can_mang || 0,\n        ma_khuon: product.cong_doan?.ma_khuon || '',\n        be: product.cong_doan?.be || 0,\n        chap: product.cong_doan?.chap || 0,\n        dong: product.cong_doan?.dong || 0,\n        dan: product.cong_doan?.dan || 0,\n        khac: product.cong_doan?.khac || 0,\n        khac_ghi_chu: product.cong_doan?.khac_ghi_chu || ''\n      },\n      ghi_chu: product.ghi_chu || '',\n      la_thanh_phan_con: false,\n      thanh_pham_me_id: null\n    };\n    \n    newItems.push(parentItem);\n\n    // 2. THÊM CON (nếu có)\n    if (product.co_thanh_phan_con && product.thanh_phan_con && product.thanh_phan_con.length > 0) {\n      product.thanh_phan_con.forEach((con, index) => {\n        const conKtpo = con.po_cao \n          ? `${con.po_dai}×${con.po_rong}×${con.po_cao}`\n          : `${con.po_dai}×${con.po_rong}`;\n        \n        const conKtsx = (con.sx_dai || con.sx_rong || con.sx_cao)\n          ? `${con.sx_dai || con.po_dai}×${con.sx_rong || con.po_rong}${con.sx_cao || con.po_cao ? '×' + (con.sx_cao || con.po_cao) : ''}`\n          : conKtpo;\n\n        const childItem = {\n          id: Date.now() + index + 1,\n          thanh_pham_id: `${product.id}_${con.ma_hang_con}`,\n          ma_hang: con.ma_hang_con,\n          ten_san_pham: con.ten,\n          ktpo: conKtpo,\n          ktsx: conKtsx,\n          song: con.song || product.song || 'N/A',\n          dvt: con.dvt || product.dvt || 'Cái',\n          kieu: con.kieu || product.kieu || '',\n          don_gia: con.don_gia || 0,\n          so_luong: '', // Sẽ tự động tính từ mẹ\n          thanh_tien: 0,\n          hoa_hong_co_dinh: 0,\n          hoa_hong_phan_tram: 0,\n          cho_phep_sai_lech: false,\n          sai_lech_so_luong: 0,\n          sai_lech_phan_tram: 0,\n          cong_doan: {\n            xa: con.cong_doan?.xa || 0,\n            ma_phim: con.cong_doan?.ma_phim || '',\n            so_mau: con.cong_doan?.so_mau || 0,\n            in: con.cong_doan?.in || 0,\n            boi: con.cong_doan?.boi || 0,\n            can_mang: con.cong_doan?.can_mang || 0,\n            ma_khuon: con.cong_doan?.ma_khuon || '',\n            be: con.cong_doan?.be || 0,\n            chap: con.cong_doan?.chap || 0,\n            dong: con.cong_doan?.dong || 0,\n            dan: con.cong_doan?.dan || 0,\n            khac: con.cong_doan?.khac || 0,\n            khac_ghi_chu: con.cong_doan?.khac_ghi_chu || ''\n          },\n          ghi_chu: con.ghi_chu || '',\n          la_thanh_phan_con: true,\n          thanh_pham_me_id: parentItem.id,\n          so_luong_con_theo_me: con.so_luong || 1 // Tỷ lệ: 1 mẹ = bao nhiêu con\n        };\n        \n        newItems.push(childItem);\n      });\n    }\n\n    setForm({\n      ...form,\n      chi_tiet: [...form.chi_tiet, ...newItems]\n    });\n\n    setShowProductModal(false);\n    setProductSearchTerm('');\n\n    // Auto focus vào SL của mẹ\n    setTimeout(() => {\n      const input = quantityInputRefs.current[parentItem.id];\n      if (input) {\n        input.focus();\n        input.select();\n      }\n    }, 100);\n  };\n\n  const handleUpdateQuantity = (itemId, value) => {\n    const item = form.chi_tiet.find(i => i.id === itemId);\n    \n    if (!item) return;\n\n    // Nếu là mẹ → update cả con\n    if (!item.la_thanh_phan_con) {\n      const meQty = parseFloat(value) || 0;\n      \n      setForm({\n        ...form,\n        chi_tiet: form.chi_tiet.map(i => {\n          // Update mẹ\n          if (i.id === itemId) {\n            return {\n              ...i,\n              so_luong: value,\n              thanh_tien: meQty * parseFloat(i.don_gia)\n            };\n          }\n          \n          // Update con (nếu thuộc về mẹ này)\n          if (i.la_thanh_phan_con && i.thanh_pham_me_id === itemId) {\n            const conQty = meQty * (i.so_luong_con_theo_me || 1);\n            return {\n              ...i,\n              so_luong: conQty.toString(),\n              thanh_tien: conQty * parseFloat(i.don_gia)\n            };\n          }\n          \n          return i;\n        })\n      });\n    }\n    // Con không được edit trực tiếp\n  };\n\n  const handleRemoveItem = (itemId) => {\n    const item = form.chi_tiet.find(i => i.id === itemId);\n    \n    if (!item) return;\n\n    // Nếu xóa mẹ → xóa cả con\n    if (!item.la_thanh_phan_con) {\n      if (window.confirm('Xóa sản phẩm mẹ sẽ xóa cả các thành phần con. Bạn có chắc?')) {\n        setForm({\n          ...form,\n          chi_tiet: form.chi_tiet.filter(i => \n            i.id !== itemId && i.thanh_pham_me_id !== itemId\n          )\n        });\n      }\n    } else {\n      // Không cho xóa con riêng lẻ\n      alert('Không thể xóa thành phần con riêng lẻ. Vui lòng xóa sản phẩm mẹ.');\n    }\n  };\n\n  // ============================================================================\n  // PRODUCT SELECTION - CHỈ MẸ\n  // ============================================================================\n\n  const getParentProductsOnly = () => {\n    return products.map(product => ({\n      ...product,\n      displayName: product.co_thanh_phan_con && product.thanh_phan_con?.length > 0\n        ? `${product.ma_hang} - ${product.ten_san_pham} (có ${product.thanh_phan_con.length} con)`\n        : `${product.ma_hang} - ${product.ten_san_pham}`\n    }));\n  };\n\n  const filteredProducts = getParentProductsOnly().filter(p => {\n    const searchLower = productSearchTerm.toLowerCase();\n    return (\n      p.ma_hang.toLowerCase().includes(searchLower) ||\n      (p.ten_san_pham || '').toLowerCase().includes(searchLower) ||\n      p.displayName.toLowerCase().includes(searchLower)\n    );\n  });\n\n  // ============================================================================\n  // FILTERS - Theo tháng\n  // ============================================================================\n\n  const filteredOrders = orders.filter(o => {\n    // Filter theo tháng\n    const orderYearMonth = o.so_don_hang.slice(3, 9); // DHX202512001 → 202512\n    const selectedYearMonth = selectedMonth.replace('-', ''); // 2025-12 → 202512\n    \n    if (orderYearMonth !== selectedYearMonth) return false;\n\n    // Filter theo search term\n    if (searchTerm) {\n      const searchLower = searchTerm.toLowerCase();\n      const customerName = getCustomerName(o.khach_hang_id, customers);\n      const customerCode = getCustomerCode(o.khach_hang_id, customers);\n      \n      return (\n        o.so_don_hang.toLowerCase().includes(searchLower) ||\n        customerName.toLowerCase().includes(searchLower) ||\n        customerCode.toLowerCase().includes(searchLower)\n      );\n    }\n\n    return true;\n  });\n\n  // ============================================================================\n  // RENDER\n  // ============================================================================\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-800\">Đơn hàng Xuất</h1>\n          <p className=\"text-gray-600\">Quản lý đơn hàng xuất kho</p>\n        </div>\n        <button\n          onClick={() => {\n            resetForm();\n            setShowModal(true);\n          }}\n          className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\n        >\n          <Plus className=\"w-5 h-5\" />Tạo đơn hàng\n        </button>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white rounded-xl shadow-sm border p-4 space-y-4\">\n        <div className=\"grid grid-cols-2 gap-4\">\n          {/* Chọn tháng */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <Calendar className=\"w-4 h-4 inline mr-1\" />\n              Lọc theo tháng\n            </label>\n            <select\n              value={selectedMonth}\n              onChange={(e) => setSelectedMonth(e.target.value)}\n              className=\"w-full px-4 py-2 border rounded-lg bg-white\"\n            >\n              {generateMonthOptions().map(opt => (\n                <option key={opt.value} value={opt.value}>\n                  {opt.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Search */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <Search className=\"w-4 h-4 inline mr-1\" />\n              Tìm kiếm\n            </label>\n            <input\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              placeholder=\"Số đơn hàng, khách hàng...\"\n              className=\"w-full px-4 py-2 border rounded-lg\"\n            />\n          </div>\n        </div>\n\n        <div className=\"text-sm text-gray-600\">\n          Hiển thị <span className=\"font-semibold text-blue-600\">{filteredOrders.length}</span> đơn hàng\n        </div>\n      </div>\n\n      {/* Orders List */}\n      <div className=\"space-y-4\">\n        {filteredOrders.map(order => {\n          const customerName = getCustomerName(order.khach_hang_id, customers);\n          const customerCode = getCustomerCode(order.khach_hang_id, customers);\n\n          return (\n            <div key={order.id} className=\"bg-white rounded-xl shadow-sm border overflow-hidden\">\n              <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 px-6 py-4 border-b flex justify-between items-center\">\n                <div className=\"flex items-center gap-4\">\n                  <ShoppingCart className=\"w-6 h-6 text-blue-600\" />\n                  <div>\n                    <h3 className=\"font-bold text-lg text-blue-900\">{order.so_don_hang}</h3>\n                    <div className=\"flex items-center gap-3 text-sm text-gray-600 mt-1\">\n                      <span>📦 KH: <span className=\"font-medium text-gray-900\">{customerCode} - {customerName}</span></span>\n                      <span>•</span>\n                      <span>📅 Đặt: {new Date(order.ngay_dat).toLocaleDateString('vi-VN')}</span>\n                      <span>•</span>\n                      <span>🚚 Giao: {new Date(order.ngay_giao_du_kien).toLocaleDateString('vi-VN')}</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"text-right\">\n                    <p className=\"text-sm text-gray-600\">Tổng tiền</p>\n                    <p className=\"text-2xl font-bold text-green-600\">\n                      {order.tong_tien.toLocaleString('vi-VN')}đ\n                    </p>\n                  </div>\n                  <button\n                    onClick={() => {\n                      setSelectedOrder(order);\n                      setShowDetailModal(true);\n                    }}\n                    className=\"p-2 text-purple-600 hover:bg-purple-50 rounded-lg\"\n                    title=\"Xem chi tiết\"\n                  >\n                    <Eye className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleEdit(order)}\n                    className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg\"\n                    title=\"Sửa\"\n                  >\n                    <Edit className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(order.id)}\n                    className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg\"\n                    title=\"Xóa\"\n                  >\n                    <Trash2 className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"px-6 py-4\">\n                <div className=\"text-sm text-gray-600 mb-2\">\n                  <span className=\"font-medium\">Sản phẩm:</span> {order.chi_tiet.length} mặt hàng\n                </div>\n                {order.ghi_chu && (\n                  <div className=\"text-sm\">\n                    <span className=\"font-medium text-gray-700\">Ghi chú:</span>\n                    <span className=\"text-gray-600 ml-2\">{order.ghi_chu}</span>\n                  </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n\n        {filteredOrders.length === 0 && (\n          <div className=\"bg-white rounded-xl shadow-sm border p-12 text-center text-gray-500\">\n            Không có đơn hàng nào trong tháng {selectedMonth.split('-')[1]}/{selectedMonth.split('-')[0]}\n          </div>\n        )}\n      </div>\n\n      {/* Add/Edit Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-7xl my-8\">\n            <div className=\"sticky top-0 bg-white border-b px-6 py-4 z-10 rounded-t-xl\">\n              <div className=\"flex justify-between items-center\">\n                <h2 className=\"text-xl font-bold\">\n                  {editingOrder ? 'Sửa đơn hàng' : 'Tạo đơn hàng mới'}\n                </h2>\n                <button\n                  onClick={() => {\n                    setShowModal(false);\n                    resetForm();\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto\">\n              {/* Thông tin đơn hàng */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Số đơn hàng * <span className=\"text-xs text-gray-500\">(Tự động)</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={form.so_don_hang}\n                    readOnly\n                    className=\"w-full px-4 py-2 border rounded-lg bg-gray-50 font-mono font-bold text-blue-600\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">Khách hàng *</label>\n                  <select\n                    value={form.khach_hang_id}\n                    onChange={(e) => setForm({ ...form, khach_hang_id: e.target.value })}\n                    className=\"w-full px-4 py-2 border rounded-lg\"\n                  >\n                    <option value=\"\">-- Chọn mã khách hàng --</option>\n                    {customers.map(c => (\n                      <option key={c.id} value={c.id}>\n                        {c.ma_khach_hang || c.code}\n                      </option>\n                    ))}\n                  </select>\n                  {form.khach_hang_id && (\n                    <p className=\"text-sm text-blue-600 mt-1 font-medium\">\n                      → {getCustomerName(form.khach_hang_id, customers)}\n                    </p>\n                  )}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">Ngày đặt</label>\n                  <input\n                    type=\"date\"\n                    value={form.ngay_dat}\n                    onChange={(e) => setForm({ ...form, ngay_dat: e.target.value })}\n                    className=\"w-full px-4 py-2 border rounded-lg\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">Ngày giao dự kiến</label>\n                  <input\n                    type=\"date\"\n                    value={form.ngay_giao_du_kien}\n                    onChange={(e) => setForm({ ...form, ngay_giao_du_kien: e.target.value })}\n                    className=\"w-full px-4 py-2 border rounded-lg\"\n                  />\n                </div>\n              </div>\n\n              {/* Chi tiết sản phẩm */}\n              <div className=\"border rounded-lg p-4 bg-gray-50\">\n                <div className=\"flex justify-between items-center mb-4\">\n                  <h3 className=\"font-bold text-lg\">Chi tiết sản phẩm</h3>\n                  <button\n                    onClick={() => setShowProductModal(true)}\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\n                  >\n                    <Plus className=\"w-4 h-4\" />Thêm sản phẩm\n                  </button>\n                </div>\n\n                {form.chi_tiet.length > 0 ? (\n                  <div className=\"overflow-x-auto border rounded-lg bg-white\">\n                    <table className=\"w-full text-sm\">\n                      <thead className=\"bg-gray-100 sticky top-0\">\n                        <tr>\n                          <th className=\"px-3 py-2 text-left font-semibold sticky left-0 bg-gray-100 z-10 border-r\">Mã hàng</th>\n                          <th className=\"px-3 py-2 text-left font-semibold\">Tên SP</th>\n                          <th className=\"px-3 py-2 text-center font-semibold\">KTSX</th>\n                          <th className=\"px-3 py-2 text-center font-semibold\">Sóng</th>\n                          <th className=\"px-3 py-2 text-right font-semibold bg-green-50\">Đơn giá</th>\n                          <th className=\"px-3 py-2 text-center font-semibold bg-yellow-50\">SL</th>\n                          <th className=\"px-3 py-2 text-right font-semibold bg-green-50\">Thành tiền</th>\n                          <th className=\"px-3 py-2 text-center font-semibold\">QR</th>\n                          <th className=\"px-3 py-2 text-center font-semibold\"></th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"divide-y\">\n                        {form.chi_tiet.map(item => (\n                          <tr key={item.id} className={item.la_thanh_phan_con ? 'bg-purple-50' : ''}>\n                            <td className=\"px-3 py-2 sticky left-0 bg-white z-10 border-r\">\n                              <span className={`font-medium ${item.la_thanh_phan_con ? 'text-purple-700 pl-4' : 'text-blue-600'}`}>\n                                {item.la_thanh_phan_con && '↳ '}\n                                {item.ma_hang}\n                              </span>\n                            </td>\n                            <td className=\"px-3 py-2\">{item.ten_san_pham}</td>\n                            <td className=\"px-3 py-2 text-center text-xs\">{item.ktsx}</td>\n                            <td className=\"px-3 py-2 text-center\">\n                              <span className=\"px-2 py-1 bg-gray-100 rounded text-xs\">\n                                {item.song}\n                              </span>\n                            </td>\n                            <td className=\"px-3 py-2 text-right bg-green-50\">\n                              {parseFloat(item.don_gia).toLocaleString('vi-VN')}\n                            </td>\n                            <td className=\"px-3 py-2 bg-yellow-50\">\n                              <input\n                                ref={el => quantityInputRefs.current[item.id] = el}\n                                type=\"number\"\n                                value={item.so_luong}\n                                onChange={(e) => handleUpdateQuantity(item.id, e.target.value)}\n                                className=\"w-20 px-2 py-1 border rounded text-right\"\n                                min=\"0\"\n                                placeholder=\"0\"\n                                disabled={item.la_thanh_phan_con}\n                              />\n                            </td>\n                            <td className=\"px-3 py-2 text-right font-semibold text-green-600 bg-green-50\">\n                              {item.thanh_tien.toLocaleString('vi-VN')}\n                            </td>\n                            <td className=\"px-3 py-2 text-center\">\n                              <button\n                                onClick={() => handleShowQR(form.so_don_hang, item.ma_hang)}\n                                className=\"p-1 text-green-600 hover:bg-green-50 rounded\"\n                                title=\"Xem QR Code\"\n                              >\n                                <QrCode className=\"w-4 h-4\" />\n                              </button>\n                            </td>\n                            <td className=\"px-3 py-2 text-center\">\n                              <button\n                                onClick={() => handleRemoveItem(item.id)}\n                                className=\"p-1 text-red-600 hover:bg-red-50 rounded\"\n                                title={item.la_thanh_phan_con ? 'Không thể xóa con riêng lẻ' : 'Xóa'}\n                              >\n                                <X className=\"w-4 h-4\" />\n                              </button>\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                      <tfoot className=\"bg-gray-50 border-t-2\">\n                        <tr>\n                          <td colSpan=\"6\" className=\"px-3 py-3 text-right font-bold\">\n                            Tổng tiền:\n                          </td>\n                          <td className=\"px-3 py-3 text-right font-bold text-green-600 text-lg\">\n                            {form.chi_tiet.reduce((sum, item) => sum + item.thanh_tien, 0).toLocaleString('vi-VN')}đ\n                          </td>\n                          <td colSpan=\"2\"></td>\n                        </tr>\n                      </tfoot>\n                    </table>\n                  </div>\n                ) : (\n                  <div className=\"text-center py-8 text-gray-500 bg-white border rounded-lg\">\n                    Chưa có sản phẩm. Nhấn \"Thêm sản phẩm\" để bắt đầu.\n                  </div>\n                )}\n              </div>\n\n              {/* Ghi chú */}\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">Ghi chú đơn hàng</label>\n                <TextArea\n                  value={form.ghi_chu}\n                  onChange={(value) => setForm({ ...form, ghi_chu: value })}\n                  placeholder=\"Ghi chú về đơn hàng...\"\n                  rows={3}\n                  className=\"w-full px-4 py-2 border rounded-lg\"\n                />\n              </div>\n            </div>\n\n            {/* Footer */}\n            <div className=\"border-t px-6 py-4 flex justify-end gap-3 sticky bottom-0 bg-white\">\n              <button\n                onClick={() => {\n                  setShowModal(false);\n                  resetForm();\n                }}\n                className=\"px-6 py-2 border rounded-lg hover:bg-gray-50\"\n              >\n                Hủy\n              </button>\n              <button\n                onClick={handleSubmit}\n                className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\"\n              >\n                <ShoppingCart className=\"w-5 h-5\" />\n                {editingOrder ? 'Cập nhật' : 'Tạo đơn hàng'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Product Selection Modal - CHỈ MẸ */}\n      {showProductModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden\">\n            <div className=\"border-b px-6 py-4\">\n              <div className=\"flex justify-between items-center\">\n                <h3 className=\"text-xl font-bold\">Chọn sản phẩm (Mẹ + Con tự động)</h3>\n                <button\n                  onClick={() => {\n                    setShowProductModal(false);\n                    setProductSearchTerm('');\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"p-6 space-y-4\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  value={productSearchTerm}\n                  onChange={(e) => setProductSearchTerm(e.target.value)}\n                  placeholder=\"Tìm kiếm mã hàng, tên sản phẩm...\"\n                  className=\"w-full pl-10 pr-4 py-2 border rounded-lg\"\n                  autoFocus\n                />\n              </div>\n\n              <div className=\"overflow-y-auto max-h-96 border rounded-lg\">\n                <table className=\"w-full text-sm\">\n                  <thead className=\"bg-gray-50 sticky top-0\">\n                    <tr>\n                      <th className=\"px-3 py-2 text-left font-semibold\">Mã hàng</th>\n                      <th className=\"px-3 py-2 text-left font-semibold\">Tên sản phẩm</th>\n                      <th className=\"px-3 py-2 text-center font-semibold\">KTSX</th>\n                      <th className=\"px-3 py-2 text-center font-semibold\">Sóng</th>\n                      <th className=\"px-3 py-2 text-right font-semibold\">Đơn giá</th>\n                      <th className=\"px-3 py-2 text-center font-semibold\"></th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y\">\n                    {filteredProducts.map(product => {\n                      const alreadyAdded = form.chi_tiet.some(item => \n                        item.thanh_pham_id === product.id && !item.la_thanh_phan_con\n                      );\n\n                      const ktsx = (product.sx_dai || product.sx_rong || product.sx_cao)\n                        ? `${product.sx_dai || product.po_dai}×${product.sx_rong || product.po_rong}${product.sx_cao || product.po_cao ? '×' + (product.sx_cao || product.po_cao) : ''}`\n                        : (product.po_cao ? `${product.po_dai}×${product.po_rong}×${product.po_cao}` : `${product.po_dai}×${product.po_rong}`);\n\n                      return (\n                        <tr key={product.id} className=\"hover:bg-gray-50\">\n                          <td className=\"px-3 py-2\">\n                            <span className=\"font-medium text-blue-600\">\n                              {product.ma_hang}\n                            </span>\n                          </td>\n                          <td className=\"px-3 py-2\">\n                            <div>\n                              {product.ten_san_pham}\n                              {product.co_thanh_phan_con && product.thanh_phan_con?.length > 0 && (\n                                <span className=\"text-xs text-purple-600 ml-2\">\n                                  ({product.thanh_phan_con.length} con)\n                                </span>\n                              )}\n                            </div>\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs\">{ktsx}</td>\n                          <td className=\"px-3 py-2 text-center\">\n                            <span className=\"px-2 py-1 bg-gray-100 rounded text-xs\">\n                              {product.song || 'N/A'}\n                            </span>\n                          </td>\n                          <td className=\"px-3 py-2 text-right\">\n                            {(product.don_gia || 0).toLocaleString('vi-VN')}đ\n                          </td>\n                          <td className=\"px-3 py-2 text-center\">\n                            <button\n                              onClick={() => handleAddProduct(product)}\n                              disabled={alreadyAdded}\n                              className={`px-3 py-1 rounded text-sm ${\n                                alreadyAdded\n                                  ? 'bg-gray-200 text-gray-500 cursor-not-allowed'\n                                  : 'bg-blue-600 text-white hover:bg-blue-700'\n                              }`}\n                            >\n                              {alreadyAdded ? 'Đã thêm' : 'Chọn'}\n                            </button>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n\n                {filteredProducts.length === 0 && (\n                  <div className=\"text-center py-8 text-gray-500\">\n                    Không tìm thấy sản phẩm\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* QR Code Modal */}\n      {showQRModal && qrData && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl max-w-md w-full\">\n            <div className=\"border-b px-6 py-4 flex justify-between items-center\">\n              <h3 className=\"text-xl font-bold\">QR Code</h3>\n              <button\n                onClick={() => {\n                  setShowQRModal(false);\n                  setQRData(null);\n                }}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            <div className=\"p-6 text-center\">\n              <div className=\"bg-gray-100 p-8 rounded-lg mb-4\">\n                <QrCode className=\"w-48 h-48 mx-auto text-gray-400\" />\n                <p className=\"text-sm text-gray-500 mt-4\">\n                  🔮 QR Code sẽ được tạo ở đây\n                </p>\n              </div>\n\n              <div className=\"space-y-2 text-sm\">\n                <p className=\"font-bold text-lg font-mono text-blue-600\">\n                  {qrData.code}\n                </p>\n                <p className=\"text-gray-600\">\n                  Đơn hàng: <span className=\"font-medium\">{qrData.soDonHang}</span>\n                </p>\n                <p className=\"text-gray-600\">\n                  Mã hàng: <span className=\"font-medium\">{qrData.maHang}</span>\n                </p>\n              </div>\n\n              <div className=\"mt-6 flex gap-3\">\n                <button\n                  onClick={() => alert('Tính năng in QR - Làm sau')}\n                  className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\n                >\n                  In QR\n                </button>\n                <button\n                  onClick={() => {\n                    setShowQRModal(false);\n                    setQRData(null);\n                  }}\n                  className=\"flex-1 border px-4 py-2 rounded-lg hover:bg-gray-50\"\n                >\n                  Đóng\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Detail Modal - Đầy đủ */}\n      {showDetailModal && selectedOrder && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"sticky top-0 bg-white border-b px-6 py-4 z-10\">\n              <div className=\"flex justify-between items-center\">\n                <h3 className=\"text-xl font-bold\">Chi tiết đơn hàng: {selectedOrder.so_don_hang}</h3>\n                <button\n                  onClick={() => {\n                    setShowDetailModal(false);\n                    setSelectedOrder(null);\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n            </div>\n            \n            <div className=\"p-6 space-y-6\">\n              {/* Thông tin đơn hàng */}\n              <div className=\"grid grid-cols-2 gap-4 bg-blue-50 p-4 rounded-lg\">\n                <div>\n                  <p className=\"text-sm text-gray-600\">Khách hàng</p>\n                  <p className=\"font-bold text-lg\">\n                    {getCustomerCode(selectedOrder.khach_hang_id, customers)} - {getCustomerName(selectedOrder.khach_hang_id, customers)}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Tổng tiền</p>\n                  <p className=\"font-bold text-2xl text-green-600\">\n                    {selectedOrder.tong_tien.toLocaleString('vi-VN')}đ\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Ngày đặt</p>\n                  <p className=\"font-medium\">\n                    {new Date(selectedOrder.ngay_dat).toLocaleDateString('vi-VN')}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Ngày giao dự kiến</p>\n                  <p className=\"font-medium\">\n                    {new Date(selectedOrder.ngay_giao_du_kien).toLocaleDateString('vi-VN')}\n                  </p>\n                </div>\n              </div>\n\n              {/* Bảng sản phẩm */}\n              <div>\n                <h4 className=\"font-bold text-lg mb-3\">Danh sách sản phẩm</h4>\n                <div className=\"overflow-x-auto border rounded-lg\">\n                  <table className=\"w-full text-sm\">\n                    <thead className=\"bg-gray-100\">\n                      <tr>\n                        <th className=\"px-3 py-2 text-left font-semibold\">Mã hàng</th>\n                        <th className=\"px-3 py-2 text-left font-semibold\">Tên SP</th>\n                        <th className=\"px-3 py-2 text-center font-semibold\">KTSX</th>\n                        <th className=\"px-3 py-2 text-center font-semibold\">Sóng</th>\n                        <th className=\"px-3 py-2 text-right font-semibold\">Đơn giá</th>\n                        <th className=\"px-3 py-2 text-right font-semibold\">SL</th>\n                        <th className=\"px-3 py-2 text-right font-semibold\">Thành tiền</th>\n                        <th className=\"px-3 py-2 text-center font-semibold\">QR</th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"divide-y\">\n                      {selectedOrder.chi_tiet.map(item => (\n                        <tr key={item.id} className={item.la_thanh_phan_con ? 'bg-purple-50' : ''}>\n                          <td className=\"px-3 py-2\">\n                            <span className={`font-medium ${item.la_thanh_phan_con ? 'text-purple-700 pl-4' : 'text-blue-600'}`}>\n                              {item.la_thanh_phan_con && '↳ '}\n                              {item.ma_hang}\n                            </span>\n                          </td>\n                          <td className=\"px-3 py-2\">{item.ten_san_pham}</td>\n                          <td className=\"px-3 py-2 text-center text-xs\">{item.ktsx}</td>\n                          <td className=\"px-3 py-2 text-center\">\n                            <span className=\"px-2 py-1 bg-gray-100 rounded text-xs\">\n                              {item.song}\n                            </span>\n                          </td>\n                          <td className=\"px-3 py-2 text-right\">\n                            {parseFloat(item.don_gia).toLocaleString('vi-VN')}\n                          </td>\n                          <td className=\"px-3 py-2 text-right font-medium\">\n                            {item.so_luong.toLocaleString('vi-VN')}\n                          </td>\n                          <td className=\"px-3 py-2 text-right font-semibold text-green-600\">\n                            {item.thanh_tien.toLocaleString('vi-VN')}\n                          </td>\n                          <td className=\"px-3 py-2 text-center\">\n                            <button\n                              onClick={() => handleShowQR(selectedOrder.so_don_hang, item.ma_hang)}\n                              className=\"p-1 text-green-600 hover:bg-green-50 rounded\"\n                            >\n                              <QrCode className=\"w-4 h-4\" />\n                            </button>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                    <tfoot className=\"bg-gray-50 border-t-2\">\n                      <tr>\n                        <td colSpan=\"6\" className=\"px-3 py-3 text-right font-bold\">\n                          Tổng cộng:\n                        </td>\n                        <td className=\"px-3 py-3 text-right font-bold text-green-600 text-lg\">\n                          {selectedOrder.tong_tien.toLocaleString('vi-VN')}đ\n                        </td>\n                        <td></td>\n                      </tr>\n                    </tfoot>\n                  </table>\n                </div>\n              </div>\n\n              {/* Ghi chú */}\n              {selectedOrder.ghi_chu && (\n                <div className=\"bg-gray-50 p-4 rounded-lg\">\n                  <p className=\"font-semibold text-gray-700 mb-2\">Ghi chú:</p>\n                  <p className=\"text-gray-600\">{selectedOrder.ghi_chu}</p>\n                </div>\n              )}\n            </div>\n\n            <div className=\"border-t px-6 py-4 flex justify-end gap-3 sticky bottom-0 bg-white\">\n              <button\n                onClick={() => {\n                  setShowDetailModal(false);\n                  handleEdit(selectedOrder);\n                }}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\"\n              >\n                <Edit className=\"w-4 h-4\" />\n                Sửa\n              </button>\n              <button\n                onClick={() => {\n                  setShowDetailModal(false);\n                  setSelectedOrder(null);\n                }}\n                className=\"px-4 py-2 border rounded-lg hover:bg-gray-50\"\n              >\n                Đóng\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n}\n\nexport default SalesOrder;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}