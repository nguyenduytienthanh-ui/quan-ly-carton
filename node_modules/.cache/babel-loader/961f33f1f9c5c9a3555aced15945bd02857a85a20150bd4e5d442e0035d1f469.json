{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\app\\\\src\\\\pages\\\\AdvanceTransaction.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Plus, Search, Eye, TrendingDown, TrendingUp, DollarSign, Calendar, FileText, Upload, Download, Wallet } from 'lucide-react';\nimport * as XLSX from 'xlsx';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst removeVietnameseTones = str => {\n  return str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').replace(/đ/g, 'd').replace(/Đ/g, 'D');\n};\nfunction AdvanceTransaction() {\n  _s();\n  const loadEmployees = () => {\n    const saved = localStorage.getItem('employees_v2');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadBankAccounts = () => {\n    const saved = localStorage.getItem('bank_accounts');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadCashAccounts = () => {\n    const saved = localStorage.getItem('cash_accounts');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadCashTransactions = () => {\n    const saved = localStorage.getItem('cash_transactions');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadAdvanceTransactions = () => {\n    const saved = localStorage.getItem('advance_transactions');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadSettlements = () => {\n    const saved = localStorage.getItem('advance_settlements');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const [employees] = useState(loadEmployees);\n  const [bankAccounts] = useState(loadBankAccounts);\n  const [cashAccounts, setCashAccounts] = useState(loadCashAccounts);\n  const [cashTransactions, setCashTransactions] = useState(loadCashTransactions);\n  const [transactions, setTransactions] = useState(loadAdvanceTransactions);\n  const [settlements, setSettlements] = useState(loadSettlements);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterMonth, setFilterMonth] = useState(new Date().toISOString().slice(0, 7));\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showSettlementModal, setShowSettlementModal] = useState(false);\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\n  const [addForm, setAddForm] = useState({\n    type: 'chi',\n    emp_id: '',\n    amount: '',\n    date: new Date().toISOString().slice(0, 10),\n    reason: 'Mua vật tư',\n    source_type: 'cash',\n    source_id: '',\n    note: ''\n  });\n  const [settlementForm, setSettlementForm] = useState({\n    items: [{\n      category: 'chi_phi_co_dinh',\n      amount: 0\n    }, {\n      category: 'chi_phi_san_xuat',\n      amount: 0\n    }, {\n      category: 'chi_phi_nguyen_vat_lieu',\n      amount: 0\n    }, {\n      category: 'chi_phi_sua_may',\n      amount: 0\n    }, {\n      category: 'chi_phi_van_chuyen',\n      amount: 0\n    }, {\n      category: 'chi_phi_khac',\n      amount: 0\n    }],\n    remaining_action: 'hoan_quy',\n    source_type: 'cash',\n    source_id: '',\n    note: ''\n  });\n  const expenseCategories = {\n    chi_phi_co_dinh: 'Chi phí cố định',\n    chi_phi_san_xuat: 'Chi phí sản xuất',\n    chi_phi_nguyen_vat_lieu: 'Chi phí nguyên vật liệu',\n    chi_phi_sua_may: 'Chi phí sửa máy móc',\n    chi_phi_van_chuyen: 'Chi phí vận chuyển',\n    chi_phi_khac: 'Chi phí khác'\n  };\n  useEffect(() => {\n    localStorage.setItem('advance_transactions', JSON.stringify(transactions));\n  }, [transactions]);\n  useEffect(() => {\n    localStorage.setItem('advance_settlements', JSON.stringify(settlements));\n  }, [settlements]);\n  useEffect(() => {\n    localStorage.setItem('cash_accounts', JSON.stringify(cashAccounts));\n  }, [cashAccounts]);\n  useEffect(() => {\n    localStorage.setItem('cash_transactions', JSON.stringify(cashTransactions));\n  }, [cashTransactions]);\n  const getEmployeeName = empId => {\n    const emp = employees.find(e => e.id === empId);\n    return emp ? `${emp.code} - ${emp.name}` : 'N/A';\n  };\n  const getSourceName = (sourceType, sourceId) => {\n    if (sourceType === 'cash') {\n      const acc = cashAccounts.find(a => a.id === sourceId);\n      return acc ? acc.ten : 'Tiền mặt';\n    } else {\n      const bank = bankAccounts.find(b => b.id === sourceId);\n      return bank ? `${bank.ma} (${bank.so_tk})` : 'N/A';\n    }\n  };\n  const handleAddTransaction = () => {\n    if (!addForm.emp_id || !addForm.amount || !addForm.source_id) {\n      alert('Vui lòng điền đầy đủ thông tin!');\n      return;\n    }\n    const amount = parseFloat(addForm.amount);\n    if (amount <= 0) {\n      alert('Số tiền phải lớn hơn 0!');\n      return;\n    }\n\n    // Check balance for cash\n    if (addForm.type === 'chi' && addForm.source_type === 'cash') {\n      const account = cashAccounts.find(acc => acc.id === parseInt(addForm.source_id));\n      if (account && account.so_du < amount) {\n        alert(`Số dư không đủ!\\nSố dư: ${account.so_du.toLocaleString('vi-VN')} đ\\nCần: ${amount.toLocaleString('vi-VN')} đ`);\n        return;\n      }\n    }\n    const newTransaction = {\n      id: Date.now(),\n      type: addForm.type,\n      emp_id: parseInt(addForm.emp_id),\n      amount: amount,\n      date: addForm.date,\n      reason: addForm.reason,\n      source_type: addForm.source_type,\n      source_id: parseInt(addForm.source_id),\n      status: 'chua_quyet_toan',\n      note: addForm.note,\n      created_date: new Date().toISOString()\n    };\n\n    // Update cash account\n    if (addForm.source_type === 'cash') {\n      const updatedAccounts = cashAccounts.map(acc => {\n        if (acc.id === parseInt(addForm.source_id)) {\n          return {\n            ...acc,\n            so_du: addForm.type === 'chi' ? acc.so_du - amount : acc.so_du + amount\n          };\n        }\n        return acc;\n      });\n      setCashAccounts(updatedAccounts);\n    }\n\n    // Create cash transaction\n    const cashTransaction = {\n      id: Date.now() + 1,\n      tai_khoan_id: parseInt(addForm.source_id),\n      ngay: addForm.date,\n      loai: addForm.type === 'chi' ? 'chi' : 'thu',\n      danh_muc: 'tam_ung_nv',\n      doi_tuong: getEmployeeName(parseInt(addForm.emp_id)),\n      ten_doi_tuong: getEmployeeName(parseInt(addForm.emp_id)),\n      so_tien: amount,\n      ly_do: addForm.reason,\n      ghi_chu: `Tạm ứng - ${addForm.note}`,\n      nguoi_tao: 'Admin',\n      ngay_tao: new Date().toISOString()\n    };\n    setCashTransactions([...cashTransactions, cashTransaction]);\n    setTransactions([...transactions, newTransaction]);\n    setShowAddModal(false);\n    setAddForm({\n      type: 'chi',\n      emp_id: '',\n      amount: '',\n      date: new Date().toISOString().slice(0, 10),\n      reason: 'Mua vật tư',\n      source_type: 'cash',\n      source_id: '',\n      note: ''\n    });\n    alert(`Đã ${addForm.type === 'chi' ? 'chi' : 'thu'} tạm ứng thành công!`);\n  };\n  const handleSettlement = () => {\n    if (!selectedTransaction) return;\n    const totalSpent = settlementForm.items.reduce((sum, item) => sum + parseFloat(item.amount || 0), 0);\n    const remaining = selectedTransaction.amount - totalSpent;\n    if (totalSpent > selectedTransaction.amount) {\n      alert('Tổng chi vượt quá số tiền tạm ứng!');\n      return;\n    }\n    if (remaining > 0 && !settlementForm.source_id) {\n      alert('Vui lòng chọn tài khoản để hoàn tiền!');\n      return;\n    }\n    const newSettlement = {\n      id: Date.now(),\n      transaction_id: selectedTransaction.id,\n      settlement_date: new Date().toISOString().slice(0, 10),\n      items: settlementForm.items.filter(item => item.amount > 0),\n      total_spent: totalSpent,\n      remaining: remaining,\n      remaining_action: settlementForm.remaining_action,\n      source_type: settlementForm.source_type,\n      source_id: settlementForm.source_id ? parseInt(settlementForm.source_id) : null,\n      note: settlementForm.note,\n      created_date: new Date().toISOString()\n    };\n    setSettlements([...settlements, newSettlement]);\n\n    // Update transaction status\n    setTransactions(transactions.map(t => t.id === selectedTransaction.id ? {\n      ...t,\n      status: 'da_quyet_toan'\n    } : t));\n\n    // Refund to cash account if needed\n    if (remaining > 0 && settlementForm.remaining_action === 'hoan_quy' && settlementForm.source_type === 'cash') {\n      const updatedAccounts = cashAccounts.map(acc => {\n        if (acc.id === parseInt(settlementForm.source_id)) {\n          return {\n            ...acc,\n            so_du: acc.so_du + remaining\n          };\n        }\n        return acc;\n      });\n      setCashAccounts(updatedAccounts);\n\n      // Create refund cash transaction\n      const refundTransaction = {\n        id: Date.now() + 1,\n        tai_khoan_id: parseInt(settlementForm.source_id),\n        ngay: new Date().toISOString().slice(0, 10),\n        loai: 'thu',\n        danh_muc: 'tam_ung_nv',\n        doi_tuong: getEmployeeName(selectedTransaction.emp_id),\n        ten_doi_tuong: getEmployeeName(selectedTransaction.emp_id),\n        so_tien: remaining,\n        ly_do: `Hoàn tạm ứng - ${selectedTransaction.reason}`,\n        ghi_chu: settlementForm.note,\n        nguoi_tao: 'Admin',\n        ngay_tao: new Date().toISOString()\n      };\n      setCashTransactions([...cashTransactions, refundTransaction]);\n    }\n    setShowSettlementModal(false);\n    setSelectedTransaction(null);\n    setSettlementForm({\n      items: [{\n        category: 'chi_phi_co_dinh',\n        amount: 0\n      }, {\n        category: 'chi_phi_san_xuat',\n        amount: 0\n      }, {\n        category: 'chi_phi_nguyen_vat_lieu',\n        amount: 0\n      }, {\n        category: 'chi_phi_sua_may',\n        amount: 0\n      }, {\n        category: 'chi_phi_van_chuyen',\n        amount: 0\n      }, {\n        category: 'chi_phi_khac',\n        amount: 0\n      }],\n      remaining_action: 'hoan_quy',\n      source_type: 'cash',\n      source_id: '',\n      note: ''\n    });\n    alert('Đã quyết toán thành công!');\n  };\n  const handleImportExcel = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = evt => {\n      try {\n        const data = new Uint8Array(evt.target.result);\n        const workbook = XLSX.read(data, {\n          type: 'array'\n        });\n        const sheet = workbook.Sheets[workbook.SheetNames[0]];\n        const jsonData = XLSX.utils.sheet_to_json(sheet);\n        const newItems = settlementForm.items.map(item => {\n          const row = jsonData.find(r => r['Loại chi phí'] === expenseCategories[item.category]);\n          return {\n            category: item.category,\n            amount: row ? parseFloat(row['Số tiền']) || 0 : 0\n          };\n        });\n        setSettlementForm({\n          ...settlementForm,\n          items: newItems\n        });\n        alert('Đã nhập dữ liệu từ Excel!');\n      } catch (error) {\n        alert('Lỗi đọc file Excel!');\n      }\n    };\n    reader.readAsArrayBuffer(file);\n  };\n  const handleExportTemplate = () => {\n    const data = Object.entries(expenseCategories).map(([key, value]) => ({\n      'Loại chi phí': value,\n      'Số tiền': 0\n    }));\n    const ws = XLSX.utils.json_to_sheet(data);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, 'Template');\n    XLSX.writeFile(wb, 'Mau-quyet-toan.xlsx');\n  };\n  const getSummary = () => {\n    const monthTransactions = filteredTransactions;\n    const totalChi = monthTransactions.filter(t => t.type === 'chi').reduce((sum, t) => sum + t.amount, 0);\n    const totalThu = monthTransactions.filter(t => t.type === 'thu').reduce((sum, t) => sum + t.amount, 0);\n    const chuaQuyetToan = monthTransactions.filter(t => t.status === 'chua_quyet_toan').reduce((sum, t) => sum + t.amount, 0);\n    const daQuyetToan = monthTransactions.filter(t => t.status === 'da_quyet_toan').reduce((sum, t) => sum + t.amount, 0);\n    return {\n      totalChi,\n      totalThu,\n      chuaQuyetToan,\n      daQuyetToan,\n      count: monthTransactions.length\n    };\n  };\n  const filteredTransactions = transactions.filter(t => {\n    if (!t.date.startsWith(filterMonth)) return false;\n    if (filterStatus !== 'all' && t.status !== filterStatus) return false;\n    if (!searchTerm) return true;\n    const searchLower = removeVietnameseTones(searchTerm.toLowerCase());\n    const empName = getEmployeeName(t.emp_id);\n    const searchableFields = [empName, t.reason || '', t.note || ''];\n    return searchableFields.some(field => removeVietnameseTones(field.toLowerCase()).includes(searchLower));\n  }).sort((a, b) => new Date(b.date) - new Date(a.date));\n  const summary = getSummary();\n  const cashSources = cashAccounts.filter(acc => acc.trang_thai === 'active');\n  const bankSources = bankAccounts.filter(bank => bank.trang_thai === 'active');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: \"T\\u1EA1m \\u1EE9ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Qu\\u1EA3n l\\xFD t\\u1EA1m \\u1EE9ng mua h\\xE0ng & thu chi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowAddModal(true),\n        className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), \"Th\\xEAm giao d\\u1ECBch\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-sm border p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-3 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium mb-2\",\n            children: \"Th\\xE1ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"month\",\n            value: filterMonth,\n            onChange: e => setFilterMonth(e.target.value),\n            className: \"w-full px-4 py-2 border rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium mb-2\",\n            children: \"Tr\\u1EA1ng th\\xE1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filterStatus,\n            onChange: e => setFilterStatus(e.target.value),\n            className: \"w-full px-4 py-2 border rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"T\\u1EA5t c\\u1EA3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"chua_quyet_toan\",\n              children: \"Ch\\u01B0a quy\\u1EBFt to\\xE1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"da_quyet_toan\",\n              children: \"\\u0110\\xE3 quy\\u1EBFt to\\xE1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium mb-2\",\n            children: \"T\\xECm ki\\u1EBFm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value),\n              placeholder: \"Nh\\xE2n vi\\xEAn, l\\xFD do...\",\n              className: \"w-full pl-10 pr-4 py-2 border rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 7\n    }, this), filteredTransactions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 text-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-100 text-sm\",\n              children: \"T\\u1ED5ng chi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold mt-1\",\n              children: [(summary.totalChi / 1000000).toFixed(1), \"M\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TrendingDown, {\n            className: \"w-12 h-12 text-red-200\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-green-100 text-sm\",\n              children: \"T\\u1ED5ng thu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold mt-1\",\n              children: [(summary.totalThu / 1000000).toFixed(1), \"M\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TrendingUp, {\n            className: \"w-12 h-12 text-green-200\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-orange-100 text-sm\",\n              children: \"Ch\\u01B0a quy\\u1EBFt to\\xE1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold mt-1\",\n              children: [(summary.chuaQuyetToan / 1000000).toFixed(1), \"M\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n            className: \"w-12 h-12 text-orange-200\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-blue-100 text-sm\",\n              children: \"\\u0110\\xE3 quy\\u1EBFt to\\xE1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold mt-1\",\n              children: [(summary.daQuyetToan / 1000000).toFixed(1), \"M\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(DollarSign, {\n            className: \"w-12 h-12 text-blue-200\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-sm border overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\",\n                children: \"Ng\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\",\n                children: \"Lo\\u1EA1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\",\n                children: \"Nh\\xE2n vi\\xEAn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\",\n                children: \"L\\xFD do\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase\",\n                children: \"S\\u1ED1 ti\\u1EC1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase\",\n                children: \"Ngu\\u1ED3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase\",\n                children: \"Tr\\u1EA1ng th\\xE1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase\",\n                children: \"Thao t\\xE1c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"divide-y\",\n            children: filteredTransactions.map(transaction => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"hover:bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-4 text-sm\",\n                children: new Date(transaction.date).toLocaleDateString('vi-VN')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-4\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 py-1 rounded-full text-xs font-medium ${transaction.type === 'chi' ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'}`,\n                  children: transaction.type === 'chi' ? 'Chi' : 'Thu'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-4 text-sm\",\n                children: getEmployeeName(transaction.emp_id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-4 text-sm text-gray-600\",\n                children: transaction.reason\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-4 text-sm text-right\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `font-bold ${transaction.type === 'chi' ? 'text-red-600' : 'text-green-600'}`,\n                  children: [transaction.type === 'chi' ? '-' : '+', transaction.amount.toLocaleString('vi-VN'), \" \\u0111\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-4 text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center gap-1\",\n                  children: [/*#__PURE__*/_jsxDEV(Wallet, {\n                    className: \"w-4 h-4 text-gray-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs text-gray-600\",\n                    children: getSourceName(transaction.source_type, transaction.source_id)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 496,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-4 text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 py-1 rounded-full text-xs font-medium ${transaction.status === 'chua_quyet_toan' ? 'bg-orange-100 text-orange-800' : 'bg-green-100 text-green-800'}`,\n                  children: transaction.status === 'chua_quyet_toan' ? 'Chưa quyết toán' : 'Đã quyết toán'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-center gap-2\",\n                  children: [transaction.type === 'chi' && transaction.status === 'chua_quyet_toan' && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      setSelectedTransaction(transaction);\n                      setShowSettlementModal(true);\n                    },\n                    className: \"p-2 text-blue-600 hover:bg-blue-50 rounded-lg\",\n                    title: \"Quy\\u1EBFt to\\xE1n\",\n                    children: /*#__PURE__*/_jsxDEV(FileText, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 521,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 513,\n                    columnNumber: 25\n                  }, this), transaction.status === 'da_quyet_toan' && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      const settlement = settlements.find(s => s.transaction_id === transaction.id);\n                      if (settlement) {\n                        alert(`Đã quyết toán:\\nTổng chi: ${settlement.total_spent.toLocaleString('vi-VN')} đ\\nCòn lại: ${settlement.remaining.toLocaleString('vi-VN')} đ`);\n                      }\n                    },\n                    className: \"p-2 text-green-600 hover:bg-green-50 rounded-lg\",\n                    title: \"Xem chi ti\\u1EBFt\",\n                    children: /*#__PURE__*/_jsxDEV(Eye, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 535,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 19\n              }, this)]\n            }, transaction.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this), filteredTransactions.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12 text-gray-500\",\n        children: \"Kh\\xF4ng c\\xF3 giao d\\u1ECBch n\\xE0o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 7\n    }, this), showAddModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold\",\n            children: \"Th\\xEAm giao d\\u1ECBch t\\u1EA1m \\u1EE9ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Lo\\u1EA1i giao d\\u1ECBch *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: addForm.type,\n                onChange: e => setAddForm({\n                  ...addForm,\n                  type: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"chi\",\n                  children: \"Chi t\\u1EA1m \\u1EE9ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 566,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"thu\",\n                  children: \"Thu ti\\u1EC1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 567,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Ng\\xE0y *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 571,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: addForm.date,\n                onChange: e => setAddForm({\n                  ...addForm,\n                  date: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Nh\\xE2n vi\\xEAn *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: addForm.emp_id,\n                onChange: e => setAddForm({\n                  ...addForm,\n                  emp_id: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn nh\\xE2n vi\\xEAn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 589,\n                  columnNumber: 21\n                }, this), employees.filter(e => e.status !== 'Nghỉ việc').map(emp => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: emp.id,\n                  children: [emp.code, \" - \", emp.name]\n                }, emp.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 591,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"S\\u1ED1 ti\\u1EC1n *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 598,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: addForm.amount,\n                onChange: e => setAddForm({\n                  ...addForm,\n                  amount: e.target.value\n                }),\n                placeholder: \"VD: 10000000\",\n                className: \"w-full px-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 599,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"L\\xFD do *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 610,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: addForm.reason,\n              onChange: e => setAddForm({\n                ...addForm,\n                reason: e.target.value\n              }),\n              placeholder: \"Mua v\\u1EADt t\\u01B0, \\u0110i c\\xF4ng t\\xE1c...\",\n              className: \"w-full px-4 py-2 border rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"Ngu\\u1ED3n ti\\u1EC1n *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  id: \"add-source-cash\",\n                  checked: addForm.source_type === 'cash',\n                  onChange: () => setAddForm({\n                    ...addForm,\n                    source_type: 'cash',\n                    source_id: ''\n                  }),\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 624,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"add-source-cash\",\n                  className: \"text-sm font-medium\",\n                  children: \"Ti\\u1EC1n m\\u1EB7t / Qu\\u1EF9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 631,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 19\n              }, this), addForm.source_type === 'cash' && /*#__PURE__*/_jsxDEV(\"select\", {\n                value: addForm.source_id,\n                onChange: e => setAddForm({\n                  ...addForm,\n                  source_id: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg ml-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn qu\\u1EF9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 23\n                }, this), cashSources.map(acc => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: acc.id,\n                  children: [acc.ten, \" (\", acc.so_du.toLocaleString('vi-VN'), \" \\u0111)\"]\n                }, acc.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  id: \"add-source-bank\",\n                  checked: addForm.source_type === 'bank',\n                  onChange: () => setAddForm({\n                    ...addForm,\n                    source_type: 'bank',\n                    source_id: ''\n                  }),\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 649,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"add-source-bank\",\n                  className: \"text-sm font-medium\",\n                  children: \"Ng\\xE2n h\\xE0ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 656,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 648,\n                columnNumber: 19\n              }, this), addForm.source_type === 'bank' && /*#__PURE__*/_jsxDEV(\"select\", {\n                value: addForm.source_id,\n                onChange: e => setAddForm({\n                  ...addForm,\n                  source_id: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg ml-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn t\\xE0i kho\\u1EA3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 23\n                }, this), bankSources.map(bank => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: bank.id,\n                  children: [bank.ma, \" - \", bank.so_tk, \" (\", bank.ngan_hang, \")\"]\n                }, bank.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 666,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"Ghi ch\\xFA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: addForm.note,\n              onChange: e => setAddForm({\n                ...addForm,\n                note: e.target.value\n              }),\n              placeholder: \"Ghi ch\\xFA th\\xEAm...\",\n              className: \"w-full px-4 py-2 border rounded-lg\",\n              rows: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t px-6 py-4 flex justify-end gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowAddModal(false);\n              setAddForm({\n                type: 'chi',\n                emp_id: '',\n                amount: '',\n                date: new Date().toISOString().slice(0, 10),\n                reason: 'Mua vật tư',\n                source_type: 'cash',\n                source_id: '',\n                note: ''\n              });\n            },\n            className: \"px-4 py-2 border rounded-lg hover:bg-gray-50\",\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAddTransaction,\n            className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",\n            children: \"Th\\xEAm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 705,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 686,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 9\n    }, this), showSettlementModal && selectedTransaction && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sticky top-0 bg-white border-b px-6 py-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold\",\n            children: \"Quy\\u1EBFt to\\xE1n t\\u1EA1m \\u1EE9ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 721,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: [getEmployeeName(selectedTransaction.emp_id), \" - \", selectedTransaction.amount.toLocaleString('vi-VN'), \" \\u0111\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 722,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 720,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold\",\n              children: \"Chi ti\\u1EBFt chi ph\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 728,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleExportTemplate,\n                className: \"px-3 py-1 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(Download, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 734,\n                  columnNumber: 21\n                }, this), \"T\\u1EA3i m\\u1EABu\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 730,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"px-3 py-1 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-1 cursor-pointer\",\n                children: [/*#__PURE__*/_jsxDEV(Upload, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 737,\n                  columnNumber: 21\n                }, this), \"Nh\\u1EADp Excel\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \".xlsx,.xls\",\n                  onChange: handleImportExcel,\n                  className: \"hidden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 738,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 736,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 729,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 727,\n            columnNumber: 15\n          }, this), settlementForm.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4 items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium\",\n              children: expenseCategories[item.category]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 750,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: item.amount,\n              onChange: e => {\n                const newItems = [...settlementForm.items];\n                newItems[index].amount = parseFloat(e.target.value) || 0;\n                setSettlementForm({\n                  ...settlementForm,\n                  items: newItems\n                });\n              },\n              className: \"px-4 py-2 border rounded-lg\",\n              placeholder: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 751,\n              columnNumber: 19\n            }, this)]\n          }, item.category, true, {\n            fileName: _jsxFileName,\n            lineNumber: 749,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t pt-4 space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between font-semibold\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"T\\u1ED5ng chi:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 767,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-blue-600\",\n                children: [settlementForm.items.reduce((sum, item) => sum + (parseFloat(item.amount) || 0), 0).toLocaleString('vi-VN'), \" \\u0111\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 768,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 766,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between font-semibold\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"C\\xF2n l\\u1EA1i:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 773,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-green-600\",\n                children: [(selectedTransaction.amount - settlementForm.items.reduce((sum, item) => sum + (parseFloat(item.amount) || 0), 0)).toLocaleString('vi-VN'), \" \\u0111\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 774,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 772,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 765,\n            columnNumber: 15\n          }, this), selectedTransaction.amount - settlementForm.items.reduce((sum, item) => sum + (parseFloat(item.amount) || 0), 0) > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"X\\u1EED l\\xFD s\\u1ED1 d\\u01B0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 783,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: settlementForm.remaining_action,\n                onChange: e => setSettlementForm({\n                  ...settlementForm,\n                  remaining_action: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"hoan_quy\",\n                  children: \"Ho\\xE0n l\\u1EA1i qu\\u1EF9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 789,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"giu_lai\",\n                  children: \"Gi\\u1EEF l\\u1EA1i ti\\u1EBFp\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 790,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"chi_phi_khac\",\n                  children: \"Ghi nh\\u1EADn chi ph\\xED kh\\xE1c\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 791,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 784,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 782,\n              columnNumber: 19\n            }, this), settlementForm.remaining_action === 'hoan_quy' && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Ho\\xE0n v\\xE0o *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 797,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    id: \"refund-cash\",\n                    checked: settlementForm.source_type === 'cash',\n                    onChange: () => setSettlementForm({\n                      ...settlementForm,\n                      source_type: 'cash',\n                      source_id: ''\n                    }),\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 800,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"refund-cash\",\n                    className: \"text-sm font-medium\",\n                    children: \"Ti\\u1EC1n m\\u1EB7t / Qu\\u1EF9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 807,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 799,\n                  columnNumber: 25\n                }, this), settlementForm.source_type === 'cash' && /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: settlementForm.source_id,\n                  onChange: e => setSettlementForm({\n                    ...settlementForm,\n                    source_id: e.target.value\n                  }),\n                  className: \"w-full px-4 py-2 border rounded-lg ml-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Ch\\u1ECDn qu\\u1EF9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 815,\n                    columnNumber: 29\n                  }, this), cashSources.map(acc => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: acc.id,\n                    children: acc.ten\n                  }, acc.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 817,\n                    columnNumber: 31\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 810,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    id: \"refund-bank\",\n                    checked: settlementForm.source_type === 'bank',\n                    onChange: () => setSettlementForm({\n                      ...settlementForm,\n                      source_type: 'bank',\n                      source_id: ''\n                    }),\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 823,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"refund-bank\",\n                    className: \"text-sm font-medium\",\n                    children: \"Ng\\xE2n h\\xE0ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 830,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 822,\n                  columnNumber: 25\n                }, this), settlementForm.source_type === 'bank' && /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: settlementForm.source_id,\n                  onChange: e => setSettlementForm({\n                    ...settlementForm,\n                    source_id: e.target.value\n                  }),\n                  className: \"w-full px-4 py-2 border rounded-lg ml-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Ch\\u1ECDn t\\xE0i kho\\u1EA3n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 838,\n                    columnNumber: 29\n                  }, this), bankSources.map(bank => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: bank.id,\n                    children: [bank.ma, \" - \", bank.so_tk]\n                  }, bank.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 840,\n                    columnNumber: 31\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 833,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 798,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 796,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"Ghi ch\\xFA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 853,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: settlementForm.note,\n              onChange: e => setSettlementForm({\n                ...settlementForm,\n                note: e.target.value\n              }),\n              placeholder: \"Ghi ch\\xFA v\\u1EC1 quy\\u1EBFt to\\xE1n...\",\n              className: \"w-full px-4 py-2 border rounded-lg\",\n              rows: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 854,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 852,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t px-6 py-4 flex justify-end gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowSettlementModal(false);\n              setSelectedTransaction(null);\n              setSettlementForm({\n                items: [{\n                  category: 'chi_phi_co_dinh',\n                  amount: 0\n                }, {\n                  category: 'chi_phi_san_xuat',\n                  amount: 0\n                }, {\n                  category: 'chi_phi_nguyen_vat_lieu',\n                  amount: 0\n                }, {\n                  category: 'chi_phi_sua_may',\n                  amount: 0\n                }, {\n                  category: 'chi_phi_van_chuyen',\n                  amount: 0\n                }, {\n                  category: 'chi_phi_khac',\n                  amount: 0\n                }],\n                remaining_action: 'hoan_quy',\n                source_type: 'cash',\n                source_id: '',\n                note: ''\n              });\n            },\n            className: \"px-4 py-2 border rounded-lg hover:bg-gray-50\",\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 864,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSettlement,\n            className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",\n            children: \"Quy\\u1EBFt to\\xE1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 887,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 863,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 719,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 718,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 360,\n    columnNumber: 5\n  }, this);\n}\n_s(AdvanceTransaction, \"VMH7lF8j1wgLtmM/waoUwTkPJ2Q=\");\n_c = AdvanceTransaction;\nexport default AdvanceTransaction;\nvar _c;\n$RefreshReg$(_c, \"AdvanceTransaction\");","map":{"version":3,"names":["React","useState","useEffect","Plus","Search","Eye","TrendingDown","TrendingUp","DollarSign","Calendar","FileText","Upload","Download","Wallet","XLSX","jsxDEV","_jsxDEV","Fragment","_Fragment","removeVietnameseTones","str","normalize","replace","AdvanceTransaction","_s","loadEmployees","saved","localStorage","getItem","JSON","parse","loadBankAccounts","loadCashAccounts","loadCashTransactions","loadAdvanceTransactions","loadSettlements","employees","bankAccounts","cashAccounts","setCashAccounts","cashTransactions","setCashTransactions","transactions","setTransactions","settlements","setSettlements","searchTerm","setSearchTerm","filterMonth","setFilterMonth","Date","toISOString","slice","filterStatus","setFilterStatus","showAddModal","setShowAddModal","showSettlementModal","setShowSettlementModal","selectedTransaction","setSelectedTransaction","addForm","setAddForm","type","emp_id","amount","date","reason","source_type","source_id","note","settlementForm","setSettlementForm","items","category","remaining_action","expenseCategories","chi_phi_co_dinh","chi_phi_san_xuat","chi_phi_nguyen_vat_lieu","chi_phi_sua_may","chi_phi_van_chuyen","chi_phi_khac","setItem","stringify","getEmployeeName","empId","emp","find","e","id","code","name","getSourceName","sourceType","sourceId","acc","a","ten","bank","b","ma","so_tk","handleAddTransaction","alert","parseFloat","account","parseInt","so_du","toLocaleString","newTransaction","now","status","created_date","updatedAccounts","map","cashTransaction","tai_khoan_id","ngay","loai","danh_muc","doi_tuong","ten_doi_tuong","so_tien","ly_do","ghi_chu","nguoi_tao","ngay_tao","handleSettlement","totalSpent","reduce","sum","item","remaining","newSettlement","transaction_id","settlement_date","filter","total_spent","t","refundTransaction","handleImportExcel","file","target","files","reader","FileReader","onload","evt","data","Uint8Array","result","workbook","read","sheet","Sheets","SheetNames","jsonData","utils","sheet_to_json","newItems","row","r","error","readAsArrayBuffer","handleExportTemplate","Object","entries","key","value","ws","json_to_sheet","wb","book_new","book_append_sheet","writeFile","getSummary","monthTransactions","filteredTransactions","totalChi","totalThu","chuaQuyetToan","daQuyetToan","count","length","startsWith","searchLower","toLowerCase","empName","searchableFields","some","field","includes","sort","summary","cashSources","trang_thai","bankSources","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onChange","placeholder","toFixed","transaction","toLocaleDateString","title","settlement","s","checked","htmlFor","ngan_hang","rows","accept","index","_c","$RefreshReg$"],"sources":["C:/Projects/app/src/pages/AdvanceTransaction.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Plus, Search, Eye, TrendingDown, TrendingUp, DollarSign, Calendar, FileText, Upload, Download, Wallet } from 'lucide-react';\nimport * as XLSX from 'xlsx';\n\nconst removeVietnameseTones = (str) => {\n  return str\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '')\n    .replace(/đ/g, 'd')\n    .replace(/Đ/g, 'D');\n};\n\nfunction AdvanceTransaction() {\n  const loadEmployees = () => {\n    const saved = localStorage.getItem('employees_v2');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const loadBankAccounts = () => {\n    const saved = localStorage.getItem('bank_accounts');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const loadCashAccounts = () => {\n    const saved = localStorage.getItem('cash_accounts');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const loadCashTransactions = () => {\n    const saved = localStorage.getItem('cash_transactions');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const loadAdvanceTransactions = () => {\n    const saved = localStorage.getItem('advance_transactions');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const loadSettlements = () => {\n    const saved = localStorage.getItem('advance_settlements');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const [employees] = useState(loadEmployees);\n  const [bankAccounts] = useState(loadBankAccounts);\n  const [cashAccounts, setCashAccounts] = useState(loadCashAccounts);\n  const [cashTransactions, setCashTransactions] = useState(loadCashTransactions);\n  const [transactions, setTransactions] = useState(loadAdvanceTransactions);\n  const [settlements, setSettlements] = useState(loadSettlements);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterMonth, setFilterMonth] = useState(new Date().toISOString().slice(0, 7));\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showSettlementModal, setShowSettlementModal] = useState(false);\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\n\n  const [addForm, setAddForm] = useState({\n    type: 'chi',\n    emp_id: '',\n    amount: '',\n    date: new Date().toISOString().slice(0, 10),\n    reason: 'Mua vật tư',\n    source_type: 'cash',\n    source_id: '',\n    note: ''\n  });\n\n  const [settlementForm, setSettlementForm] = useState({\n    items: [\n      { category: 'chi_phi_co_dinh', amount: 0 },\n      { category: 'chi_phi_san_xuat', amount: 0 },\n      { category: 'chi_phi_nguyen_vat_lieu', amount: 0 },\n      { category: 'chi_phi_sua_may', amount: 0 },\n      { category: 'chi_phi_van_chuyen', amount: 0 },\n      { category: 'chi_phi_khac', amount: 0 }\n    ],\n    remaining_action: 'hoan_quy',\n    source_type: 'cash',\n    source_id: '',\n    note: ''\n  });\n\n  const expenseCategories = {\n    chi_phi_co_dinh: 'Chi phí cố định',\n    chi_phi_san_xuat: 'Chi phí sản xuất',\n    chi_phi_nguyen_vat_lieu: 'Chi phí nguyên vật liệu',\n    chi_phi_sua_may: 'Chi phí sửa máy móc',\n    chi_phi_van_chuyen: 'Chi phí vận chuyển',\n    chi_phi_khac: 'Chi phí khác'\n  };\n\n  useEffect(() => {\n    localStorage.setItem('advance_transactions', JSON.stringify(transactions));\n  }, [transactions]);\n\n  useEffect(() => {\n    localStorage.setItem('advance_settlements', JSON.stringify(settlements));\n  }, [settlements]);\n\n  useEffect(() => {\n    localStorage.setItem('cash_accounts', JSON.stringify(cashAccounts));\n  }, [cashAccounts]);\n\n  useEffect(() => {\n    localStorage.setItem('cash_transactions', JSON.stringify(cashTransactions));\n  }, [cashTransactions]);\n\n  const getEmployeeName = (empId) => {\n    const emp = employees.find(e => e.id === empId);\n    return emp ? `${emp.code} - ${emp.name}` : 'N/A';\n  };\n\n  const getSourceName = (sourceType, sourceId) => {\n    if (sourceType === 'cash') {\n      const acc = cashAccounts.find(a => a.id === sourceId);\n      return acc ? acc.ten : 'Tiền mặt';\n    } else {\n      const bank = bankAccounts.find(b => b.id === sourceId);\n      return bank ? `${bank.ma} (${bank.so_tk})` : 'N/A';\n    }\n  };\n\n  const handleAddTransaction = () => {\n    if (!addForm.emp_id || !addForm.amount || !addForm.source_id) {\n      alert('Vui lòng điền đầy đủ thông tin!');\n      return;\n    }\n\n    const amount = parseFloat(addForm.amount);\n    if (amount <= 0) {\n      alert('Số tiền phải lớn hơn 0!');\n      return;\n    }\n\n    // Check balance for cash\n    if (addForm.type === 'chi' && addForm.source_type === 'cash') {\n      const account = cashAccounts.find(acc => acc.id === parseInt(addForm.source_id));\n      if (account && account.so_du < amount) {\n        alert(`Số dư không đủ!\\nSố dư: ${account.so_du.toLocaleString('vi-VN')} đ\\nCần: ${amount.toLocaleString('vi-VN')} đ`);\n        return;\n      }\n    }\n\n    const newTransaction = {\n      id: Date.now(),\n      type: addForm.type,\n      emp_id: parseInt(addForm.emp_id),\n      amount: amount,\n      date: addForm.date,\n      reason: addForm.reason,\n      source_type: addForm.source_type,\n      source_id: parseInt(addForm.source_id),\n      status: 'chua_quyet_toan',\n      note: addForm.note,\n      created_date: new Date().toISOString()\n    };\n\n    // Update cash account\n    if (addForm.source_type === 'cash') {\n      const updatedAccounts = cashAccounts.map(acc => {\n        if (acc.id === parseInt(addForm.source_id)) {\n          return {\n            ...acc,\n            so_du: addForm.type === 'chi' ? acc.so_du - amount : acc.so_du + amount\n          };\n        }\n        return acc;\n      });\n      setCashAccounts(updatedAccounts);\n    }\n\n    // Create cash transaction\n    const cashTransaction = {\n      id: Date.now() + 1,\n      tai_khoan_id: parseInt(addForm.source_id),\n      ngay: addForm.date,\n      loai: addForm.type === 'chi' ? 'chi' : 'thu',\n      danh_muc: 'tam_ung_nv',\n      doi_tuong: getEmployeeName(parseInt(addForm.emp_id)),\n      ten_doi_tuong: getEmployeeName(parseInt(addForm.emp_id)),\n      so_tien: amount,\n      ly_do: addForm.reason,\n      ghi_chu: `Tạm ứng - ${addForm.note}`,\n      nguoi_tao: 'Admin',\n      ngay_tao: new Date().toISOString()\n    };\n    setCashTransactions([...cashTransactions, cashTransaction]);\n\n    setTransactions([...transactions, newTransaction]);\n    setShowAddModal(false);\n    setAddForm({\n      type: 'chi',\n      emp_id: '',\n      amount: '',\n      date: new Date().toISOString().slice(0, 10),\n      reason: 'Mua vật tư',\n      source_type: 'cash',\n      source_id: '',\n      note: ''\n    });\n    alert(`Đã ${addForm.type === 'chi' ? 'chi' : 'thu'} tạm ứng thành công!`);\n  };\n\n  const handleSettlement = () => {\n    if (!selectedTransaction) return;\n\n    const totalSpent = settlementForm.items.reduce((sum, item) => sum + parseFloat(item.amount || 0), 0);\n    const remaining = selectedTransaction.amount - totalSpent;\n\n    if (totalSpent > selectedTransaction.amount) {\n      alert('Tổng chi vượt quá số tiền tạm ứng!');\n      return;\n    }\n\n    if (remaining > 0 && !settlementForm.source_id) {\n      alert('Vui lòng chọn tài khoản để hoàn tiền!');\n      return;\n    }\n\n    const newSettlement = {\n      id: Date.now(),\n      transaction_id: selectedTransaction.id,\n      settlement_date: new Date().toISOString().slice(0, 10),\n      items: settlementForm.items.filter(item => item.amount > 0),\n      total_spent: totalSpent,\n      remaining: remaining,\n      remaining_action: settlementForm.remaining_action,\n      source_type: settlementForm.source_type,\n      source_id: settlementForm.source_id ? parseInt(settlementForm.source_id) : null,\n      note: settlementForm.note,\n      created_date: new Date().toISOString()\n    };\n\n    setSettlements([...settlements, newSettlement]);\n\n    // Update transaction status\n    setTransactions(transactions.map(t =>\n      t.id === selectedTransaction.id\n        ? { ...t, status: 'da_quyet_toan' }\n        : t\n    ));\n\n    // Refund to cash account if needed\n    if (remaining > 0 && settlementForm.remaining_action === 'hoan_quy' && settlementForm.source_type === 'cash') {\n      const updatedAccounts = cashAccounts.map(acc => {\n        if (acc.id === parseInt(settlementForm.source_id)) {\n          return { ...acc, so_du: acc.so_du + remaining };\n        }\n        return acc;\n      });\n      setCashAccounts(updatedAccounts);\n\n      // Create refund cash transaction\n      const refundTransaction = {\n        id: Date.now() + 1,\n        tai_khoan_id: parseInt(settlementForm.source_id),\n        ngay: new Date().toISOString().slice(0, 10),\n        loai: 'thu',\n        danh_muc: 'tam_ung_nv',\n        doi_tuong: getEmployeeName(selectedTransaction.emp_id),\n        ten_doi_tuong: getEmployeeName(selectedTransaction.emp_id),\n        so_tien: remaining,\n        ly_do: `Hoàn tạm ứng - ${selectedTransaction.reason}`,\n        ghi_chu: settlementForm.note,\n        nguoi_tao: 'Admin',\n        ngay_tao: new Date().toISOString()\n      };\n      setCashTransactions([...cashTransactions, refundTransaction]);\n    }\n\n    setShowSettlementModal(false);\n    setSelectedTransaction(null);\n    setSettlementForm({\n      items: [\n        { category: 'chi_phi_co_dinh', amount: 0 },\n        { category: 'chi_phi_san_xuat', amount: 0 },\n        { category: 'chi_phi_nguyen_vat_lieu', amount: 0 },\n        { category: 'chi_phi_sua_may', amount: 0 },\n        { category: 'chi_phi_van_chuyen', amount: 0 },\n        { category: 'chi_phi_khac', amount: 0 }\n      ],\n      remaining_action: 'hoan_quy',\n      source_type: 'cash',\n      source_id: '',\n      note: ''\n    });\n    alert('Đã quyết toán thành công!');\n  };\n\n  const handleImportExcel = (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onload = (evt) => {\n      try {\n        const data = new Uint8Array(evt.target.result);\n        const workbook = XLSX.read(data, { type: 'array' });\n        const sheet = workbook.Sheets[workbook.SheetNames[0]];\n        const jsonData = XLSX.utils.sheet_to_json(sheet);\n\n        const newItems = settlementForm.items.map(item => {\n          const row = jsonData.find(r => r['Loại chi phí'] === expenseCategories[item.category]);\n          return {\n            category: item.category,\n            amount: row ? parseFloat(row['Số tiền']) || 0 : 0\n          };\n        });\n\n        setSettlementForm({ ...settlementForm, items: newItems });\n        alert('Đã nhập dữ liệu từ Excel!');\n      } catch (error) {\n        alert('Lỗi đọc file Excel!');\n      }\n    };\n    reader.readAsArrayBuffer(file);\n  };\n\n  const handleExportTemplate = () => {\n    const data = Object.entries(expenseCategories).map(([key, value]) => ({\n      'Loại chi phí': value,\n      'Số tiền': 0\n    }));\n\n    const ws = XLSX.utils.json_to_sheet(data);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, 'Template');\n    XLSX.writeFile(wb, 'Mau-quyet-toan.xlsx');\n  };\n\n  const getSummary = () => {\n    const monthTransactions = filteredTransactions;\n    const totalChi = monthTransactions.filter(t => t.type === 'chi').reduce((sum, t) => sum + t.amount, 0);\n    const totalThu = monthTransactions.filter(t => t.type === 'thu').reduce((sum, t) => sum + t.amount, 0);\n    const chuaQuyetToan = monthTransactions.filter(t => t.status === 'chua_quyet_toan').reduce((sum, t) => sum + t.amount, 0);\n    const daQuyetToan = monthTransactions.filter(t => t.status === 'da_quyet_toan').reduce((sum, t) => sum + t.amount, 0);\n\n    return { totalChi, totalThu, chuaQuyetToan, daQuyetToan, count: monthTransactions.length };\n  };\n\n  const filteredTransactions = transactions.filter(t => {\n    if (!t.date.startsWith(filterMonth)) return false;\n    if (filterStatus !== 'all' && t.status !== filterStatus) return false;\n    if (!searchTerm) return true;\n\n    const searchLower = removeVietnameseTones(searchTerm.toLowerCase());\n    const empName = getEmployeeName(t.emp_id);\n    const searchableFields = [empName, t.reason || '', t.note || ''];\n    return searchableFields.some(field =>\n      removeVietnameseTones(field.toLowerCase()).includes(searchLower)\n    );\n  }).sort((a, b) => new Date(b.date) - new Date(a.date));\n\n  const summary = getSummary();\n\n  const cashSources = cashAccounts.filter(acc => acc.trang_thai === 'active');\n  const bankSources = bankAccounts.filter(bank => bank.trang_thai === 'active');\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-800\">Tạm ứng</h1>\n          <p className=\"text-gray-600\">Quản lý tạm ứng mua hàng & thu chi</p>\n        </div>\n        <button\n          onClick={() => setShowAddModal(true)}\n          className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\n        >\n          <Plus className=\"w-5 h-5\" />Thêm giao dịch\n        </button>\n      </div>\n\n      <div className=\"bg-white rounded-xl shadow-sm border p-4\">\n        <div className=\"grid grid-cols-3 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">Tháng</label>\n            <input\n              type=\"month\"\n              value={filterMonth}\n              onChange={(e) => setFilterMonth(e.target.value)}\n              className=\"w-full px-4 py-2 border rounded-lg\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">Trạng thái</label>\n            <select\n              value={filterStatus}\n              onChange={(e) => setFilterStatus(e.target.value)}\n              className=\"w-full px-4 py-2 border rounded-lg\"\n            >\n              <option value=\"all\">Tất cả</option>\n              <option value=\"chua_quyet_toan\">Chưa quyết toán</option>\n              <option value=\"da_quyet_toan\">Đã quyết toán</option>\n            </select>\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">Tìm kiếm</label>\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n              <input\n                type=\"text\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                placeholder=\"Nhân viên, lý do...\"\n                className=\"w-full pl-10 pr-4 py-2 border rounded-lg\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {filteredTransactions.length > 0 && (\n        <div className=\"grid grid-cols-4 gap-4\">\n          <div className=\"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 text-white\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-red-100 text-sm\">Tổng chi</p>\n                <p className=\"text-2xl font-bold mt-1\">{(summary.totalChi / 1000000).toFixed(1)}M</p>\n              </div>\n              <TrendingDown className=\"w-12 h-12 text-red-200\" />\n            </div>\n          </div>\n          <div className=\"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-green-100 text-sm\">Tổng thu</p>\n                <p className=\"text-2xl font-bold mt-1\">{(summary.totalThu / 1000000).toFixed(1)}M</p>\n              </div>\n              <TrendingUp className=\"w-12 h-12 text-green-200\" />\n            </div>\n          </div>\n          <div className=\"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-orange-100 text-sm\">Chưa quyết toán</p>\n                <p className=\"text-2xl font-bold mt-1\">{(summary.chuaQuyetToan / 1000000).toFixed(1)}M</p>\n              </div>\n              <Calendar className=\"w-12 h-12 text-orange-200\" />\n            </div>\n          </div>\n          <div className=\"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-blue-100 text-sm\">Đã quyết toán</p>\n                <p className=\"text-2xl font-bold mt-1\">{(summary.daQuyetToan / 1000000).toFixed(1)}M</p>\n              </div>\n              <DollarSign className=\"w-12 h-12 text-blue-200\" />\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"bg-white rounded-xl shadow-sm border overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Ngày</th>\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Loại</th>\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Nhân viên</th>\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Lý do</th>\n                <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Số tiền</th>\n                <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase\">Nguồn</th>\n                <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase\">Trạng thái</th>\n                <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase\">Thao tác</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y\">\n              {filteredTransactions.map(transaction => (\n                <tr key={transaction.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-4 py-4 text-sm\">\n                    {new Date(transaction.date).toLocaleDateString('vi-VN')}\n                  </td>\n                  <td className=\"px-4 py-4\">\n                    <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                      transaction.type === 'chi'\n                        ? 'bg-red-100 text-red-800'\n                        : 'bg-green-100 text-green-800'\n                    }`}>\n                      {transaction.type === 'chi' ? 'Chi' : 'Thu'}\n                    </span>\n                  </td>\n                  <td className=\"px-4 py-4 text-sm\">{getEmployeeName(transaction.emp_id)}</td>\n                  <td className=\"px-4 py-4 text-sm text-gray-600\">{transaction.reason}</td>\n                  <td className=\"px-4 py-4 text-sm text-right\">\n                    <span className={`font-bold ${\n                      transaction.type === 'chi' ? 'text-red-600' : 'text-green-600'\n                    }`}>\n                      {transaction.type === 'chi' ? '-' : '+'}{transaction.amount.toLocaleString('vi-VN')} đ\n                    </span>\n                  </td>\n                  <td className=\"px-4 py-4 text-center\">\n                    <div className=\"flex items-center justify-center gap-1\">\n                      <Wallet className=\"w-4 h-4 text-gray-500\" />\n                      <span className=\"text-xs text-gray-600\">\n                        {getSourceName(transaction.source_type, transaction.source_id)}\n                      </span>\n                    </div>\n                  </td>\n                  <td className=\"px-4 py-4 text-center\">\n                    <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                      transaction.status === 'chua_quyet_toan'\n                        ? 'bg-orange-100 text-orange-800'\n                        : 'bg-green-100 text-green-800'\n                    }`}>\n                      {transaction.status === 'chua_quyet_toan' ? 'Chưa quyết toán' : 'Đã quyết toán'}\n                    </span>\n                  </td>\n                  <td className=\"px-4 py-4\">\n                    <div className=\"flex justify-center gap-2\">\n                      {transaction.type === 'chi' && transaction.status === 'chua_quyet_toan' && (\n                        <button\n                          onClick={() => {\n                            setSelectedTransaction(transaction);\n                            setShowSettlementModal(true);\n                          }}\n                          className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg\"\n                          title=\"Quyết toán\"\n                        >\n                          <FileText className=\"w-4 h-4\" />\n                        </button>\n                      )}\n                      {transaction.status === 'da_quyet_toan' && (\n                        <button\n                          onClick={() => {\n                            const settlement = settlements.find(s => s.transaction_id === transaction.id);\n                            if (settlement) {\n                              alert(`Đã quyết toán:\\nTổng chi: ${settlement.total_spent.toLocaleString('vi-VN')} đ\\nCòn lại: ${settlement.remaining.toLocaleString('vi-VN')} đ`);\n                            }\n                          }}\n                          className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg\"\n                          title=\"Xem chi tiết\"\n                        >\n                          <Eye className=\"w-4 h-4\" />\n                        </button>\n                      )}\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n        {filteredTransactions.length === 0 && (\n          <div className=\"text-center py-12 text-gray-500\">Không có giao dịch nào</div>\n        )}\n      </div>\n\n      {/* Add Transaction Modal */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"border-b px-6 py-4\">\n              <h2 className=\"text-xl font-bold\">Thêm giao dịch tạm ứng</h2>\n            </div>\n            <div className=\"p-6 space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">Loại giao dịch *</label>\n                  <select\n                    value={addForm.type}\n                    onChange={(e) => setAddForm({ ...addForm, type: e.target.value })}\n                    className=\"w-full px-4 py-2 border rounded-lg\"\n                  >\n                    <option value=\"chi\">Chi tạm ứng</option>\n                    <option value=\"thu\">Thu tiền</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">Ngày *</label>\n                  <input\n                    type=\"date\"\n                    value={addForm.date}\n                    onChange={(e) => setAddForm({ ...addForm, date: e.target.value })}\n                    className=\"w-full px-4 py-2 border rounded-lg\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">Nhân viên *</label>\n                  <select\n                    value={addForm.emp_id}\n                    onChange={(e) => setAddForm({ ...addForm, emp_id: e.target.value })}\n                    className=\"w-full px-4 py-2 border rounded-lg\"\n                  >\n                    <option value=\"\">Chọn nhân viên</option>\n                    {employees.filter(e => e.status !== 'Nghỉ việc').map(emp => (\n                      <option key={emp.id} value={emp.id}>\n                        {emp.code} - {emp.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">Số tiền *</label>\n                  <input\n                    type=\"number\"\n                    value={addForm.amount}\n                    onChange={(e) => setAddForm({ ...addForm, amount: e.target.value })}\n                    placeholder=\"VD: 10000000\"\n                    className=\"w-full px-4 py-2 border rounded-lg\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">Lý do *</label>\n                <input\n                  type=\"text\"\n                  value={addForm.reason}\n                  onChange={(e) => setAddForm({ ...addForm, reason: e.target.value })}\n                  placeholder=\"Mua vật tư, Đi công tác...\"\n                  className=\"w-full px-4 py-2 border rounded-lg\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">Nguồn tiền *</label>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <input\n                      type=\"radio\"\n                      id=\"add-source-cash\"\n                      checked={addForm.source_type === 'cash'}\n                      onChange={() => setAddForm({ ...addForm, source_type: 'cash', source_id: '' })}\n                      className=\"w-4 h-4\"\n                    />\n                    <label htmlFor=\"add-source-cash\" className=\"text-sm font-medium\">Tiền mặt / Quỹ</label>\n                  </div>\n                  {addForm.source_type === 'cash' && (\n                    <select\n                      value={addForm.source_id}\n                      onChange={(e) => setAddForm({ ...addForm, source_id: e.target.value })}\n                      className=\"w-full px-4 py-2 border rounded-lg ml-6\"\n                    >\n                      <option value=\"\">Chọn quỹ</option>\n                      {cashSources.map(acc => (\n                        <option key={acc.id} value={acc.id}>\n                          {acc.ten} ({acc.so_du.toLocaleString('vi-VN')} đ)\n                        </option>\n                      ))}\n                    </select>\n                  )}\n\n                  <div className=\"flex items-center gap-2\">\n                    <input\n                      type=\"radio\"\n                      id=\"add-source-bank\"\n                      checked={addForm.source_type === 'bank'}\n                      onChange={() => setAddForm({ ...addForm, source_type: 'bank', source_id: '' })}\n                      className=\"w-4 h-4\"\n                    />\n                    <label htmlFor=\"add-source-bank\" className=\"text-sm font-medium\">Ngân hàng</label>\n                  </div>\n                  {addForm.source_type === 'bank' && (\n                    <select\n                      value={addForm.source_id}\n                      onChange={(e) => setAddForm({ ...addForm, source_id: e.target.value })}\n                      className=\"w-full px-4 py-2 border rounded-lg ml-6\"\n                    >\n                      <option value=\"\">Chọn tài khoản</option>\n                      {bankSources.map(bank => (\n                        <option key={bank.id} value={bank.id}>\n                          {bank.ma} - {bank.so_tk} ({bank.ngan_hang})\n                        </option>\n                      ))}\n                    </select>\n                  )}\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">Ghi chú</label>\n                <textarea\n                  value={addForm.note}\n                  onChange={(e) => setAddForm({ ...addForm, note: e.target.value })}\n                  placeholder=\"Ghi chú thêm...\"\n                  className=\"w-full px-4 py-2 border rounded-lg\"\n                  rows=\"2\"\n                />\n              </div>\n            </div>\n            <div className=\"border-t px-6 py-4 flex justify-end gap-2\">\n              <button\n                onClick={() => {\n                  setShowAddModal(false);\n                  setAddForm({\n                    type: 'chi',\n                    emp_id: '',\n                    amount: '',\n                    date: new Date().toISOString().slice(0, 10),\n                    reason: 'Mua vật tư',\n                    source_type: 'cash',\n                    source_id: '',\n                    note: ''\n                  });\n                }}\n                className=\"px-4 py-2 border rounded-lg hover:bg-gray-50\"\n              >\n                Hủy\n              </button>\n              <button\n                onClick={handleAddTransaction}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n              >\n                Thêm\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Settlement Modal */}\n      {showSettlementModal && selectedTransaction && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"sticky top-0 bg-white border-b px-6 py-4\">\n              <h2 className=\"text-xl font-bold\">Quyết toán tạm ứng</h2>\n              <p className=\"text-sm text-gray-600\">\n                {getEmployeeName(selectedTransaction.emp_id)} - {selectedTransaction.amount.toLocaleString('vi-VN')} đ\n              </p>\n            </div>\n            <div className=\"p-6 space-y-4\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <h3 className=\"font-semibold\">Chi tiết chi phí</h3>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={handleExportTemplate}\n                    className=\"px-3 py-1 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-1\"\n                  >\n                    <Download className=\"w-4 h-4\" />Tải mẫu\n                  </button>\n                  <label className=\"px-3 py-1 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-1 cursor-pointer\">\n                    <Upload className=\"w-4 h-4\" />Nhập Excel\n                    <input\n                      type=\"file\"\n                      accept=\".xlsx,.xls\"\n                      onChange={handleImportExcel}\n                      className=\"hidden\"\n                    />\n                  </label>\n                </div>\n              </div>\n\n              {settlementForm.items.map((item, index) => (\n                <div key={item.category} className=\"grid grid-cols-2 gap-4 items-center\">\n                  <label className=\"text-sm font-medium\">{expenseCategories[item.category]}</label>\n                  <input\n                    type=\"number\"\n                    value={item.amount}\n                    onChange={(e) => {\n                      const newItems = [...settlementForm.items];\n                      newItems[index].amount = parseFloat(e.target.value) || 0;\n                      setSettlementForm({ ...settlementForm, items: newItems });\n                    }}\n                    className=\"px-4 py-2 border rounded-lg\"\n                    placeholder=\"0\"\n                  />\n                </div>\n              ))}\n\n              <div className=\"border-t pt-4 space-y-2\">\n                <div className=\"flex justify-between font-semibold\">\n                  <span>Tổng chi:</span>\n                  <span className=\"text-blue-600\">\n                    {settlementForm.items.reduce((sum, item) => sum + (parseFloat(item.amount) || 0), 0).toLocaleString('vi-VN')} đ\n                  </span>\n                </div>\n                <div className=\"flex justify-between font-semibold\">\n                  <span>Còn lại:</span>\n                  <span className=\"text-green-600\">\n                    {(selectedTransaction.amount - settlementForm.items.reduce((sum, item) => sum + (parseFloat(item.amount) || 0), 0)).toLocaleString('vi-VN')} đ\n                  </span>\n                </div>\n              </div>\n\n              {(selectedTransaction.amount - settlementForm.items.reduce((sum, item) => sum + (parseFloat(item.amount) || 0), 0)) > 0 && (\n                <>\n                  <div>\n                    <label className=\"block text-sm font-medium mb-2\">Xử lý số dư</label>\n                    <select\n                      value={settlementForm.remaining_action}\n                      onChange={(e) => setSettlementForm({ ...settlementForm, remaining_action: e.target.value })}\n                      className=\"w-full px-4 py-2 border rounded-lg\"\n                    >\n                      <option value=\"hoan_quy\">Hoàn lại quỹ</option>\n                      <option value=\"giu_lai\">Giữ lại tiếp</option>\n                      <option value=\"chi_phi_khac\">Ghi nhận chi phí khác</option>\n                    </select>\n                  </div>\n\n                  {settlementForm.remaining_action === 'hoan_quy' && (\n                    <div>\n                      <label className=\"block text-sm font-medium mb-2\">Hoàn vào *</label>\n                      <div className=\"space-y-2\">\n                        <div className=\"flex items-center gap-2\">\n                          <input\n                            type=\"radio\"\n                            id=\"refund-cash\"\n                            checked={settlementForm.source_type === 'cash'}\n                            onChange={() => setSettlementForm({ ...settlementForm, source_type: 'cash', source_id: '' })}\n                            className=\"w-4 h-4\"\n                          />\n                          <label htmlFor=\"refund-cash\" className=\"text-sm font-medium\">Tiền mặt / Quỹ</label>\n                        </div>\n                        {settlementForm.source_type === 'cash' && (\n                          <select\n                            value={settlementForm.source_id}\n                            onChange={(e) => setSettlementForm({ ...settlementForm, source_id: e.target.value })}\n                            className=\"w-full px-4 py-2 border rounded-lg ml-6\"\n                          >\n                            <option value=\"\">Chọn quỹ</option>\n                            {cashSources.map(acc => (\n                              <option key={acc.id} value={acc.id}>{acc.ten}</option>\n                            ))}\n                          </select>\n                        )}\n\n                        <div className=\"flex items-center gap-2\">\n                          <input\n                            type=\"radio\"\n                            id=\"refund-bank\"\n                            checked={settlementForm.source_type === 'bank'}\n                            onChange={() => setSettlementForm({ ...settlementForm, source_type: 'bank', source_id: '' })}\n                            className=\"w-4 h-4\"\n                          />\n                          <label htmlFor=\"refund-bank\" className=\"text-sm font-medium\">Ngân hàng</label>\n                        </div>\n                        {settlementForm.source_type === 'bank' && (\n                          <select\n                            value={settlementForm.source_id}\n                            onChange={(e) => setSettlementForm({ ...settlementForm, source_id: e.target.value })}\n                            className=\"w-full px-4 py-2 border rounded-lg ml-6\"\n                          >\n                            <option value=\"\">Chọn tài khoản</option>\n                            {bankSources.map(bank => (\n                              <option key={bank.id} value={bank.id}>\n                                {bank.ma} - {bank.so_tk}\n                              </option>\n                            ))}\n                          </select>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                </>\n              )}\n\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">Ghi chú</label>\n                <textarea\n                  value={settlementForm.note}\n                  onChange={(e) => setSettlementForm({ ...settlementForm, note: e.target.value })}\n                  placeholder=\"Ghi chú về quyết toán...\"\n                  className=\"w-full px-4 py-2 border rounded-lg\"\n                  rows=\"2\"\n                />\n              </div>\n            </div>\n            <div className=\"border-t px-6 py-4 flex justify-end gap-2\">\n              <button\n                onClick={() => {\n                  setShowSettlementModal(false);\n                  setSelectedTransaction(null);\n                  setSettlementForm({\n                    items: [\n                      { category: 'chi_phi_co_dinh', amount: 0 },\n                      { category: 'chi_phi_san_xuat', amount: 0 },\n                      { category: 'chi_phi_nguyen_vat_lieu', amount: 0 },\n                      { category: 'chi_phi_sua_may', amount: 0 },\n                      { category: 'chi_phi_van_chuyen', amount: 0 },\n                      { category: 'chi_phi_khac', amount: 0 }\n                    ],\n                    remaining_action: 'hoan_quy',\n                    source_type: 'cash',\n                    source_id: '',\n                    note: ''\n                  });\n                }}\n                className=\"px-4 py-2 border rounded-lg hover:bg-gray-50\"\n              >\n                Hủy\n              </button>\n              <button\n                onClick={handleSettlement}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n              >\n                Quyết toán\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default AdvanceTransaction;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}