{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\app\\\\src\\\\pages\\\\SalesOrder.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Plus, Search, Edit, Trash2, Eye, X, ShoppingCart, QrCode, Calendar, Filter, FileSpreadsheet, Upload, Download, ExternalLink } from 'lucide-react';\nimport TextInput from '../components/TextInput';\nimport TextArea from '../components/TextArea';\nimport FilterBox from '../components/FilterBox';\nimport ExcelActions from '../components/ExcelActions';\nimport LinkedField from '../components/LinkedField';\n\n// ============================================================================\n// HELPER FUNCTIONS\n// ============================================================================\n\n// Tạo số đơn hàng tự động: DHXyyyymmxxx\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst generateSoDonHang = existingOrders => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  const prefix = `DHX${year}${month}`;\n  const currentMonthOrders = existingOrders.filter(o => {\n    var _o$so_don_hang;\n    return (_o$so_don_hang = o.so_don_hang) === null || _o$so_don_hang === void 0 ? void 0 : _o$so_don_hang.startsWith(prefix);\n  });\n  let maxNum = 0;\n  currentMonthOrders.forEach(o => {\n    const num = parseInt(o.so_don_hang.slice(-3));\n    if (!isNaN(num) && num > maxNum) {\n      maxNum = num;\n    }\n  });\n  const newNum = String(maxNum + 1).padStart(3, '0');\n  return `${prefix}${newNum}`;\n};\n\n// Lấy tên khách hàng\nconst getCustomerName = (customerId, customers) => {\n  if (!customerId || !customers) return '';\n  const customer = customers.find(c => String(c.id) === String(customerId));\n  return (customer === null || customer === void 0 ? void 0 : customer.name // ← Ưu tiên đầu tiên\n  ) || (customer === null || customer === void 0 ? void 0 : customer.ten_khach_hang) || (customer === null || customer === void 0 ? void 0 : customer.tenKhachHang) || (customer === null || customer === void 0 ? void 0 : customer.ten) || '';\n};\n\n// Lấy mã khách hàng\nconst getCustomerCode = (customerId, customers) => {\n  if (!customerId || !customers) return '';\n  const customer = customers.find(c => String(c.id) === String(customerId));\n  return (customer === null || customer === void 0 ? void 0 : customer.code // ← Ưu tiên đầu tiên\n  ) || (customer === null || customer === void 0 ? void 0 : customer.ma_khach_hang) || (customer === null || customer === void 0 ? void 0 : customer.maKhachHang) || (customer === null || customer === void 0 ? void 0 : customer.ma) || '';\n};\n\n// Tạo danh sách tháng cho dropdown\nconst generateMonthOptions = () => {\n  const months = [];\n  const currentDate = new Date();\n\n  // Tạo 12 tháng gần nhất (6 tháng trước + tháng hiện tại + 5 tháng sau)\n  for (let i = -6; i <= 5; i++) {\n    const date = new Date(currentDate.getFullYear(), currentDate.getMonth() + i, 1);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    months.push({\n      value: `${year}-${month}`,\n      label: `Tháng ${month}/${year}`\n    });\n  }\n  return months;\n};\n\n// Format tháng hiện tại\nconst getCurrentMonth = () => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  return `${year}-${month}`;\n};\n\n// ============================================================================\n// MAIN COMPONENT  \n// ============================================================================\n\nfunction SalesOrder() {\n  _s();\n  const loadOrders = () => {\n    const saved = localStorage.getItem('salesOrders');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadProducts = () => {\n    const saved = localStorage.getItem('products');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadCustomers = () => {\n    const saved = localStorage.getItem('customers');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const [orders, setOrders] = useState(loadOrders);\n  const [products, setProducts] = useState(loadProducts);\n  const [customers, setCustomers] = useState(loadCustomers);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedMonth, setSelectedMonth] = useState(getCurrentMonth());\n  const [showModal, setShowModal] = useState(false);\n  const [editingOrder, setEditingOrder] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showProductModal, setShowProductModal] = useState(false);\n  const [productSearchTerm, setProductSearchTerm] = useState('');\n  const [showQRModal, setShowQRModal] = useState(false);\n  const [qrData, setQRData] = useState(null);\n\n  // Ref cho auto focus số lượng\n  const quantityInputRefs = useRef({});\n\n  // Advanced filter states\n  const [showFilterBox, setShowFilterBox] = useState(false);\n  const [advancedFilters, setAdvancedFilters] = useState({\n    customerIds: [],\n    minAmount: '',\n    maxAmount: '',\n    dateFrom: '',\n    dateTo: '',\n    deliveryDateFrom: '',\n    deliveryDateTo: ''\n  });\n  const [form, setForm] = useState({\n    so_don_hang: '',\n    khach_hang_id: '',\n    khach_hang_ma: '',\n    // Thêm mã KH\n    khach_hang_ten: '',\n    // Thêm tên KH\n    ngay_dat: new Date().toISOString().split('T')[0],\n    ngay_giao_du_kien: '',\n    chi_tiet: [],\n    ghi_chu: ''\n  });\n  useEffect(() => {\n    localStorage.setItem('salesOrders', JSON.stringify(orders));\n  }, [orders]);\n  useEffect(() => {\n    setProducts(loadProducts());\n    const loadedCustomers = loadCustomers();\n\n    // DEBUG: Log cấu trúc Customer\n    console.log('=== CUSTOMERS DEBUG ===');\n    console.log('Total customers:', loadedCustomers.length);\n    if (loadedCustomers.length > 0) {\n      console.log('First customer structure:', loadedCustomers[0]);\n      console.log('All customer fields:', Object.keys(loadedCustomers[0]));\n    }\n    setCustomers(loadedCustomers);\n  }, []);\n\n  // ============================================================================\n  // FORM HANDLERS\n  // ============================================================================\n\n  const handleSubmit = () => {\n    if (!form.so_don_hang.trim() || !form.khach_hang_id) {\n      alert('Vui lòng điền đầy đủ Số đơn hàng và Khách hàng!');\n      return;\n    }\n    if (form.chi_tiet.length === 0) {\n      alert('Vui lòng thêm ít nhất 1 sản phẩm!');\n      return;\n    }\n\n    // Check số lượng (chỉ check mẹ, con tự động)\n    const hasInvalidQty = form.chi_tiet.some(item => !item.la_thanh_phan_con && (!item.so_luong || item.so_luong <= 0));\n    if (hasInvalidQty) {\n      alert('Vui lòng nhập số lượng cho tất cả sản phẩm mẹ!');\n      return;\n    }\n    const orderData = {\n      so_don_hang: form.so_don_hang.trim(),\n      khach_hang_id: form.khach_hang_id,\n      ngay_dat: form.ngay_dat,\n      ngay_giao_du_kien: form.ngay_giao_du_kien,\n      chi_tiet: form.chi_tiet.map(item => ({\n        ...item,\n        so_luong: parseFloat(item.so_luong) || 0,\n        thanh_tien: (parseFloat(item.so_luong) || 0) * parseFloat(item.don_gia)\n      })),\n      tong_tien: form.chi_tiet.reduce((sum, item) => sum + (parseFloat(item.so_luong) || 0) * parseFloat(item.don_gia), 0),\n      ghi_chu: form.ghi_chu.trim()\n    };\n    if (editingOrder) {\n      setOrders(orders.map(o => o.id === editingOrder.id ? {\n        ...o,\n        ...orderData\n      } : o));\n      alert('Đã cập nhật đơn hàng!');\n    } else {\n      const newOrder = {\n        id: Date.now(),\n        ...orderData,\n        ngay_tao: new Date().toISOString()\n      };\n      setOrders([...orders, newOrder]);\n      alert('Đã tạo đơn hàng mới!');\n    }\n    resetForm();\n    setShowModal(false);\n  };\n  const resetForm = () => {\n    // Reload customers mỗi lần reset form\n    const latestCustomers = loadCustomers();\n    setCustomers(latestCustomers);\n    setForm({\n      so_don_hang: generateSoDonHang(orders),\n      khach_hang_id: '',\n      khach_hang_ma: '',\n      khach_hang_ten: '',\n      ngay_dat: new Date().toISOString().split('T')[0],\n      ngay_giao_du_kien: '',\n      chi_tiet: [],\n      ghi_chu: ''\n    });\n    setEditingOrder(null);\n    quantityInputRefs.current = {};\n  };\n  const handleEdit = order => {\n    // Tìm thông tin KH\n    const customer = customers.find(c => c.id === order.khach_hang_id);\n    const maKH = (customer === null || customer === void 0 ? void 0 : customer.code) || (customer === null || customer === void 0 ? void 0 : customer.ma_khach_hang) || (customer === null || customer === void 0 ? void 0 : customer.maKhachHang) || (customer === null || customer === void 0 ? void 0 : customer.ma) || '';\n    const tenKH = (customer === null || customer === void 0 ? void 0 : customer.name) || (customer === null || customer === void 0 ? void 0 : customer.ten_khach_hang) || (customer === null || customer === void 0 ? void 0 : customer.tenKhachHang) || (customer === null || customer === void 0 ? void 0 : customer.ten) || '';\n    setForm({\n      ...order,\n      khach_hang_ma: maKH,\n      khach_hang_ten: tenKH,\n      chi_tiet: order.chi_tiet.map(item => ({\n        ...item,\n        so_luong: item.so_luong.toString()\n      }))\n    });\n    setEditingOrder(order);\n    setShowModal(true);\n  };\n  const handleDelete = id => {\n    if (window.confirm('Bạn có chắc muốn xóa đơn hàng này?')) {\n      setOrders(orders.filter(o => o.id !== id));\n      alert('Đã xóa đơn hàng!');\n    }\n  };\n\n  // ============================================================================\n  // QR CODE HANDLER\n  // ============================================================================\n\n  const handleShowQR = (soDonHang, maHang) => {\n    setQRData({\n      code: `${soDonHang}-${maHang}`,\n      soDonHang: soDonHang,\n      maHang: maHang\n    });\n    setShowQRModal(true);\n  };\n\n  // ============================================================================\n  // PRODUCT HANDLERS - MẸ + CON TỰ ĐỘNG\n  // ============================================================================\n\n  const handleAddProduct = product => {\n    var _product$cong_doan, _product$cong_doan2, _product$cong_doan3, _product$cong_doan4, _product$cong_doan5, _product$cong_doan6, _product$cong_doan7, _product$cong_doan8, _product$cong_doan9, _product$cong_doan0, _product$cong_doan1, _product$cong_doan10, _product$cong_doan11;\n    const ktpo = product.po_cao ? `${product.po_dai}×${product.po_rong}×${product.po_cao}` : `${product.po_dai}×${product.po_rong}`;\n    const ktsx = product.sx_dai || product.sx_rong || product.sx_cao ? `${product.sx_dai || product.po_dai}×${product.sx_rong || product.po_rong}${product.sx_cao || product.po_cao ? '×' + (product.sx_cao || product.po_cao) : ''}` : ktpo;\n    const newItems = [];\n\n    // 1. THÊM MẸ\n    const parentItem = {\n      id: Date.now(),\n      thanh_pham_id: product.id,\n      ma_hang: product.ma_hang,\n      ten_san_pham: product.ten_san_pham,\n      ktpo: ktpo,\n      ktsx: ktsx,\n      song: product.song || 'N/A',\n      dvt: product.dvt || 'Cái',\n      kieu: product.kieu || '',\n      don_gia: product.don_gia || 0,\n      so_luong: '',\n      thanh_tien: 0,\n      hoa_hong_co_dinh: product.hoa_hong_co_dinh || 0,\n      hoa_hong_phan_tram: product.hoa_hong_phan_tram || 0,\n      cho_phep_sai_lech: product.cho_phep_sai_lech || false,\n      sai_lech_so_luong: product.sai_lech_so_luong || 0,\n      sai_lech_phan_tram: product.sai_lech_phan_tram || 0,\n      cong_doan: {\n        xa: ((_product$cong_doan = product.cong_doan) === null || _product$cong_doan === void 0 ? void 0 : _product$cong_doan.xa) || 0,\n        ma_phim: ((_product$cong_doan2 = product.cong_doan) === null || _product$cong_doan2 === void 0 ? void 0 : _product$cong_doan2.ma_phim) || '',\n        so_mau: ((_product$cong_doan3 = product.cong_doan) === null || _product$cong_doan3 === void 0 ? void 0 : _product$cong_doan3.so_mau) || 0,\n        in: ((_product$cong_doan4 = product.cong_doan) === null || _product$cong_doan4 === void 0 ? void 0 : _product$cong_doan4.in) || 0,\n        boi: ((_product$cong_doan5 = product.cong_doan) === null || _product$cong_doan5 === void 0 ? void 0 : _product$cong_doan5.boi) || 0,\n        can_mang: ((_product$cong_doan6 = product.cong_doan) === null || _product$cong_doan6 === void 0 ? void 0 : _product$cong_doan6.can_mang) || 0,\n        ma_khuon: ((_product$cong_doan7 = product.cong_doan) === null || _product$cong_doan7 === void 0 ? void 0 : _product$cong_doan7.ma_khuon) || '',\n        be: ((_product$cong_doan8 = product.cong_doan) === null || _product$cong_doan8 === void 0 ? void 0 : _product$cong_doan8.be) || 0,\n        chap: ((_product$cong_doan9 = product.cong_doan) === null || _product$cong_doan9 === void 0 ? void 0 : _product$cong_doan9.chap) || 0,\n        dong: ((_product$cong_doan0 = product.cong_doan) === null || _product$cong_doan0 === void 0 ? void 0 : _product$cong_doan0.dong) || 0,\n        dan: ((_product$cong_doan1 = product.cong_doan) === null || _product$cong_doan1 === void 0 ? void 0 : _product$cong_doan1.dan) || 0,\n        khac: ((_product$cong_doan10 = product.cong_doan) === null || _product$cong_doan10 === void 0 ? void 0 : _product$cong_doan10.khac) || 0,\n        khac_ghi_chu: ((_product$cong_doan11 = product.cong_doan) === null || _product$cong_doan11 === void 0 ? void 0 : _product$cong_doan11.khac_ghi_chu) || ''\n      },\n      ghi_chu: product.ghi_chu || '',\n      la_thanh_phan_con: false,\n      thanh_pham_me_id: null\n    };\n    newItems.push(parentItem);\n\n    // 2. THÊM CON (nếu có)\n    if (product.co_thanh_phan_con && product.thanh_phan_con && product.thanh_phan_con.length > 0) {\n      product.thanh_phan_con.forEach((con, index) => {\n        var _con$cong_doan, _con$cong_doan2, _con$cong_doan3, _con$cong_doan4, _con$cong_doan5, _con$cong_doan6, _con$cong_doan7, _con$cong_doan8, _con$cong_doan9, _con$cong_doan0, _con$cong_doan1, _con$cong_doan10, _con$cong_doan11;\n        const conKtpo = con.po_cao ? `${con.po_dai}×${con.po_rong}×${con.po_cao}` : `${con.po_dai}×${con.po_rong}`;\n        const conKtsx = con.sx_dai || con.sx_rong || con.sx_cao ? `${con.sx_dai || con.po_dai}×${con.sx_rong || con.po_rong}${con.sx_cao || con.po_cao ? '×' + (con.sx_cao || con.po_cao) : ''}` : conKtpo;\n        const childItem = {\n          id: Date.now() + index + 1,\n          thanh_pham_id: `${product.id}_${con.ma_hang_con}`,\n          ma_hang: con.ma_hang_con,\n          ten_san_pham: con.ten,\n          ktpo: conKtpo,\n          ktsx: conKtsx,\n          song: con.song || product.song || 'N/A',\n          dvt: con.dvt || product.dvt || 'Cái',\n          kieu: con.kieu || product.kieu || '',\n          don_gia: con.don_gia || 0,\n          so_luong: '',\n          // Sẽ tự động tính từ mẹ\n          thanh_tien: 0,\n          hoa_hong_co_dinh: 0,\n          hoa_hong_phan_tram: 0,\n          cho_phep_sai_lech: false,\n          sai_lech_so_luong: 0,\n          sai_lech_phan_tram: 0,\n          cong_doan: {\n            xa: ((_con$cong_doan = con.cong_doan) === null || _con$cong_doan === void 0 ? void 0 : _con$cong_doan.xa) || 0,\n            ma_phim: ((_con$cong_doan2 = con.cong_doan) === null || _con$cong_doan2 === void 0 ? void 0 : _con$cong_doan2.ma_phim) || '',\n            so_mau: ((_con$cong_doan3 = con.cong_doan) === null || _con$cong_doan3 === void 0 ? void 0 : _con$cong_doan3.so_mau) || 0,\n            in: ((_con$cong_doan4 = con.cong_doan) === null || _con$cong_doan4 === void 0 ? void 0 : _con$cong_doan4.in) || 0,\n            boi: ((_con$cong_doan5 = con.cong_doan) === null || _con$cong_doan5 === void 0 ? void 0 : _con$cong_doan5.boi) || 0,\n            can_mang: ((_con$cong_doan6 = con.cong_doan) === null || _con$cong_doan6 === void 0 ? void 0 : _con$cong_doan6.can_mang) || 0,\n            ma_khuon: ((_con$cong_doan7 = con.cong_doan) === null || _con$cong_doan7 === void 0 ? void 0 : _con$cong_doan7.ma_khuon) || '',\n            be: ((_con$cong_doan8 = con.cong_doan) === null || _con$cong_doan8 === void 0 ? void 0 : _con$cong_doan8.be) || 0,\n            chap: ((_con$cong_doan9 = con.cong_doan) === null || _con$cong_doan9 === void 0 ? void 0 : _con$cong_doan9.chap) || 0,\n            dong: ((_con$cong_doan0 = con.cong_doan) === null || _con$cong_doan0 === void 0 ? void 0 : _con$cong_doan0.dong) || 0,\n            dan: ((_con$cong_doan1 = con.cong_doan) === null || _con$cong_doan1 === void 0 ? void 0 : _con$cong_doan1.dan) || 0,\n            khac: ((_con$cong_doan10 = con.cong_doan) === null || _con$cong_doan10 === void 0 ? void 0 : _con$cong_doan10.khac) || 0,\n            khac_ghi_chu: ((_con$cong_doan11 = con.cong_doan) === null || _con$cong_doan11 === void 0 ? void 0 : _con$cong_doan11.khac_ghi_chu) || ''\n          },\n          ghi_chu: con.ghi_chu || '',\n          la_thanh_phan_con: true,\n          thanh_pham_me_id: parentItem.id,\n          so_luong_con_theo_me: con.so_luong || 1 // Tỷ lệ: 1 mẹ = bao nhiêu con\n        };\n        newItems.push(childItem);\n      });\n    }\n    setForm({\n      ...form,\n      chi_tiet: [...form.chi_tiet, ...newItems]\n    });\n    setShowProductModal(false);\n    setProductSearchTerm('');\n\n    // Auto focus vào SL của mẹ\n    setTimeout(() => {\n      const input = quantityInputRefs.current[parentItem.id];\n      if (input) {\n        input.focus();\n        input.select();\n      }\n    }, 100);\n  };\n  const handleUpdateQuantity = (itemId, value) => {\n    const item = form.chi_tiet.find(i => i.id === itemId);\n    if (!item) return;\n\n    // Nếu là mẹ → update cả con\n    if (!item.la_thanh_phan_con) {\n      const meQty = parseFloat(value) || 0;\n      setForm({\n        ...form,\n        chi_tiet: form.chi_tiet.map(i => {\n          // Update mẹ\n          if (i.id === itemId) {\n            return {\n              ...i,\n              so_luong: value,\n              thanh_tien: meQty * parseFloat(i.don_gia)\n            };\n          }\n\n          // Update con (nếu thuộc về mẹ này)\n          if (i.la_thanh_phan_con && i.thanh_pham_me_id === itemId) {\n            const conQty = meQty * (i.so_luong_con_theo_me || 1);\n            return {\n              ...i,\n              so_luong: conQty.toString(),\n              thanh_tien: conQty * parseFloat(i.don_gia)\n            };\n          }\n          return i;\n        })\n      });\n    }\n    // Con không được edit trực tiếp\n  };\n  const handleRemoveItem = itemId => {\n    const item = form.chi_tiet.find(i => i.id === itemId);\n    if (!item) return;\n\n    // Nếu xóa mẹ → xóa cả con\n    if (!item.la_thanh_phan_con) {\n      if (window.confirm('Xóa sản phẩm mẹ sẽ xóa cả các thành phần con. Bạn có chắc?')) {\n        setForm({\n          ...form,\n          chi_tiet: form.chi_tiet.filter(i => i.id !== itemId && i.thanh_pham_me_id !== itemId)\n        });\n      }\n    } else {\n      // Không cho xóa con riêng lẻ\n      alert('Không thể xóa thành phần con riêng lẻ. Vui lòng xóa sản phẩm mẹ.');\n    }\n  };\n\n  // ============================================================================\n  // PRODUCT SELECTION - CHỈ MẸ\n  // ============================================================================\n\n  const getParentProductsOnly = () => {\n    return products.map(product => {\n      var _product$thanh_phan_c;\n      return {\n        ...product,\n        displayName: product.co_thanh_phan_con && ((_product$thanh_phan_c = product.thanh_phan_con) === null || _product$thanh_phan_c === void 0 ? void 0 : _product$thanh_phan_c.length) > 0 ? `${product.ma_hang} - ${product.ten_san_pham} (có ${product.thanh_phan_con.length} con)` : `${product.ma_hang} - ${product.ten_san_pham}`\n      };\n    });\n  };\n  const filteredProducts = getParentProductsOnly().filter(p => {\n    const searchLower = productSearchTerm.toLowerCase();\n    return p.ma_hang.toLowerCase().includes(searchLower) || (p.ten_san_pham || '').toLowerCase().includes(searchLower) || p.displayName.toLowerCase().includes(searchLower);\n  });\n\n  // ============================================================================\n  // FILTERS - Theo tháng\n  // ============================================================================\n\n  const filteredOrders = orders.filter(o => {\n    // Filter theo tháng\n    const orderYearMonth = o.so_don_hang.slice(3, 9); // DHX202512001 → 202512\n    const selectedYearMonth = selectedMonth.replace('-', ''); // 2025-12 → 202512\n\n    if (orderYearMonth !== selectedYearMonth) return false;\n\n    // Filter theo search term\n    if (searchTerm) {\n      const searchLower = searchTerm.toLowerCase();\n      const customerName = getCustomerName(o.khach_hang_id, customers);\n      const customerCode = getCustomerCode(o.khach_hang_id, customers);\n      return o.so_don_hang.toLowerCase().includes(searchLower) || customerName.toLowerCase().includes(searchLower) || customerCode.toLowerCase().includes(searchLower);\n    }\n    return true;\n  });\n\n  // ============================================================================\n  // RENDER\n  // ============================================================================\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: \"\\u0110\\u01A1n h\\xE0ng Xu\\u1EA5t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Qu\\u1EA3n l\\xFD \\u0111\\u01A1n h\\xE0ng xu\\u1EA5t kho\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowFilterBox(!showFilterBox),\n          className: `px-4 py-2 rounded-lg border flex items-center gap-2 ${showFilterBox ? 'bg-blue-100 border-blue-600 text-blue-700' : 'bg-white border-gray-300 hover:bg-gray-50'}`,\n          children: [/*#__PURE__*/_jsxDEV(Filter, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 13\n          }, this), \"B\\u1ED9 l\\u1ECDc\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ExcelActions, {\n          onExport: () => console.log('Export:', filteredOrders),\n          onImport: data => console.log('Import:', data),\n          data: filteredOrders,\n          moduleName: \"don-hang-xuat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            resetForm();\n            setShowModal(true);\n          },\n          className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 13\n          }, this), \"T\\u1EA1o \\u0111\\u01A1n h\\xE0ng\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 7\n    }, this), showFilterBox && /*#__PURE__*/_jsxDEV(FilterBox, {\n      filters: advancedFilters,\n      onFilterChange: setAdvancedFilters,\n      onReset: () => setAdvancedFilters({\n        customerIds: [],\n        minAmount: '',\n        maxAmount: '',\n        dateFrom: '',\n        dateTo: '',\n        deliveryDateFrom: '',\n        deliveryDateTo: ''\n      }),\n      customers: customers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-sm border p-4 space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Calendar, {\n              className: \"w-4 h-4 inline mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 15\n            }, this), \"L\\u1ECDc theo th\\xE1ng\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedMonth,\n            onChange: e => setSelectedMonth(e.target.value),\n            className: \"w-full px-4 py-2 border rounded-lg bg-white\",\n            children: generateMonthOptions().map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: opt.value,\n              children: opt.label\n            }, opt.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"w-4 h-4 inline mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 15\n            }, this), \"T\\xECm ki\\u1EBFm\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            placeholder: \"S\\u1ED1 \\u0111\\u01A1n h\\xE0ng, kh\\xE1ch h\\xE0ng...\",\n            className: \"w-full px-4 py-2 border rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: [\"Hi\\u1EC3n th\\u1ECB \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-blue-600\",\n          children: filteredOrders.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 20\n        }, this), \" \\u0111\\u01A1n h\\xE0ng\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [filteredOrders.map(order => {\n        // Convert ID to string for matching\n        const customerName = getCustomerName(order.khach_hang_id, customers);\n        const customerCode = getCustomerCode(order.khach_hang_id, customers);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-sm border overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-blue-50 to-purple-50 px-6 py-4 border-b flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n                className: \"w-6 h-6 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 646,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-bold text-lg text-blue-900\",\n                  children: order.so_don_hang\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 648,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-3 text-sm text-gray-600 mt-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDCE6 KH: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-gray-900\",\n                      children: [customerCode, \" - \", customerName]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 650,\n                      columnNumber: 36\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 650,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u2022\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 651,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDCC5 \\u0110\\u1EB7t: \", new Date(order.ngay_dat).toLocaleDateString('vi-VN')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 652,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u2022\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 653,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDE9A Giao: \", new Date(order.ngay_giao_du_kien).toLocaleDateString('vi-VN')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 654,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 649,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 647,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 645,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"T\\u1ED5ng ti\\u1EC1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 660,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-green-600\",\n                  children: [order.tong_tien.toLocaleString('vi-VN'), \"\\u0111\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 661,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setSelectedOrder(order);\n                  setShowDetailModal(true);\n                },\n                className: \"p-2 text-purple-600 hover:bg-purple-50 rounded-lg\",\n                title: \"Xem chi ti\\u1EBFt\",\n                children: /*#__PURE__*/_jsxDEV(Eye, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 673,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEdit(order),\n                className: \"p-2 text-blue-600 hover:border rounded-lg\",\n                title: \"S\\u1EEDa\",\n                children: /*#__PURE__*/_jsxDEV(Edit, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 680,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDelete(order.id),\n                className: \"p-2 text-red-600 hover:bg-red-50 rounded-lg\",\n                title: \"X\\xF3a\",\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 687,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-6 py-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"S\\u1EA3n ph\\u1EA9m:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 19\n              }, this), \" \", order.chi_tiet.length, \" m\\u1EB7t h\\xE0ng\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 17\n            }, this), order.ghi_chu && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-gray-700\",\n                children: \"Ghi ch\\xFA:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600 ml-2\",\n                children: order.ghi_chu\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 15\n          }, this)]\n        }, order.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 643,\n          columnNumber: 13\n        }, this);\n      }), filteredOrders.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm border p-12 text-center text-gray-500\",\n        children: [\"Kh\\xF4ng c\\xF3 \\u0111\\u01A1n h\\xE0ng n\\xE0o trong th\\xE1ng \", selectedMonth.split('-')[1], \"/\", selectedMonth.split('-')[0]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 708,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 636,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full max-w-7xl my-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sticky top-0 bg-white border-b px-6 py-4 z-10 rounded-t-xl\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold\",\n              children: editingOrder ? 'Sửa đơn hàng' : 'Tạo đơn hàng mới'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 720,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowModal(false);\n                resetForm();\n              },\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 730,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 723,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 719,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: [\"S\\u1ED1 \\u0111\\u01A1n h\\xE0ng * \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"(T\\u1EF1 \\u0111\\u1ED9ng)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 740,\n                  columnNumber: 35\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 739,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: form.so_don_hang,\n                readOnly: true,\n                className: \"w-full px-4 py-2 border rounded-lg bg-gray-50 font-mono font-bold text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 742,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Kh\\xE1ch h\\xE0ng *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 751,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: form.khach_hang_id,\n                onChange: e => {\n                  const customerId = e.target.value;\n                  // Convert to string for consistent comparison\n                  const selectedCustomer = customers.find(c => String(c.id) === String(customerId));\n                  console.log('=== onChange Debug ===');\n                  console.log('Selected value:', customerId, 'Type:', typeof customerId);\n                  console.log('Found customer:', selectedCustomer);\n                  if (selectedCustomer) {\n                    const maKH = selectedCustomer.code || selectedCustomer.ma_khach_hang || selectedCustomer.maKhachHang || selectedCustomer.ma || selectedCustomer.ma_kh || '';\n                    const tenKH = selectedCustomer.name || selectedCustomer.ten_khach_hang || selectedCustomer.tenKhachHang || selectedCustomer.ten || selectedCustomer.ten_kh || '';\n                    console.log('Set form - Mã:', maKH, 'Tên:', tenKH);\n                    setForm({\n                      ...form,\n                      khach_hang_id: customerId,\n                      khach_hang_ma: maKH,\n                      khach_hang_ten: tenKH\n                    });\n                  } else {\n                    console.error('Customer not found for ID:', customerId);\n                    setForm({\n                      ...form,\n                      khach_hang_id: customerId,\n                      khach_hang_ma: '',\n                      khach_hang_ten: ''\n                    });\n                  }\n                },\n                className: \"w-full px-4 py-2 border rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"-- Ch\\u1ECDn m\\xE3 kh\\xE1ch h\\xE0ng --\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 800,\n                  columnNumber: 21\n                }, this), customers.map(c => {\n                  const maKH = c.code || c.ma_khach_hang || c.maKhachHang || c.ma || c.ma_kh || c.id;\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: c.id,\n                    children: maKH\n                  }, c.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 805,\n                    columnNumber: 25\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 754,\n                columnNumber: 19\n              }, this), form.khach_hang_id && (() => {\n                // Convert IDs to string for comparison (fix number vs string mismatch)\n                const selectedCustomer = customers.find(c => String(c.id) === String(form.khach_hang_id));\n                const customerName = (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.name) || (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.ten_khach_hang) || (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.tenKhachHang) || form.khach_hang_ten || '';\n                console.log('=== Display Name Debug ===');\n                console.log('Selected ID:', form.khach_hang_id, 'Type:', typeof form.khach_hang_id);\n                console.log('Found customer:', selectedCustomer);\n                console.log('Customer name:', customerName);\n                return customerName ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-blue-600 mt-1 font-medium\",\n                  children: [\"\\u2192 \", customerName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 826,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-orange-500 mt-1\",\n                  children: [\"\\u26A0 ID: \", form.khach_hang_id, \" - Customer not found in array\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 830,\n                  columnNumber: 23\n                }, this);\n              })()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 750,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Ng\\xE0y \\u0111\\u1EB7t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 838,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: form.ngay_dat,\n                onChange: e => setForm({\n                  ...form,\n                  ngay_dat: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 839,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 837,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Ng\\xE0y giao d\\u1EF1 ki\\u1EBFn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 848,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: form.ngay_giao_du_kien,\n                onChange: e => setForm({\n                  ...form,\n                  ngay_giao_du_kien: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 849,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 847,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded-lg p-4 bg-gray-50\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-bold text-lg\",\n                children: \"Chi ti\\u1EBFt s\\u1EA3n ph\\u1EA9m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowProductModal(true),\n                className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Plus, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 866,\n                  columnNumber: 21\n                }, this), \"Th\\xEAm s\\u1EA3n ph\\u1EA9m\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 862,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 860,\n              columnNumber: 17\n            }, this), form.chi_tiet.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-x-auto border rounded-lg bg-white\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-100 sticky top-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold border\",\n                      children: \"M\\xE3 h\\xE0ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 876,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold border\",\n                      children: \"T\\xEAn SP\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 877,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"KTPO\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 878,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"KTSX\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 879,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"S\\xF3ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 880,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"\\u0110VT\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 881,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"Ki\\u1EC3u\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 882,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border\",\n                      children: \"\\u0110\\u01A1n gi\\xE1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 885,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"SL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 886,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border\",\n                      children: \"Th\\xE0nh ti\\u1EC1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 887,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"+/-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 888,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border\",\n                      children: \"HH c\\u1ED1 \\u0111\\u1ECBnh\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 889,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border\",\n                      children: \"HH %\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 890,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"X\\u1EA3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 893,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"M\\xE3 phim\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 894,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"S\\u1ED1 m\\xE0u\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 895,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"In\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 896,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"B\\u1ED3i\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 897,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"C\\xE1n m\\xE0ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 898,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"M\\xE3 khu\\xF4n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 899,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"B\\u1EBF\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 900,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"Ch\\u1EA1p\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 901,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"\\u0110\\xF3ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 902,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"D\\xE1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 903,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"Kh\\xE1c\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 904,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold border\",\n                      children: \"Ghi ch\\xFA Kh\\xE1c\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 905,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold border\",\n                      children: \"Ghi ch\\xFA\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 908,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"QR\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 909,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 910,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 874,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 873,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: form.chi_tiet.map((item, index) => {\n                    var _item$cong_doan, _item$cong_doan2, _item$cong_doan3, _item$cong_doan4, _item$cong_doan5, _item$cong_doan6, _item$cong_doan7, _item$cong_doan8, _item$cong_doan9, _item$cong_doan0, _item$cong_doan1, _item$cong_doan10, _item$cong_doan11;\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: index % 2 === 0 ? 'bg-white' : 'bg-gray-50',\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 border\",\n                        children: item.la_thanh_phan_con ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium text-purple-700 pl-4\",\n                          children: [\"\\u21B3 \", item.ma_hang]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 919,\n                          columnNumber: 33\n                        }, this) : /*#__PURE__*/_jsxDEV(LinkedField, {\n                          value: item.ma_hang,\n                          module: \"products\",\n                          id: item.thanh_pham_id,\n                          onClick: id => {\n                            alert(`Xem thành phẩm: ${item.ten_san_pham}\\nMã hàng: ${item.ma_hang}\\nID: ${id}`);\n                            // TODO: Navigate to Product detail or open modal\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 923,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 917,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2\",\n                        children: item.ten_san_pham\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 934,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs\",\n                        children: item.ktpo\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 935,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs\",\n                        children: item.ktsx\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 936,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-gray-100 rounded text-xs\",\n                          children: item.song\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 938,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 937,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs\",\n                        children: item.dvt\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 942,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs\",\n                          children: item.kieu || '-'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 944,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 943,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right border\",\n                        children: parseFloat(item.don_gia).toLocaleString('vi-VN')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 950,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 border\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          ref: el => quantityInputRefs.current[item.id] = el,\n                          type: \"number\",\n                          value: item.so_luong,\n                          onChange: e => handleUpdateQuantity(item.id, e.target.value),\n                          className: \"w-20 px-2 py-1 border rounded text-right\",\n                          min: \"0\",\n                          placeholder: \"0\",\n                          disabled: item.la_thanh_phan_con\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 954,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 953,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right font-semibold text-green-600 border\",\n                        children: item.thanh_tien.toLocaleString('vi-VN')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 965,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 border \",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"text\",\n                          value: item.sai_lech_so_luong || '',\n                          onChange: e => {\n                            setForm({\n                              ...form,\n                              chi_tiet: form.chi_tiet.map(i => i.id === item.id ? {\n                                ...i,\n                                sai_lech_so_luong: e.target.value\n                              } : i)\n                            });\n                          },\n                          className: \"w-24 px-2 py-1 border rounded text-center\",\n                          placeholder: \"+/-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 969,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 968,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right text-xs\",\n                        children: item.hoa_hong_co_dinh ? item.hoa_hong_co_dinh.toLocaleString('vi-VN') : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 986,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right text-xs \",\n                        children: item.hoa_hong_phan_tram ? `${item.hoa_hong_phan_tram}%` : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 989,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan = item.cong_doan) === null || _item$cong_doan === void 0 ? void 0 : _item$cong_doan.xa) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 994,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border\",\n                        children: (_item$cong_doan2 = item.cong_doan) !== null && _item$cong_doan2 !== void 0 && _item$cong_doan2.ma_phim ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-medium\",\n                          children: item.cong_doan.ma_phim\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 999,\n                          columnNumber: 33\n                        }, this) : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 997,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan3 = item.cong_doan) === null || _item$cong_doan3 === void 0 ? void 0 : _item$cong_doan3.so_mau) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1004,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan4 = item.cong_doan) === null || _item$cong_doan4 === void 0 ? void 0 : _item$cong_doan4.in) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1007,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan5 = item.cong_doan) === null || _item$cong_doan5 === void 0 ? void 0 : _item$cong_doan5.boi) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1010,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan6 = item.cong_doan) === null || _item$cong_doan6 === void 0 ? void 0 : _item$cong_doan6.can_mang) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1013,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border\",\n                        children: (_item$cong_doan7 = item.cong_doan) !== null && _item$cong_doan7 !== void 0 && _item$cong_doan7.ma_khuon ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-xs font-medium\",\n                          children: item.cong_doan.ma_khuon\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1018,\n                          columnNumber: 33\n                        }, this) : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1016,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan8 = item.cong_doan) === null || _item$cong_doan8 === void 0 ? void 0 : _item$cong_doan8.be) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1023,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan9 = item.cong_doan) === null || _item$cong_doan9 === void 0 ? void 0 : _item$cong_doan9.chap) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1026,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan0 = item.cong_doan) === null || _item$cong_doan0 === void 0 ? void 0 : _item$cong_doan0.dong) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1029,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan1 = item.cong_doan) === null || _item$cong_doan1 === void 0 ? void 0 : _item$cong_doan1.dan) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan10 = item.cong_doan) === null || _item$cong_doan10 === void 0 ? void 0 : _item$cong_doan10.khac) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1035,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-left border text-xs \",\n                        children: ((_item$cong_doan11 = item.cong_doan) === null || _item$cong_doan11 === void 0 ? void 0 : _item$cong_doan11.khac_ghi_chu) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1038,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-xs\",\n                        children: item.ghi_chu || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1043,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleShowQR(form.so_don_hang, item.ma_hang),\n                          className: \"p-1 text-green-600 hover:border rounded\",\n                          title: \"Xem QR Code\",\n                          children: /*#__PURE__*/_jsxDEV(QrCode, {\n                            className: \"w-4 h-4\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1052,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1047,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1046,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleRemoveItem(item.id),\n                          className: \"p-1 text-red-600 hover:bg-red-50 rounded\",\n                          title: item.la_thanh_phan_con ? 'Không thể xóa con riêng lẻ' : 'Xóa',\n                          children: /*#__PURE__*/_jsxDEV(X, {\n                            className: \"w-4 h-4\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1061,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1056,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1055,\n                        columnNumber: 29\n                      }, this)]\n                    }, item.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 915,\n                      columnNumber: 27\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 913,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                  className: \"bg-gray-50 border-t-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"9\",\n                      className: \"px-3 py-3 text-right font-bold\",\n                      children: \"T\\u1ED5ng ti\\u1EC1n:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1069,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-3 text-right font-bold text-green-600 text-lg\",\n                      children: [form.chi_tiet.reduce((sum, item) => sum + item.thanh_tien, 0).toLocaleString('vi-VN'), \"\\u0111\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1072,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"19\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1075,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1068,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1067,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 872,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 871,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 text-gray-500 bg-white border rounded-lg\",\n              children: \"Ch\\u01B0a c\\xF3 s\\u1EA3n ph\\u1EA9m. Nh\\u1EA5n \\\"Th\\xEAm s\\u1EA3n ph\\u1EA9m\\\" \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1081,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 859,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"Ghi ch\\xFA \\u0111\\u01A1n h\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1089,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n              value: form.ghi_chu,\n              onChange: value => setForm({\n                ...form,\n                ghi_chu: value\n              }),\n              placeholder: \"Ghi ch\\xFA v\\u1EC1 \\u0111\\u01A1n h\\xE0ng...\",\n              rows: 3,\n              className: \"w-full px-4 py-2 border rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1090,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1088,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 735,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t px-6 py-4 flex justify-end gap-3 sticky bottom-0 bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowModal(false);\n              resetForm();\n            },\n            className: \"px-6 py-2 border rounded-lg hover:bg-gray-50\",\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1102,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            className: \"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1115,\n              columnNumber: 17\n            }, this), editingOrder ? 'Cập nhật' : 'Tạo đơn hàng']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1111,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1101,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 717,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 716,\n      columnNumber: 9\n    }, this), showProductModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold\",\n              children: \"Ch\\u1ECDn s\\u1EA3n ph\\u1EA9m (M\\u1EB9 + Con t\\u1EF1 \\u0111\\u1ED9ng)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1129,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowProductModal(false);\n                setProductSearchTerm('');\n              },\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1137,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1130,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1128,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1127,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1144,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: productSearchTerm,\n              onChange: e => setProductSearchTerm(e.target.value),\n              placeholder: \"T\\xECm ki\\u1EBFm m\\xE3 h\\xE0ng, t\\xEAn s\\u1EA3n ph\\u1EA9m...\",\n              className: \"w-full pl-10 pr-4 py-2 border rounded-lg\",\n              autoFocus: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1145,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1143,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-y-auto max-h-96 border rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-50 sticky top-0\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-left font-semibold\",\n                    children: \"M\\xE3 h\\xE0ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1159,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-left font-semibold\",\n                    children: \"T\\xEAn s\\u1EA3n ph\\u1EA9m\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1160,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-center font-semibold\",\n                    children: \"KTSX\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1161,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-center font-semibold\",\n                    children: \"S\\xF3ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1162,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-right font-semibold\",\n                    children: \"\\u0110\\u01A1n gi\\xE1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1163,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-center font-semibold\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1164,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1158,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1157,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                className: \"divide-y\",\n                children: filteredProducts.map(product => {\n                  var _product$thanh_phan_c2;\n                  const alreadyAdded = form.chi_tiet.some(item => item.thanh_pham_id === product.id && !item.la_thanh_phan_con);\n                  const ktsx = product.sx_dai || product.sx_rong || product.sx_cao ? `${product.sx_dai || product.po_dai}×${product.sx_rong || product.po_rong}${product.sx_cao || product.po_cao ? '×' + (product.sx_cao || product.po_cao) : ''}` : product.po_cao ? `${product.po_dai}×${product.po_rong}×${product.po_cao}` : `${product.po_dai}×${product.po_rong}`;\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"hover:bg-gray-50\",\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium text-blue-600\",\n                        children: product.ma_hang\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1180,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1179,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [product.ten_san_pham, product.co_thanh_phan_con && ((_product$thanh_phan_c2 = product.thanh_phan_con) === null || _product$thanh_phan_c2 === void 0 ? void 0 : _product$thanh_phan_c2.length) > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xs text-purple-600 ml-2\",\n                          children: [\"(\", product.thanh_phan_con.length, \" con)\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1188,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1185,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1184,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center text-xs\",\n                      children: ktsx\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1194,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"px-2 py-1 bg-gray-100 rounded text-xs\",\n                        children: product.song || 'N/A'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1196,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1195,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-right\",\n                      children: [(product.don_gia || 0).toLocaleString('vi-VN'), \"\\u0111\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1200,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleAddProduct(product),\n                        disabled: alreadyAdded,\n                        className: `px-3 py-1 rounded text-sm ${alreadyAdded ? 'bg-gray-200 text-gray-500 cursor-not-allowed' : 'bg-blue-600 text-white hover:bg-blue-700'}`,\n                        children: alreadyAdded ? 'Đã thêm' : 'Chọn'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1204,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1203,\n                      columnNumber: 27\n                    }, this)]\n                  }, product.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1178,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1167,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1156,\n              columnNumber: 17\n            }, this), filteredProducts.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 text-gray-500\",\n              children: \"Kh\\xF4ng t\\xECm th\\u1EA5y s\\u1EA3n ph\\u1EA9m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1223,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1155,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1142,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1126,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1125,\n      columnNumber: 9\n    }, this), showQRModal && qrData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl max-w-md w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b px-6 py-4 flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold\",\n            children: \"QR Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1238,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowQRModal(false);\n              setQRData(null);\n            },\n            className: \"text-gray-400 hover:text-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1246,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1239,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1237,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-100 p-8 rounded-lg mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(QrCode, {\n              className: \"w-48 h-48 mx-auto text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1252,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mt-4\",\n              children: \"\\uD83D\\uDD2E QR Code s\\u1EBD \\u0111\\u01B0\\u1EE3c t\\u1EA1o \\u1EDF \\u0111\\xE2y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1253,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1251,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold text-lg font-mono text-blue-600\",\n              children: qrData.code\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1259,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: [\"\\u0110\\u01A1n h\\xE0ng: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: qrData.soDonHang\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1263,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1262,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: [\"M\\xE3 h\\xE0ng: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: qrData.maHang\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1266,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1265,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1258,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 flex gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => alert('Tính năng in QR - Làm sau'),\n              className: \"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\",\n              children: \"In QR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1271,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowQRModal(false);\n                setQRData(null);\n              },\n              className: \"flex-1 border px-4 py-2 rounded-lg hover:bg-gray-50\",\n              children: \"\\u0110\\xF3ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1277,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1270,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1250,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1236,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1235,\n      columnNumber: 9\n    }, this), showDetailModal && selectedOrder && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full h-full max-w-[98vw] max-h-[98vh] flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sticky top-0 bg-white border-b px-6 py-4 z-10\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold\",\n              children: [\"Chi ti\\u1EBFt \\u0111\\u01A1n h\\xE0ng: \", selectedOrder.so_don_hang]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1298,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowDetailModal(false);\n                setSelectedOrder(null);\n              },\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1306,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1299,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1297,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1296,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-y-auto p-6 space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4 border p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Kh\\xE1ch h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1315,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold text-lg\",\n                children: [getCustomerCode(selectedOrder.khach_hang_id, customers), \" - \", getCustomerName(selectedOrder.khach_hang_id, customers)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1316,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1314,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"T\\u1ED5ng ti\\u1EC1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1321,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold text-2xl text-green-600\",\n                children: [selectedOrder.tong_tien.toLocaleString('vi-VN'), \"\\u0111\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1322,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1320,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Ng\\xE0y \\u0111\\u1EB7t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1327,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: new Date(selectedOrder.ngay_dat).toLocaleDateString('vi-VN')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1328,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1326,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Ng\\xE0y giao d\\u1EF1 ki\\u1EBFn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1333,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: new Date(selectedOrder.ngay_giao_du_kien).toLocaleDateString('vi-VN')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1334,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1332,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1313,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-bold text-lg mb-3\",\n              children: \"Danh s\\xE1ch s\\u1EA3n ph\\u1EA9m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1342,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-x-auto border rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-100\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold border\",\n                      children: \"M\\xE3 h\\xE0ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1348,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold border\",\n                      children: \"T\\xEAn SP\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1349,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"KTPO\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1350,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"KTSX\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1351,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"S\\xF3ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1352,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"\\u0110VT\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1353,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"Ki\\u1EC3u\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1354,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border\",\n                      children: \"\\u0110\\u01A1n gi\\xE1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1357,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"SL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1358,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border\",\n                      children: \"Th\\xE0nh ti\\u1EC1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1359,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"+/-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1360,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border\",\n                      children: \"HH c\\u1ED1 \\u0111\\u1ECBnh\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1361,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border\",\n                      children: \"HH %\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1362,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"X\\u1EA3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1365,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"M\\xE3 phim\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1366,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"S\\u1ED1 m\\xE0u\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1367,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"In\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1368,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"B\\u1ED3i\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1369,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"C\\xE1n m\\xE0ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1370,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"M\\xE3 khu\\xF4n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1371,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"B\\u1EBF\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1372,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"Ch\\u1EA1p\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1373,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"\\u0110\\xF3ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1374,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"D\\xE1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1375,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"Kh\\xE1c\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1376,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold border\",\n                      children: \"Ghi ch\\xFA Kh\\xE1c\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1377,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold border\",\n                      children: \"Ghi ch\\xFA\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1380,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"QR\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1381,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1346,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1345,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: selectedOrder.chi_tiet.map((item, index) => {\n                    var _item$cong_doan12, _item$cong_doan13, _item$cong_doan14, _item$cong_doan15, _item$cong_doan16, _item$cong_doan17, _item$cong_doan18, _item$cong_doan19, _item$cong_doan20, _item$cong_doan21, _item$cong_doan22, _item$cong_doan23, _item$cong_doan24;\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: index % 2 === 0 ? 'bg-white' : 'bg-gray-50',\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 border\",\n                        children: item.la_thanh_phan_con ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium text-purple-700 pl-4\",\n                          children: [\"\\u21B3 \", item.ma_hang]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1390,\n                          columnNumber: 31\n                        }, this) : /*#__PURE__*/_jsxDEV(LinkedField, {\n                          value: item.ma_hang,\n                          module: \"products\",\n                          id: item.thanh_pham_id,\n                          onClick: id => {\n                            alert(`Xem thành phẩm: ${item.ten_san_pham}\\nMã hàng: ${item.ma_hang}\\nID: ${id}`);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1394,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1388,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 border\",\n                        children: item.ten_san_pham\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1404,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: item.ktpo || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1405,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: item.ktsx\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1406,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-gray-200 rounded text-xs\",\n                          children: item.song\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1408,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1407,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: item.dvt || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1412,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-gray-200 rounded text-xs\",\n                          children: item.kieu || '-'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1414,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1413,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right border\",\n                        children: parseFloat(item.don_gia).toLocaleString('vi-VN')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1420,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right font-medium border\",\n                        children: item.so_luong.toLocaleString('vi-VN')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1423,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right font-semibold text-green-600 border\",\n                        children: item.thanh_tien.toLocaleString('vi-VN')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1426,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border\",\n                        children: item.sai_lech_so_luong || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1429,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right text-xs border\",\n                        children: item.hoa_hong_co_dinh ? item.hoa_hong_co_dinh.toLocaleString('vi-VN') : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1432,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right text-xs border\",\n                        children: item.hoa_hong_phan_tram ? `${item.hoa_hong_phan_tram}%` : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1435,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan12 = item.cong_doan) === null || _item$cong_doan12 === void 0 ? void 0 : _item$cong_doan12.xa) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1440,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border\",\n                        children: ((_item$cong_doan13 = item.cong_doan) === null || _item$cong_doan13 === void 0 ? void 0 : _item$cong_doan13.ma_phim) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1443,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan14 = item.cong_doan) === null || _item$cong_doan14 === void 0 ? void 0 : _item$cong_doan14.so_mau) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1446,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan15 = item.cong_doan) === null || _item$cong_doan15 === void 0 ? void 0 : _item$cong_doan15.in) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1449,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan16 = item.cong_doan) === null || _item$cong_doan16 === void 0 ? void 0 : _item$cong_doan16.boi) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1452,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan17 = item.cong_doan) === null || _item$cong_doan17 === void 0 ? void 0 : _item$cong_doan17.can_mang) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1455,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border\",\n                        children: ((_item$cong_doan18 = item.cong_doan) === null || _item$cong_doan18 === void 0 ? void 0 : _item$cong_doan18.ma_khuon) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1458,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan19 = item.cong_doan) === null || _item$cong_doan19 === void 0 ? void 0 : _item$cong_doan19.be) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1461,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan20 = item.cong_doan) === null || _item$cong_doan20 === void 0 ? void 0 : _item$cong_doan20.chap) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1464,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan21 = item.cong_doan) === null || _item$cong_doan21 === void 0 ? void 0 : _item$cong_doan21.dong) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1467,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan22 = item.cong_doan) === null || _item$cong_doan22 === void 0 ? void 0 : _item$cong_doan22.dan) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1470,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan23 = item.cong_doan) === null || _item$cong_doan23 === void 0 ? void 0 : _item$cong_doan23.khac) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1473,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-left text-xs border\",\n                        children: ((_item$cong_doan24 = item.cong_doan) === null || _item$cong_doan24 === void 0 ? void 0 : _item$cong_doan24.khac_ghi_chu) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1476,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-xs border\",\n                        children: item.ghi_chu || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1481,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleShowQR(selectedOrder.so_don_hang, item.ma_hang),\n                          className: \"p-1 text-green-600 hover:border rounded\",\n                          children: /*#__PURE__*/_jsxDEV(QrCode, {\n                            className: \"w-4 h-4\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1489,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1485,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1484,\n                        columnNumber: 27\n                      }, this)]\n                    }, item.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1386,\n                      columnNumber: 25\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1384,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                  className: \"bg-gray-50 border-t-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"9\",\n                      className: \"px-3 py-3 text-right font-bold\",\n                      children: \"T\\u1ED5ng c\\u1ED9ng:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1497,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-3 text-right font-bold text-green-600 text-lg\",\n                      children: [selectedOrder.tong_tien.toLocaleString('vi-VN'), \"\\u0111\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1500,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"18\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1503,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1496,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1495,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1344,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1343,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1341,\n            columnNumber: 15\n          }, this), selectedOrder.ghi_chu && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-semibold text-gray-700 mb-2\",\n              children: \"Ghi ch\\xFA:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1513,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: selectedOrder.ghi_chu\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1514,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1512,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1311,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t px-6 py-4 flex justify-end gap-3 sticky bottom-0 bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowDetailModal(false);\n              handleEdit(selectedOrder);\n            },\n            className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Edit, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1527,\n              columnNumber: 17\n            }, this), \"S\\u1EEDa\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1520,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowDetailModal(false);\n              setSelectedOrder(null);\n            },\n            className: \"px-4 py-2 border rounded-lg hover:bg-gray-50\",\n            children: \"\\u0110\\xF3ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1530,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1519,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1295,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1294,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 535,\n    columnNumber: 5\n  }, this);\n}\n_s(SalesOrder, \"POtfFZi9do1ETLhTOtyilTp1ZFU=\");\n_c = SalesOrder;\nexport default SalesOrder;\nvar _c;\n$RefreshReg$(_c, \"SalesOrder\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Plus","Search","Edit","Trash2","Eye","X","ShoppingCart","QrCode","Calendar","Filter","FileSpreadsheet","Upload","Download","ExternalLink","TextInput","TextArea","FilterBox","ExcelActions","LinkedField","jsxDEV","_jsxDEV","generateSoDonHang","existingOrders","now","Date","year","getFullYear","month","String","getMonth","padStart","prefix","currentMonthOrders","filter","o","_o$so_don_hang","so_don_hang","startsWith","maxNum","forEach","num","parseInt","slice","isNaN","newNum","getCustomerName","customerId","customers","customer","find","c","id","name","ten_khach_hang","tenKhachHang","ten","getCustomerCode","code","ma_khach_hang","maKhachHang","ma","generateMonthOptions","months","currentDate","i","date","push","value","label","getCurrentMonth","SalesOrder","_s","loadOrders","saved","localStorage","getItem","JSON","parse","loadProducts","loadCustomers","orders","setOrders","products","setProducts","setCustomers","searchTerm","setSearchTerm","selectedMonth","setSelectedMonth","showModal","setShowModal","editingOrder","setEditingOrder","showDetailModal","setShowDetailModal","selectedOrder","setSelectedOrder","showProductModal","setShowProductModal","productSearchTerm","setProductSearchTerm","showQRModal","setShowQRModal","qrData","setQRData","quantityInputRefs","showFilterBox","setShowFilterBox","advancedFilters","setAdvancedFilters","customerIds","minAmount","maxAmount","dateFrom","dateTo","deliveryDateFrom","deliveryDateTo","form","setForm","khach_hang_id","khach_hang_ma","khach_hang_ten","ngay_dat","toISOString","split","ngay_giao_du_kien","chi_tiet","ghi_chu","setItem","stringify","loadedCustomers","console","log","length","Object","keys","handleSubmit","trim","alert","hasInvalidQty","some","item","la_thanh_phan_con","so_luong","orderData","map","parseFloat","thanh_tien","don_gia","tong_tien","reduce","sum","newOrder","ngay_tao","resetForm","latestCustomers","current","handleEdit","order","maKH","tenKH","toString","handleDelete","window","confirm","handleShowQR","soDonHang","maHang","handleAddProduct","product","_product$cong_doan","_product$cong_doan2","_product$cong_doan3","_product$cong_doan4","_product$cong_doan5","_product$cong_doan6","_product$cong_doan7","_product$cong_doan8","_product$cong_doan9","_product$cong_doan0","_product$cong_doan1","_product$cong_doan10","_product$cong_doan11","ktpo","po_cao","po_dai","po_rong","ktsx","sx_dai","sx_rong","sx_cao","newItems","parentItem","thanh_pham_id","ma_hang","ten_san_pham","song","dvt","kieu","hoa_hong_co_dinh","hoa_hong_phan_tram","cho_phep_sai_lech","sai_lech_so_luong","sai_lech_phan_tram","cong_doan","xa","ma_phim","so_mau","in","boi","can_mang","ma_khuon","be","chap","dong","dan","khac","khac_ghi_chu","thanh_pham_me_id","co_thanh_phan_con","thanh_phan_con","con","index","_con$cong_doan","_con$cong_doan2","_con$cong_doan3","_con$cong_doan4","_con$cong_doan5","_con$cong_doan6","_con$cong_doan7","_con$cong_doan8","_con$cong_doan9","_con$cong_doan0","_con$cong_doan1","_con$cong_doan10","_con$cong_doan11","conKtpo","conKtsx","childItem","ma_hang_con","so_luong_con_theo_me","setTimeout","input","focus","select","handleUpdateQuantity","itemId","meQty","conQty","handleRemoveItem","getParentProductsOnly","_product$thanh_phan_c","displayName","filteredProducts","p","searchLower","toLowerCase","includes","filteredOrders","orderYearMonth","selectedYearMonth","replace","customerName","customerCode","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onExport","onImport","data","moduleName","filters","onFilterChange","onReset","onChange","e","target","opt","type","placeholder","toLocaleDateString","toLocaleString","title","readOnly","selectedCustomer","ma_kh","ten_kh","error","_item$cong_doan","_item$cong_doan2","_item$cong_doan3","_item$cong_doan4","_item$cong_doan5","_item$cong_doan6","_item$cong_doan7","_item$cong_doan8","_item$cong_doan9","_item$cong_doan0","_item$cong_doan1","_item$cong_doan10","_item$cong_doan11","module","ref","el","min","disabled","colSpan","rows","autoFocus","_product$thanh_phan_c2","alreadyAdded","_item$cong_doan12","_item$cong_doan13","_item$cong_doan14","_item$cong_doan15","_item$cong_doan16","_item$cong_doan17","_item$cong_doan18","_item$cong_doan19","_item$cong_doan20","_item$cong_doan21","_item$cong_doan22","_item$cong_doan23","_item$cong_doan24","_c","$RefreshReg$"],"sources":["C:/Projects/app/src/pages/SalesOrder.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { \n  Plus, Search, Edit, Trash2, Eye, X, ShoppingCart, QrCode, Calendar,\n  Filter, FileSpreadsheet, Upload, Download, ExternalLink\n} from 'lucide-react';\nimport TextInput from '../components/TextInput';\nimport TextArea from '../components/TextArea';\nimport FilterBox from '../components/FilterBox';\nimport ExcelActions from '../components/ExcelActions';\nimport LinkedField from '../components/LinkedField';\n\n// ============================================================================\n// HELPER FUNCTIONS\n// ============================================================================\n\n// Tạo số đơn hàng tự động: DHXyyyymmxxx\nconst generateSoDonHang = (existingOrders) => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  const prefix = `DHX${year}${month}`;\n  \n  const currentMonthOrders = existingOrders.filter(o => \n    o.so_don_hang?.startsWith(prefix)\n  );\n  \n  let maxNum = 0;\n  currentMonthOrders.forEach(o => {\n    const num = parseInt(o.so_don_hang.slice(-3));\n    if (!isNaN(num) && num > maxNum) {\n      maxNum = num;\n    }\n  });\n  \n  const newNum = String(maxNum + 1).padStart(3, '0');\n  return `${prefix}${newNum}`;\n};\n\n// Lấy tên khách hàng\nconst getCustomerName = (customerId, customers) => {\n  if (!customerId || !customers) return '';\n  const customer = customers.find(c => String(c.id) === String(customerId));\n  return customer?.name               // ← Ưu tiên đầu tiên\n    || customer?.ten_khach_hang \n    || customer?.tenKhachHang \n    || customer?.ten \n    || '';\n};\n\n// Lấy mã khách hàng\nconst getCustomerCode = (customerId, customers) => {\n  if (!customerId || !customers) return '';\n  const customer = customers.find(c => String(c.id) === String(customerId));\n  return customer?.code               // ← Ưu tiên đầu tiên\n    || customer?.ma_khach_hang \n    || customer?.maKhachHang \n    || customer?.ma \n    || '';\n};\n\n// Tạo danh sách tháng cho dropdown\nconst generateMonthOptions = () => {\n  const months = [];\n  const currentDate = new Date();\n  \n  // Tạo 12 tháng gần nhất (6 tháng trước + tháng hiện tại + 5 tháng sau)\n  for (let i = -6; i <= 5; i++) {\n    const date = new Date(currentDate.getFullYear(), currentDate.getMonth() + i, 1);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    months.push({\n      value: `${year}-${month}`,\n      label: `Tháng ${month}/${year}`\n    });\n  }\n  \n  return months;\n};\n\n// Format tháng hiện tại\nconst getCurrentMonth = () => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  return `${year}-${month}`;\n};\n\n// ============================================================================\n// MAIN COMPONENT  \n// ============================================================================\n\nfunction SalesOrder() {\n  const loadOrders = () => {\n    const saved = localStorage.getItem('salesOrders');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const loadProducts = () => {\n    const saved = localStorage.getItem('products');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const loadCustomers = () => {\n    const saved = localStorage.getItem('customers');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const [orders, setOrders] = useState(loadOrders);\n  const [products, setProducts] = useState(loadProducts);\n  const [customers, setCustomers] = useState(loadCustomers);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedMonth, setSelectedMonth] = useState(getCurrentMonth());\n  const [showModal, setShowModal] = useState(false);\n  const [editingOrder, setEditingOrder] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showProductModal, setShowProductModal] = useState(false);\n  const [productSearchTerm, setProductSearchTerm] = useState('');\n  const [showQRModal, setShowQRModal] = useState(false);\n  const [qrData, setQRData] = useState(null);\n\n  // Ref cho auto focus số lượng\n  const quantityInputRefs = useRef({});\n  \n  // Advanced filter states\n  const [showFilterBox, setShowFilterBox] = useState(false);\n  const [advancedFilters, setAdvancedFilters] = useState({\n    customerIds: [],\n    minAmount: '',\n    maxAmount: '',\n    dateFrom: '',\n    dateTo: '',\n    deliveryDateFrom: '',\n    deliveryDateTo: ''\n  });\n\n  const [form, setForm] = useState({\n    so_don_hang: '',\n    khach_hang_id: '',\n    khach_hang_ma: '',      // Thêm mã KH\n    khach_hang_ten: '',     // Thêm tên KH\n    ngay_dat: new Date().toISOString().split('T')[0],\n    ngay_giao_du_kien: '',\n    chi_tiet: [],\n    ghi_chu: ''\n  });\n\n  useEffect(() => {\n    localStorage.setItem('salesOrders', JSON.stringify(orders));\n  }, [orders]);\n\n  useEffect(() => {\n    setProducts(loadProducts());\n    const loadedCustomers = loadCustomers();\n    \n    // DEBUG: Log cấu trúc Customer\n    console.log('=== CUSTOMERS DEBUG ===');\n    console.log('Total customers:', loadedCustomers.length);\n    if (loadedCustomers.length > 0) {\n      console.log('First customer structure:', loadedCustomers[0]);\n      console.log('All customer fields:', Object.keys(loadedCustomers[0]));\n    }\n    \n    setCustomers(loadedCustomers);\n  }, []);\n\n  // ============================================================================\n  // FORM HANDLERS\n  // ============================================================================\n\n  const handleSubmit = () => {\n    if (!form.so_don_hang.trim() || !form.khach_hang_id) {\n      alert('Vui lòng điền đầy đủ Số đơn hàng và Khách hàng!');\n      return;\n    }\n\n    if (form.chi_tiet.length === 0) {\n      alert('Vui lòng thêm ít nhất 1 sản phẩm!');\n      return;\n    }\n\n    // Check số lượng (chỉ check mẹ, con tự động)\n    const hasInvalidQty = form.chi_tiet.some(item => \n      !item.la_thanh_phan_con && (!item.so_luong || item.so_luong <= 0)\n    );\n    if (hasInvalidQty) {\n      alert('Vui lòng nhập số lượng cho tất cả sản phẩm mẹ!');\n      return;\n    }\n\n    const orderData = {\n      so_don_hang: form.so_don_hang.trim(),\n      khach_hang_id: form.khach_hang_id,\n      ngay_dat: form.ngay_dat,\n      ngay_giao_du_kien: form.ngay_giao_du_kien,\n      chi_tiet: form.chi_tiet.map(item => ({\n        ...item,\n        so_luong: parseFloat(item.so_luong) || 0,\n        thanh_tien: (parseFloat(item.so_luong) || 0) * parseFloat(item.don_gia)\n      })),\n      tong_tien: form.chi_tiet.reduce((sum, item) => \n        sum + ((parseFloat(item.so_luong) || 0) * parseFloat(item.don_gia)), 0\n      ),\n      ghi_chu: form.ghi_chu.trim()\n    };\n\n    if (editingOrder) {\n      setOrders(orders.map(o =>\n        o.id === editingOrder.id ? { ...o, ...orderData } : o\n      ));\n      alert('Đã cập nhật đơn hàng!');\n    } else {\n      const newOrder = {\n        id: Date.now(),\n        ...orderData,\n        ngay_tao: new Date().toISOString()\n      };\n      setOrders([...orders, newOrder]);\n      alert('Đã tạo đơn hàng mới!');\n    }\n\n    resetForm();\n    setShowModal(false);\n  };\n\n  const resetForm = () => {\n    // Reload customers mỗi lần reset form\n    const latestCustomers = loadCustomers();\n    setCustomers(latestCustomers);\n    \n    setForm({\n      so_don_hang: generateSoDonHang(orders),\n      khach_hang_id: '',\n      khach_hang_ma: '',\n      khach_hang_ten: '',\n      ngay_dat: new Date().toISOString().split('T')[0],\n      ngay_giao_du_kien: '',\n      chi_tiet: [],\n      ghi_chu: ''\n    });\n    setEditingOrder(null);\n    quantityInputRefs.current = {};\n  };\n\n  const handleEdit = (order) => {\n    // Tìm thông tin KH\n    const customer = customers.find(c => c.id === order.khach_hang_id);\n    \n    const maKH = customer?.code \n      || customer?.ma_khach_hang \n      || customer?.maKhachHang \n      || customer?.ma \n      || '';\n      \n    const tenKH = customer?.name \n      || customer?.ten_khach_hang \n      || customer?.tenKhachHang \n      || customer?.ten \n      || '';\n    \n    setForm({\n      ...order,\n      khach_hang_ma: maKH,\n      khach_hang_ten: tenKH,\n      chi_tiet: order.chi_tiet.map(item => ({\n        ...item,\n        so_luong: item.so_luong.toString()\n      }))\n    });\n    setEditingOrder(order);\n    setShowModal(true);\n  };\n\n  const handleDelete = (id) => {\n    if (window.confirm('Bạn có chắc muốn xóa đơn hàng này?')) {\n      setOrders(orders.filter(o => o.id !== id));\n      alert('Đã xóa đơn hàng!');\n    }\n  };\n\n  // ============================================================================\n  // QR CODE HANDLER\n  // ============================================================================\n\n  const handleShowQR = (soDonHang, maHang) => {\n    setQRData({\n      code: `${soDonHang}-${maHang}`,\n      soDonHang: soDonHang,\n      maHang: maHang\n    });\n    setShowQRModal(true);\n  };\n\n  // ============================================================================\n  // PRODUCT HANDLERS - MẸ + CON TỰ ĐỘNG\n  // ============================================================================\n\n  const handleAddProduct = (product) => {\n    const ktpo = product.po_cao \n      ? `${product.po_dai}×${product.po_rong}×${product.po_cao}`\n      : `${product.po_dai}×${product.po_rong}`;\n    \n    const ktsx = (product.sx_dai || product.sx_rong || product.sx_cao)\n      ? `${product.sx_dai || product.po_dai}×${product.sx_rong || product.po_rong}${product.sx_cao || product.po_cao ? '×' + (product.sx_cao || product.po_cao) : ''}`\n      : ktpo;\n\n    const newItems = [];\n    \n    // 1. THÊM MẸ\n    const parentItem = {\n      id: Date.now(),\n      thanh_pham_id: product.id,\n      ma_hang: product.ma_hang,\n      ten_san_pham: product.ten_san_pham,\n      ktpo: ktpo,\n      ktsx: ktsx,\n      song: product.song || 'N/A',\n      dvt: product.dvt || 'Cái',\n      kieu: product.kieu || '',\n      don_gia: product.don_gia || 0,\n      so_luong: '',\n      thanh_tien: 0,\n      hoa_hong_co_dinh: product.hoa_hong_co_dinh || 0,\n      hoa_hong_phan_tram: product.hoa_hong_phan_tram || 0,\n      cho_phep_sai_lech: product.cho_phep_sai_lech || false,\n      sai_lech_so_luong: product.sai_lech_so_luong || 0,\n      sai_lech_phan_tram: product.sai_lech_phan_tram || 0,\n      cong_doan: {\n        xa: product.cong_doan?.xa || 0,\n        ma_phim: product.cong_doan?.ma_phim || '',\n        so_mau: product.cong_doan?.so_mau || 0,\n        in: product.cong_doan?.in || 0,\n        boi: product.cong_doan?.boi || 0,\n        can_mang: product.cong_doan?.can_mang || 0,\n        ma_khuon: product.cong_doan?.ma_khuon || '',\n        be: product.cong_doan?.be || 0,\n        chap: product.cong_doan?.chap || 0,\n        dong: product.cong_doan?.dong || 0,\n        dan: product.cong_doan?.dan || 0,\n        khac: product.cong_doan?.khac || 0,\n        khac_ghi_chu: product.cong_doan?.khac_ghi_chu || ''\n      },\n      ghi_chu: product.ghi_chu || '',\n      la_thanh_phan_con: false,\n      thanh_pham_me_id: null\n    };\n    \n    newItems.push(parentItem);\n\n    // 2. THÊM CON (nếu có)\n    if (product.co_thanh_phan_con && product.thanh_phan_con && product.thanh_phan_con.length > 0) {\n      product.thanh_phan_con.forEach((con, index) => {\n        const conKtpo = con.po_cao \n          ? `${con.po_dai}×${con.po_rong}×${con.po_cao}`\n          : `${con.po_dai}×${con.po_rong}`;\n        \n        const conKtsx = (con.sx_dai || con.sx_rong || con.sx_cao)\n          ? `${con.sx_dai || con.po_dai}×${con.sx_rong || con.po_rong}${con.sx_cao || con.po_cao ? '×' + (con.sx_cao || con.po_cao) : ''}`\n          : conKtpo;\n\n        const childItem = {\n          id: Date.now() + index + 1,\n          thanh_pham_id: `${product.id}_${con.ma_hang_con}`,\n          ma_hang: con.ma_hang_con,\n          ten_san_pham: con.ten,\n          ktpo: conKtpo,\n          ktsx: conKtsx,\n          song: con.song || product.song || 'N/A',\n          dvt: con.dvt || product.dvt || 'Cái',\n          kieu: con.kieu || product.kieu || '',\n          don_gia: con.don_gia || 0,\n          so_luong: '', // Sẽ tự động tính từ mẹ\n          thanh_tien: 0,\n          hoa_hong_co_dinh: 0,\n          hoa_hong_phan_tram: 0,\n          cho_phep_sai_lech: false,\n          sai_lech_so_luong: 0,\n          sai_lech_phan_tram: 0,\n          cong_doan: {\n            xa: con.cong_doan?.xa || 0,\n            ma_phim: con.cong_doan?.ma_phim || '',\n            so_mau: con.cong_doan?.so_mau || 0,\n            in: con.cong_doan?.in || 0,\n            boi: con.cong_doan?.boi || 0,\n            can_mang: con.cong_doan?.can_mang || 0,\n            ma_khuon: con.cong_doan?.ma_khuon || '',\n            be: con.cong_doan?.be || 0,\n            chap: con.cong_doan?.chap || 0,\n            dong: con.cong_doan?.dong || 0,\n            dan: con.cong_doan?.dan || 0,\n            khac: con.cong_doan?.khac || 0,\n            khac_ghi_chu: con.cong_doan?.khac_ghi_chu || ''\n          },\n          ghi_chu: con.ghi_chu || '',\n          la_thanh_phan_con: true,\n          thanh_pham_me_id: parentItem.id,\n          so_luong_con_theo_me: con.so_luong || 1 // Tỷ lệ: 1 mẹ = bao nhiêu con\n        };\n        \n        newItems.push(childItem);\n      });\n    }\n\n    setForm({\n      ...form,\n      chi_tiet: [...form.chi_tiet, ...newItems]\n    });\n\n    setShowProductModal(false);\n    setProductSearchTerm('');\n\n    // Auto focus vào SL của mẹ\n    setTimeout(() => {\n      const input = quantityInputRefs.current[parentItem.id];\n      if (input) {\n        input.focus();\n        input.select();\n      }\n    }, 100);\n  };\n\n  const handleUpdateQuantity = (itemId, value) => {\n    const item = form.chi_tiet.find(i => i.id === itemId);\n    \n    if (!item) return;\n\n    // Nếu là mẹ → update cả con\n    if (!item.la_thanh_phan_con) {\n      const meQty = parseFloat(value) || 0;\n      \n      setForm({\n        ...form,\n        chi_tiet: form.chi_tiet.map(i => {\n          // Update mẹ\n          if (i.id === itemId) {\n            return {\n              ...i,\n              so_luong: value,\n              thanh_tien: meQty * parseFloat(i.don_gia)\n            };\n          }\n          \n          // Update con (nếu thuộc về mẹ này)\n          if (i.la_thanh_phan_con && i.thanh_pham_me_id === itemId) {\n            const conQty = meQty * (i.so_luong_con_theo_me || 1);\n            return {\n              ...i,\n              so_luong: conQty.toString(),\n              thanh_tien: conQty * parseFloat(i.don_gia)\n            };\n          }\n          \n          return i;\n        })\n      });\n    }\n    // Con không được edit trực tiếp\n  };\n\n  const handleRemoveItem = (itemId) => {\n    const item = form.chi_tiet.find(i => i.id === itemId);\n    \n    if (!item) return;\n\n    // Nếu xóa mẹ → xóa cả con\n    if (!item.la_thanh_phan_con) {\n      if (window.confirm('Xóa sản phẩm mẹ sẽ xóa cả các thành phần con. Bạn có chắc?')) {\n        setForm({\n          ...form,\n          chi_tiet: form.chi_tiet.filter(i => \n            i.id !== itemId && i.thanh_pham_me_id !== itemId\n          )\n        });\n      }\n    } else {\n      // Không cho xóa con riêng lẻ\n      alert('Không thể xóa thành phần con riêng lẻ. Vui lòng xóa sản phẩm mẹ.');\n    }\n  };\n\n  // ============================================================================\n  // PRODUCT SELECTION - CHỈ MẸ\n  // ============================================================================\n\n  const getParentProductsOnly = () => {\n    return products.map(product => ({\n      ...product,\n      displayName: product.co_thanh_phan_con && product.thanh_phan_con?.length > 0\n        ? `${product.ma_hang} - ${product.ten_san_pham} (có ${product.thanh_phan_con.length} con)`\n        : `${product.ma_hang} - ${product.ten_san_pham}`\n    }));\n  };\n\n  const filteredProducts = getParentProductsOnly().filter(p => {\n    const searchLower = productSearchTerm.toLowerCase();\n    return (\n      p.ma_hang.toLowerCase().includes(searchLower) ||\n      (p.ten_san_pham || '').toLowerCase().includes(searchLower) ||\n      p.displayName.toLowerCase().includes(searchLower)\n    );\n  });\n\n  // ============================================================================\n  // FILTERS - Theo tháng\n  // ============================================================================\n\n  const filteredOrders = orders.filter(o => {\n    // Filter theo tháng\n    const orderYearMonth = o.so_don_hang.slice(3, 9); // DHX202512001 → 202512\n    const selectedYearMonth = selectedMonth.replace('-', ''); // 2025-12 → 202512\n    \n    if (orderYearMonth !== selectedYearMonth) return false;\n\n    // Filter theo search term\n    if (searchTerm) {\n      const searchLower = searchTerm.toLowerCase();\n      const customerName = getCustomerName(o.khach_hang_id, customers);\n      const customerCode = getCustomerCode(o.khach_hang_id, customers);\n      \n      return (\n        o.so_don_hang.toLowerCase().includes(searchLower) ||\n        customerName.toLowerCase().includes(searchLower) ||\n        customerCode.toLowerCase().includes(searchLower)\n      );\n    }\n\n    return true;\n  });\n\n  // ============================================================================\n  // RENDER\n  // ============================================================================\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-800\">Đơn hàng Xuất</h1>\n          <p className=\"text-gray-600\">Quản lý đơn hàng xuất kho</p>\n        </div>\n        <div className=\"flex gap-3\">\n          <button\n            onClick={() => setShowFilterBox(!showFilterBox)}\n            className={`px-4 py-2 rounded-lg border flex items-center gap-2 ${\n              showFilterBox \n                ? 'bg-blue-100 border-blue-600 text-blue-700' \n                : 'bg-white border-gray-300 hover:bg-gray-50'\n            }`}\n          >\n            <Filter className=\"w-4 h-4\" />\n            Bộ lọc\n          </button>\n          \n          <ExcelActions\n            onExport={() => console.log('Export:', filteredOrders)}\n            onImport={(data) => console.log('Import:', data)}\n            data={filteredOrders}\n            moduleName=\"don-hang-xuat\"\n          />\n          \n          <button\n            onClick={() => {\n              resetForm();\n              setShowModal(true);\n            }}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\n          >\n            <Plus className=\"w-5 h-5\" />Tạo đơn hàng\n          </button>\n        </div>\n      </div>\n\n      {/* FilterBox */}\n      {showFilterBox && (\n        <FilterBox\n          filters={advancedFilters}\n          onFilterChange={setAdvancedFilters}\n          onReset={() => setAdvancedFilters({\n            customerIds: [],\n            minAmount: '',\n            maxAmount: '',\n            dateFrom: '',\n            dateTo: '',\n            deliveryDateFrom: '',\n            deliveryDateTo: ''\n          })}\n          customers={customers}\n        />\n      )}\n\n      {/* Filters */}\n      <div className=\"bg-white rounded-xl shadow-sm border p-4 space-y-4\">\n        <div className=\"grid grid-cols-2 gap-4\">\n          {/* Chọn tháng */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <Calendar className=\"w-4 h-4 inline mr-1\" />\n              Lọc theo tháng\n            </label>\n            <select\n              value={selectedMonth}\n              onChange={(e) => setSelectedMonth(e.target.value)}\n              className=\"w-full px-4 py-2 border rounded-lg bg-white\"\n            >\n              {generateMonthOptions().map(opt => (\n                <option key={opt.value} value={opt.value}>\n                  {opt.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Search */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <Search className=\"w-4 h-4 inline mr-1\" />\n              Tìm kiếm\n            </label>\n            <input\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              placeholder=\"Số đơn hàng, khách hàng...\"\n              className=\"w-full px-4 py-2 border rounded-lg\"\n            />\n          </div>\n        </div>\n\n        <div className=\"text-sm text-gray-600\">\n          Hiển thị <span className=\"font-semibold text-blue-600\">{filteredOrders.length}</span> đơn hàng\n        </div>\n      </div>\n\n      {/* Orders List */}\n      <div className=\"space-y-4\">\n        {filteredOrders.map(order => {\n          // Convert ID to string for matching\n          const customerName = getCustomerName(order.khach_hang_id, customers);\n          const customerCode = getCustomerCode(order.khach_hang_id, customers);\n\n          return (\n            <div key={order.id} className=\"bg-white rounded-xl shadow-sm border overflow-hidden\">\n              <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 px-6 py-4 border-b flex justify-between items-center\">\n                <div className=\"flex items-center gap-4\">\n                  <ShoppingCart className=\"w-6 h-6 text-blue-600\" />\n                  <div>\n                    <h3 className=\"font-bold text-lg text-blue-900\">{order.so_don_hang}</h3>\n                    <div className=\"flex items-center gap-3 text-sm text-gray-600 mt-1\">\n                      <span>📦 KH: <span className=\"font-medium text-gray-900\">{customerCode} - {customerName}</span></span>\n                      <span>•</span>\n                      <span>📅 Đặt: {new Date(order.ngay_dat).toLocaleDateString('vi-VN')}</span>\n                      <span>•</span>\n                      <span>🚚 Giao: {new Date(order.ngay_giao_du_kien).toLocaleDateString('vi-VN')}</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"text-right\">\n                    <p className=\"text-sm text-gray-600\">Tổng tiền</p>\n                    <p className=\"text-2xl font-bold text-green-600\">\n                      {order.tong_tien.toLocaleString('vi-VN')}đ\n                    </p>\n                  </div>\n                  <button\n                    onClick={() => {\n                      setSelectedOrder(order);\n                      setShowDetailModal(true);\n                    }}\n                    className=\"p-2 text-purple-600 hover:bg-purple-50 rounded-lg\"\n                    title=\"Xem chi tiết\"\n                  >\n                    <Eye className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleEdit(order)}\n                    className=\"p-2 text-blue-600 hover:border rounded-lg\"\n                    title=\"Sửa\"\n                  >\n                    <Edit className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(order.id)}\n                    className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg\"\n                    title=\"Xóa\"\n                  >\n                    <Trash2 className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"px-6 py-4\">\n                <div className=\"text-sm text-gray-600 mb-2\">\n                  <span className=\"font-medium\">Sản phẩm:</span> {order.chi_tiet.length} mặt hàng\n                </div>\n                {order.ghi_chu && (\n                  <div className=\"text-sm\">\n                    <span className=\"font-medium text-gray-700\">Ghi chú:</span>\n                    <span className=\"text-gray-600 ml-2\">{order.ghi_chu}</span>\n                  </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n\n        {filteredOrders.length === 0 && (\n          <div className=\"bg-white rounded-xl shadow-sm border p-12 text-center text-gray-500\">\n            Không có đơn hàng nào trong tháng {selectedMonth.split('-')[1]}/{selectedMonth.split('-')[0]}\n          </div>\n        )}\n      </div>\n\n      {/* Add/Edit Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-7xl my-8\">\n            <div className=\"sticky top-0 bg-white border-b px-6 py-4 z-10 rounded-t-xl\">\n              <div className=\"flex justify-between items-center\">\n                <h2 className=\"text-xl font-bold\">\n                  {editingOrder ? 'Sửa đơn hàng' : 'Tạo đơn hàng mới'}\n                </h2>\n                <button\n                  onClick={() => {\n                    setShowModal(false);\n                    resetForm();\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto\">\n              {/* Thông tin đơn hàng */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Số đơn hàng * <span className=\"text-xs text-gray-500\">(Tự động)</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={form.so_don_hang}\n                    readOnly\n                    className=\"w-full px-4 py-2 border rounded-lg bg-gray-50 font-mono font-bold text-blue-600\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Khách hàng *\n                  </label>\n                  <select\n                    value={form.khach_hang_id}\n                    onChange={(e) => {\n                      const customerId = e.target.value;\n                      // Convert to string for consistent comparison\n                      const selectedCustomer = customers.find(c => String(c.id) === String(customerId));\n                      \n                      console.log('=== onChange Debug ===');\n                      console.log('Selected value:', customerId, 'Type:', typeof customerId);\n                      console.log('Found customer:', selectedCustomer);\n                      \n                      if (selectedCustomer) {\n                        const maKH = selectedCustomer.code \n                          || selectedCustomer.ma_khach_hang \n                          || selectedCustomer.maKhachHang \n                          || selectedCustomer.ma \n                          || selectedCustomer.ma_kh\n                          || '';\n                          \n                        const tenKH = selectedCustomer.name \n                          || selectedCustomer.ten_khach_hang \n                          || selectedCustomer.tenKhachHang \n                          || selectedCustomer.ten \n                          || selectedCustomer.ten_kh\n                          || '';\n                        \n                        console.log('Set form - Mã:', maKH, 'Tên:', tenKH);\n                        \n                        setForm({ \n                          ...form, \n                          khach_hang_id: customerId,\n                          khach_hang_ma: maKH,\n                          khach_hang_ten: tenKH\n                        });\n                      } else {\n                        console.error('Customer not found for ID:', customerId);\n                        setForm({ \n                          ...form, \n                          khach_hang_id: customerId,\n                          khach_hang_ma: '',\n                          khach_hang_ten: ''\n                        });\n                      }\n                    }}\n                    className=\"w-full px-4 py-2 border rounded-lg\"\n                  >\n                    <option value=\"\">-- Chọn mã khách hàng --</option>\n                    {customers.map(c => {\n                      const maKH = c.code || c.ma_khach_hang || c.maKhachHang || c.ma || c.ma_kh || c.id;\n                      \n                      return (\n                        <option key={c.id} value={c.id}>\n                          {maKH}\n                        </option>\n                      );\n                    })}\n                  </select>\n                  {form.khach_hang_id && (() => {\n                    // Convert IDs to string for comparison (fix number vs string mismatch)\n                    const selectedCustomer = customers.find(c => String(c.id) === String(form.khach_hang_id));\n                    const customerName = selectedCustomer?.name \n                      || selectedCustomer?.ten_khach_hang \n                      || selectedCustomer?.tenKhachHang \n                      || form.khach_hang_ten\n                      || '';\n                    \n                    console.log('=== Display Name Debug ===');\n                    console.log('Selected ID:', form.khach_hang_id, 'Type:', typeof form.khach_hang_id);\n                    console.log('Found customer:', selectedCustomer);\n                    console.log('Customer name:', customerName);\n                    \n                    return customerName ? (\n                      <p className=\"text-sm text-blue-600 mt-1 font-medium\">\n                        → {customerName}\n                      </p>\n                    ) : (\n                      <p className=\"text-sm text-orange-500 mt-1\">\n                        ⚠ ID: {form.khach_hang_id} - Customer not found in array\n                      </p>\n                    );\n                  })()}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">Ngày đặt</label>\n                  <input\n                    type=\"date\"\n                    value={form.ngay_dat}\n                    onChange={(e) => setForm({ ...form, ngay_dat: e.target.value })}\n                    className=\"w-full px-4 py-2 border rounded-lg\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">Ngày giao dự kiến</label>\n                  <input\n                    type=\"date\"\n                    value={form.ngay_giao_du_kien}\n                    onChange={(e) => setForm({ ...form, ngay_giao_du_kien: e.target.value })}\n                    className=\"w-full px-4 py-2 border rounded-lg\"\n                  />\n                </div>\n              </div>\n\n              {/* Chi tiết sản phẩm */}\n              <div className=\"border rounded-lg p-4 bg-gray-50\">\n                <div className=\"flex justify-between items-center mb-4\">\n                  <h3 className=\"font-bold text-lg\">Chi tiết sản phẩm</h3>\n                  <button\n                    onClick={() => setShowProductModal(true)}\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\n                  >\n                    <Plus className=\"w-4 h-4\" />Thêm sản phẩm\n                  </button>\n                </div>\n\n                {form.chi_tiet.length > 0 ? (\n                  <div className=\"overflow-x-auto border rounded-lg bg-white\">\n                    <table className=\"w-full text-sm\">\n                      <thead className=\"bg-gray-100 sticky top-0\">\n                        <tr>\n                          {/* Thông tin cơ bản */}\n                          <th className=\"px-3 py-2 text-left font-semibold border\">Mã hàng</th>\n                          <th className=\"px-3 py-2 text-left font-semibold border\">Tên SP</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">KTPO</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">KTSX</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Sóng</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">ĐVT</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Kiểu</th>\n                          \n                          {/* Giá (Đơn giá → SL → Thành tiền → +/- → HH) */}\n                          <th className=\"px-3 py-2 text-right font-semibold border\">Đơn giá</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">SL</th>\n                          <th className=\"px-3 py-2 text-right font-semibold border\">Thành tiền</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">+/-</th>\n                          <th className=\"px-3 py-2 text-right font-semibold border\">HH cố định</th>\n                          <th className=\"px-3 py-2 text-right font-semibold border\">HH %</th>\n                          \n                          {/* 13 công đoạn */}\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Xả</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Mã phim</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Số màu</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">In</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Bồi</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Cán màng</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Mã khuôn</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Bế</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Chạp</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Đóng</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Dán</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Khác</th>\n                          <th className=\"px-3 py-2 text-left font-semibold border\">Ghi chú Khác</th>\n                          \n                          {/* Ghi chú & Action */}\n                          <th className=\"px-3 py-2 text-left font-semibold border\">Ghi chú</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">QR</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\"></th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {form.chi_tiet.map((item, index) => (\n                          <tr key={item.id} className={index % 2 === 0 ? 'bg-white' : 'bg-gray-50'}>\n                            {/* Thông tin cơ bản */}\n                            <td className=\"px-3 py-2 border\">\n                              {item.la_thanh_phan_con ? (\n                                <span className=\"font-medium text-purple-700 pl-4\">\n                                  ↳ {item.ma_hang}\n                                </span>\n                              ) : (\n                                <LinkedField\n                                  value={item.ma_hang}\n                                  module=\"products\"\n                                  id={item.thanh_pham_id}\n                                  onClick={(id) => {\n                                    alert(`Xem thành phẩm: ${item.ten_san_pham}\\nMã hàng: ${item.ma_hang}\\nID: ${id}`);\n                                    // TODO: Navigate to Product detail or open modal\n                                  }}\n                                />\n                              )}\n                            </td>\n                            <td className=\"px-3 py-2\">{item.ten_san_pham}</td>\n                            <td className=\"px-3 py-2 text-center text-xs\">{item.ktpo}</td>\n                            <td className=\"px-3 py-2 text-center text-xs\">{item.ktsx}</td>\n                            <td className=\"px-3 py-2 text-center\">\n                              <span className=\"px-2 py-1 bg-gray-100 rounded text-xs\">\n                                {item.song}\n                              </span>\n                            </td>\n                            <td className=\"px-3 py-2 text-center text-xs\">{item.dvt}</td>\n                            <td className=\"px-3 py-2 text-center\">\n                              <span className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs\">\n                                {item.kieu || '-'}\n                              </span>\n                            </td>\n                            \n                            {/* Giá */}\n                            <td className=\"px-3 py-2 text-right border\">\n                              {parseFloat(item.don_gia).toLocaleString('vi-VN')}\n                            </td>\n                            <td className=\"px-3 py-2 border\">\n                              <input\n                                ref={el => quantityInputRefs.current[item.id] = el}\n                                type=\"number\"\n                                value={item.so_luong}\n                                onChange={(e) => handleUpdateQuantity(item.id, e.target.value)}\n                                className=\"w-20 px-2 py-1 border rounded text-right\"\n                                min=\"0\"\n                                placeholder=\"0\"\n                                disabled={item.la_thanh_phan_con}\n                              />\n                            </td>\n                            <td className=\"px-3 py-2 text-right font-semibold text-green-600 border\">\n                              {item.thanh_tien.toLocaleString('vi-VN')}\n                            </td>\n                            <td className=\"px-3 py-2 border \">\n                              <input\n                                type=\"text\"\n                                value={item.sai_lech_so_luong || ''}\n                                onChange={(e) => {\n                                  setForm({\n                                    ...form,\n                                    chi_tiet: form.chi_tiet.map(i => \n                                      i.id === item.id \n                                        ? { ...i, sai_lech_so_luong: e.target.value }\n                                        : i\n                                    )\n                                  });\n                                }}\n                                className=\"w-24 px-2 py-1 border rounded text-center\"\n                                placeholder=\"+/-\"\n                              />\n                            </td>\n                            <td className=\"px-3 py-2 text-right text-xs\">\n                              {item.hoa_hong_co_dinh ? item.hoa_hong_co_dinh.toLocaleString('vi-VN') : '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-right text-xs \">\n                              {item.hoa_hong_phan_tram ? `${item.hoa_hong_phan_tram}%` : '-'}\n                            </td>\n                            \n                            {/* 13 công đoạn */}\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.xa || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border\">\n                              {item.cong_doan?.ma_phim ? (\n                                <span className=\"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-medium\">\n                                  {item.cong_doan.ma_phim}\n                                </span>\n                              ) : '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.so_mau || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.in || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.boi || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.can_mang || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border\">\n                              {item.cong_doan?.ma_khuon ? (\n                                <span className=\"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-xs font-medium\">\n                                  {item.cong_doan.ma_khuon}\n                                </span>\n                              ) : '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.be || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.chap || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.dong || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.dan || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.khac || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-left border text-xs \">\n                              {item.cong_doan?.khac_ghi_chu || '-'}\n                            </td>\n                            \n                            {/* Ghi chú & Actions */}\n                            <td className=\"px-3 py-2 text-xs\">\n                              {item.ghi_chu || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center\">\n                              <button\n                                onClick={() => handleShowQR(form.so_don_hang, item.ma_hang)}\n                                className=\"p-1 text-green-600 hover:border rounded\"\n                                title=\"Xem QR Code\"\n                              >\n                                <QrCode className=\"w-4 h-4\" />\n                              </button>\n                            </td>\n                            <td className=\"px-3 py-2 text-center\">\n                              <button\n                                onClick={() => handleRemoveItem(item.id)}\n                                className=\"p-1 text-red-600 hover:bg-red-50 rounded\"\n                                title={item.la_thanh_phan_con ? 'Không thể xóa con riêng lẻ' : 'Xóa'}\n                              >\n                                <X className=\"w-4 h-4\" />\n                              </button>\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                      <tfoot className=\"bg-gray-50 border-t-2\">\n                        <tr>\n                          <td colSpan=\"9\" className=\"px-3 py-3 text-right font-bold\">\n                            Tổng tiền:\n                          </td>\n                          <td className=\"px-3 py-3 text-right font-bold text-green-600 text-lg\">\n                            {form.chi_tiet.reduce((sum, item) => sum + item.thanh_tien, 0).toLocaleString('vi-VN')}đ\n                          </td>\n                          <td colSpan=\"19\"></td>\n                        </tr>\n                      </tfoot>\n                    </table>\n                  </div>\n                ) : (\n                  <div className=\"text-center py-8 text-gray-500 bg-white border rounded-lg\">\n                    Chưa có sản phẩm. Nhấn \"Thêm sản phẩm\" để bắt đầu.\n                  </div>\n                )}\n              </div>\n\n              {/* Ghi chú */}\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">Ghi chú đơn hàng</label>\n                <TextArea\n                  value={form.ghi_chu}\n                  onChange={(value) => setForm({ ...form, ghi_chu: value })}\n                  placeholder=\"Ghi chú về đơn hàng...\"\n                  rows={3}\n                  className=\"w-full px-4 py-2 border rounded-lg\"\n                />\n              </div>\n            </div>\n\n            {/* Footer */}\n            <div className=\"border-t px-6 py-4 flex justify-end gap-3 sticky bottom-0 bg-white\">\n              <button\n                onClick={() => {\n                  setShowModal(false);\n                  resetForm();\n                }}\n                className=\"px-6 py-2 border rounded-lg hover:bg-gray-50\"\n              >\n                Hủy\n              </button>\n              <button\n                onClick={handleSubmit}\n                className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\"\n              >\n                <ShoppingCart className=\"w-5 h-5\" />\n                {editingOrder ? 'Cập nhật' : 'Tạo đơn hàng'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Product Selection Modal - CHỈ MẸ */}\n      {showProductModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden\">\n            <div className=\"border-b px-6 py-4\">\n              <div className=\"flex justify-between items-center\">\n                <h3 className=\"text-xl font-bold\">Chọn sản phẩm (Mẹ + Con tự động)</h3>\n                <button\n                  onClick={() => {\n                    setShowProductModal(false);\n                    setProductSearchTerm('');\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"p-6 space-y-4\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  value={productSearchTerm}\n                  onChange={(e) => setProductSearchTerm(e.target.value)}\n                  placeholder=\"Tìm kiếm mã hàng, tên sản phẩm...\"\n                  className=\"w-full pl-10 pr-4 py-2 border rounded-lg\"\n                  autoFocus\n                />\n              </div>\n\n              <div className=\"overflow-y-auto max-h-96 border rounded-lg\">\n                <table className=\"w-full text-sm\">\n                  <thead className=\"bg-gray-50 sticky top-0\">\n                    <tr>\n                      <th className=\"px-3 py-2 text-left font-semibold\">Mã hàng</th>\n                      <th className=\"px-3 py-2 text-left font-semibold\">Tên sản phẩm</th>\n                      <th className=\"px-3 py-2 text-center font-semibold\">KTSX</th>\n                      <th className=\"px-3 py-2 text-center font-semibold\">Sóng</th>\n                      <th className=\"px-3 py-2 text-right font-semibold\">Đơn giá</th>\n                      <th className=\"px-3 py-2 text-center font-semibold\"></th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y\">\n                    {filteredProducts.map(product => {\n                      const alreadyAdded = form.chi_tiet.some(item => \n                        item.thanh_pham_id === product.id && !item.la_thanh_phan_con\n                      );\n\n                      const ktsx = (product.sx_dai || product.sx_rong || product.sx_cao)\n                        ? `${product.sx_dai || product.po_dai}×${product.sx_rong || product.po_rong}${product.sx_cao || product.po_cao ? '×' + (product.sx_cao || product.po_cao) : ''}`\n                        : (product.po_cao ? `${product.po_dai}×${product.po_rong}×${product.po_cao}` : `${product.po_dai}×${product.po_rong}`);\n\n                      return (\n                        <tr key={product.id} className=\"hover:bg-gray-50\">\n                          <td className=\"px-3 py-2\">\n                            <span className=\"font-medium text-blue-600\">\n                              {product.ma_hang}\n                            </span>\n                          </td>\n                          <td className=\"px-3 py-2\">\n                            <div>\n                              {product.ten_san_pham}\n                              {product.co_thanh_phan_con && product.thanh_phan_con?.length > 0 && (\n                                <span className=\"text-xs text-purple-600 ml-2\">\n                                  ({product.thanh_phan_con.length} con)\n                                </span>\n                              )}\n                            </div>\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs\">{ktsx}</td>\n                          <td className=\"px-3 py-2 text-center\">\n                            <span className=\"px-2 py-1 bg-gray-100 rounded text-xs\">\n                              {product.song || 'N/A'}\n                            </span>\n                          </td>\n                          <td className=\"px-3 py-2 text-right\">\n                            {(product.don_gia || 0).toLocaleString('vi-VN')}đ\n                          </td>\n                          <td className=\"px-3 py-2 text-center\">\n                            <button\n                              onClick={() => handleAddProduct(product)}\n                              disabled={alreadyAdded}\n                              className={`px-3 py-1 rounded text-sm ${\n                                alreadyAdded\n                                  ? 'bg-gray-200 text-gray-500 cursor-not-allowed'\n                                  : 'bg-blue-600 text-white hover:bg-blue-700'\n                              }`}\n                            >\n                              {alreadyAdded ? 'Đã thêm' : 'Chọn'}\n                            </button>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n\n                {filteredProducts.length === 0 && (\n                  <div className=\"text-center py-8 text-gray-500\">\n                    Không tìm thấy sản phẩm\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* QR Code Modal */}\n      {showQRModal && qrData && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl max-w-md w-full\">\n            <div className=\"border-b px-6 py-4 flex justify-between items-center\">\n              <h3 className=\"text-xl font-bold\">QR Code</h3>\n              <button\n                onClick={() => {\n                  setShowQRModal(false);\n                  setQRData(null);\n                }}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            <div className=\"p-6 text-center\">\n              <div className=\"bg-gray-100 p-8 rounded-lg mb-4\">\n                <QrCode className=\"w-48 h-48 mx-auto text-gray-400\" />\n                <p className=\"text-sm text-gray-500 mt-4\">\n                  🔮 QR Code sẽ được tạo ở đây\n                </p>\n              </div>\n\n              <div className=\"space-y-2 text-sm\">\n                <p className=\"font-bold text-lg font-mono text-blue-600\">\n                  {qrData.code}\n                </p>\n                <p className=\"text-gray-600\">\n                  Đơn hàng: <span className=\"font-medium\">{qrData.soDonHang}</span>\n                </p>\n                <p className=\"text-gray-600\">\n                  Mã hàng: <span className=\"font-medium\">{qrData.maHang}</span>\n                </p>\n              </div>\n\n              <div className=\"mt-6 flex gap-3\">\n                <button\n                  onClick={() => alert('Tính năng in QR - Làm sau')}\n                  className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\n                >\n                  In QR\n                </button>\n                <button\n                  onClick={() => {\n                    setShowQRModal(false);\n                    setQRData(null);\n                  }}\n                  className=\"flex-1 border px-4 py-2 rounded-lg hover:bg-gray-50\"\n                >\n                  Đóng\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Detail Modal - Đầy đủ */}\n      {showDetailModal && selectedOrder && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full h-full max-w-[98vw] max-h-[98vh] flex flex-col\">\n            <div className=\"sticky top-0 bg-white border-b px-6 py-4 z-10\">\n              <div className=\"flex justify-between items-center\">\n                <h3 className=\"text-xl font-bold\">Chi tiết đơn hàng: {selectedOrder.so_don_hang}</h3>\n                <button\n                  onClick={() => {\n                    setShowDetailModal(false);\n                    setSelectedOrder(null);\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n            </div>\n            \n            <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\n              {/* Thông tin đơn hàng */}\n              <div className=\"grid grid-cols-2 gap-4 border p-4 rounded-lg\">\n                <div>\n                  <p className=\"text-sm text-gray-600\">Khách hàng</p>\n                  <p className=\"font-bold text-lg\">\n                    {getCustomerCode(selectedOrder.khach_hang_id, customers)} - {getCustomerName(selectedOrder.khach_hang_id, customers)}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Tổng tiền</p>\n                  <p className=\"font-bold text-2xl text-green-600\">\n                    {selectedOrder.tong_tien.toLocaleString('vi-VN')}đ\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Ngày đặt</p>\n                  <p className=\"font-medium\">\n                    {new Date(selectedOrder.ngay_dat).toLocaleDateString('vi-VN')}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Ngày giao dự kiến</p>\n                  <p className=\"font-medium\">\n                    {new Date(selectedOrder.ngay_giao_du_kien).toLocaleDateString('vi-VN')}\n                  </p>\n                </div>\n              </div>\n\n              {/* Bảng sản phẩm - ĐẦY ĐỦ 27 CỘT */}\n              <div>\n                <h4 className=\"font-bold text-lg mb-3\">Danh sách sản phẩm</h4>\n                <div className=\"overflow-x-auto border rounded-lg\">\n                  <table className=\"w-full text-sm\">\n                    <thead className=\"bg-gray-100\">\n                      <tr>\n                        {/* Thông tin cơ bản */}\n                        <th className=\"px-3 py-2 text-left font-semibold border\">Mã hàng</th>\n                        <th className=\"px-3 py-2 text-left font-semibold border\">Tên SP</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">KTPO</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">KTSX</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Sóng</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">ĐVT</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Kiểu</th>\n                        \n                        {/* Giá */}\n                        <th className=\"px-3 py-2 text-right font-semibold border\">Đơn giá</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">SL</th>\n                        <th className=\"px-3 py-2 text-right font-semibold border\">Thành tiền</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">+/-</th>\n                        <th className=\"px-3 py-2 text-right font-semibold border\">HH cố định</th>\n                        <th className=\"px-3 py-2 text-right font-semibold border\">HH %</th>\n                        \n                        {/* 13 công đoạn */}\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Xả</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Mã phim</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Số màu</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">In</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Bồi</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Cán màng</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Mã khuôn</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Bế</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Chạp</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Đóng</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Dán</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Khác</th>\n                        <th className=\"px-3 py-2 text-left font-semibold border\">Ghi chú Khác</th>\n                        \n                        {/* Ghi chú & QR */}\n                        <th className=\"px-3 py-2 text-left font-semibold border\">Ghi chú</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">QR</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {selectedOrder.chi_tiet.map((item, index) => (\n                        <tr key={item.id} className={index % 2 === 0 ? 'bg-white' : 'bg-gray-50'}>\n                          {/* Thông tin cơ bản */}\n                          <td className=\"px-3 py-2 border\">\n                            {item.la_thanh_phan_con ? (\n                              <span className=\"font-medium text-purple-700 pl-4\">\n                                ↳ {item.ma_hang}\n                              </span>\n                            ) : (\n                              <LinkedField\n                                value={item.ma_hang}\n                                module=\"products\"\n                                id={item.thanh_pham_id}\n                                onClick={(id) => {\n                                  alert(`Xem thành phẩm: ${item.ten_san_pham}\\nMã hàng: ${item.ma_hang}\\nID: ${id}`);\n                                }}\n                              />\n                            )}\n                          </td>\n                          <td className=\"px-3 py-2 border\">{item.ten_san_pham}</td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">{item.ktpo || '-'}</td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">{item.ktsx}</td>\n                          <td className=\"px-3 py-2 text-center border\">\n                            <span className=\"px-2 py-1 bg-gray-200 rounded text-xs\">\n                              {item.song}\n                            </span>\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">{item.dvt || '-'}</td>\n                          <td className=\"px-3 py-2 text-center border\">\n                            <span className=\"px-2 py-1 bg-gray-200 rounded text-xs\">\n                              {item.kieu || '-'}\n                            </span>\n                          </td>\n                          \n                          {/* Giá */}\n                          <td className=\"px-3 py-2 text-right border\">\n                            {parseFloat(item.don_gia).toLocaleString('vi-VN')}\n                          </td>\n                          <td className=\"px-3 py-2 text-right font-medium border\">\n                            {item.so_luong.toLocaleString('vi-VN')}\n                          </td>\n                          <td className=\"px-3 py-2 text-right font-semibold text-green-600 border\">\n                            {item.thanh_tien.toLocaleString('vi-VN')}\n                          </td>\n                          <td className=\"px-3 py-2 text-center border\">\n                            {item.sai_lech_so_luong || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-right text-xs border\">\n                            {item.hoa_hong_co_dinh ? item.hoa_hong_co_dinh.toLocaleString('vi-VN') : '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-right text-xs border\">\n                            {item.hoa_hong_phan_tram ? `${item.hoa_hong_phan_tram}%` : '-'}\n                          </td>\n                          \n                          {/* 13 công đoạn */}\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.xa || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center border\">\n                            {item.cong_doan?.ma_phim || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.so_mau || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.in || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.boi || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.can_mang || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center border\">\n                            {item.cong_doan?.ma_khuon || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.be || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.chap || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.dong || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.dan || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.khac || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-left text-xs border\">\n                            {item.cong_doan?.khac_ghi_chu || '-'}\n                          </td>\n                          \n                          {/* Ghi chú & QR */}\n                          <td className=\"px-3 py-2 text-xs border\">\n                            {item.ghi_chu || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center border\">\n                            <button\n                              onClick={() => handleShowQR(selectedOrder.so_don_hang, item.ma_hang)}\n                              className=\"p-1 text-green-600 hover:border rounded\"\n                            >\n                              <QrCode className=\"w-4 h-4\" />\n                            </button>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                    <tfoot className=\"bg-gray-50 border-t-2\">\n                      <tr>\n                        <td colSpan=\"9\" className=\"px-3 py-3 text-right font-bold\">\n                          Tổng cộng:\n                        </td>\n                        <td className=\"px-3 py-3 text-right font-bold text-green-600 text-lg\">\n                          {selectedOrder.tong_tien.toLocaleString('vi-VN')}đ\n                        </td>\n                        <td colSpan=\"18\"></td>\n                      </tr>\n                    </tfoot>\n                  </table>\n                </div>\n              </div>\n\n              {/* Ghi chú */}\n              {selectedOrder.ghi_chu && (\n                <div className=\"bg-gray-50 p-4 rounded-lg\">\n                  <p className=\"font-semibold text-gray-700 mb-2\">Ghi chú:</p>\n                  <p className=\"text-gray-600\">{selectedOrder.ghi_chu}</p>\n                </div>\n              )}\n            </div>\n\n            <div className=\"border-t px-6 py-4 flex justify-end gap-3 sticky bottom-0 bg-white\">\n              <button\n                onClick={() => {\n                  setShowDetailModal(false);\n                  handleEdit(selectedOrder);\n                }}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\"\n              >\n                <Edit className=\"w-4 h-4\" />\n                Sửa\n              </button>\n              <button\n                onClick={() => {\n                  setShowDetailModal(false);\n                  setSelectedOrder(null);\n                }}\n                className=\"px-4 py-2 border rounded-lg hover:bg-gray-50\"\n              >\n                Đóng\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n}\n\nexport default SalesOrder;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}