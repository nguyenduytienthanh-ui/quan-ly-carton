{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\app\\\\src\\\\pages\\\\SalesOrder.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Plus, Search, Edit, Trash2, Eye, X, ShoppingCart, QrCode, Calendar, Filter, FileSpreadsheet, Upload, Download, ExternalLink } from 'lucide-react';\nimport TextInput from '../components/TextInput';\nimport TextArea from '../components/TextArea';\n\n// ============================================\n// 5 COMPONENTS MỚI - ĐÃ TÍCH HỢP\n// ============================================\nimport SearchBox from '../components/SearchBox';\nimport FilterBoxV2 from '../components/FilterBoxV2';\nimport ProductModal from '../components/ProductModal';\nimport CustomerModal from '../components/CustomerModal';\nimport LinkedFieldV2 from '../components/LinkedFieldV2';\nimport ExcelActions from '../components/ExcelActions';\n\n// ============================================================================\n// HELPER FUNCTIONS\n// ============================================================================\n\n// Tạo số đơn hàng tự động: DHXyyyymmxxx\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst generateSoDonHang = existingOrders => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  const prefix = `DHX${year}${month}`;\n  const currentMonthOrders = existingOrders.filter(o => {\n    var _o$so_don_hang;\n    return (_o$so_don_hang = o.so_don_hang) === null || _o$so_don_hang === void 0 ? void 0 : _o$so_don_hang.startsWith(prefix);\n  });\n  let maxNum = 0;\n  currentMonthOrders.forEach(o => {\n    const num = parseInt(o.so_don_hang.slice(-3));\n    if (!isNaN(num) && num > maxNum) {\n      maxNum = num;\n    }\n  });\n  const newNum = String(maxNum + 1).padStart(3, '0');\n  return `${prefix}${newNum}`;\n};\n\n// Lấy tên khách hàng\nconst getCustomerName = (customerId, customers) => {\n  if (!customerId || !customers) return '';\n  const customer = customers.find(c => String(c.id) === String(customerId));\n  return (customer === null || customer === void 0 ? void 0 : customer.name // ← Ưu tiên đầu tiên\n  ) || (customer === null || customer === void 0 ? void 0 : customer.ten_khach_hang) || (customer === null || customer === void 0 ? void 0 : customer.tenKhachHang) || (customer === null || customer === void 0 ? void 0 : customer.ten) || '';\n};\n\n// Lấy mã khách hàng\nconst getCustomerCode = (customerId, customers) => {\n  if (!customerId || !customers) return '';\n  const customer = customers.find(c => String(c.id) === String(customerId));\n  return (customer === null || customer === void 0 ? void 0 : customer.code // ← Ưu tiên đầu tiên\n  ) || (customer === null || customer === void 0 ? void 0 : customer.ma_khach_hang) || (customer === null || customer === void 0 ? void 0 : customer.maKhachHang) || (customer === null || customer === void 0 ? void 0 : customer.ma) || '';\n};\n\n// Tạo danh sách tháng cho dropdown\nconst generateMonthOptions = () => {\n  const months = [];\n  const currentDate = new Date();\n\n  // Tạo 12 tháng gần nhất (6 tháng trước + tháng hiện tại + 5 tháng sau)\n  for (let i = -6; i <= 5; i++) {\n    const date = new Date(currentDate.getFullYear(), currentDate.getMonth() + i, 1);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    months.push({\n      value: `${year}-${month}`,\n      label: `Tháng ${month}/${year}`\n    });\n  }\n  return months;\n};\n\n// Format tháng hiện tại\nconst getCurrentMonth = () => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  return `${year}-${month}`;\n};\n\n// ============================================================================\n// MAIN COMPONENT  \n// ============================================================================\n\nfunction SalesOrder() {\n  _s();\n  const loadOrders = () => {\n    const saved = localStorage.getItem('salesOrders');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadProducts = () => {\n    const saved = localStorage.getItem('products');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const loadCustomers = () => {\n    const saved = localStorage.getItem('customers');\n    return saved ? JSON.parse(saved) : [];\n  };\n  const [orders, setOrders] = useState(loadOrders);\n  const [products, setProducts] = useState(loadProducts);\n  const [customers, setCustomers] = useState(loadCustomers);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedMonth, setSelectedMonth] = useState(getCurrentMonth());\n  const [showModal, setShowModal] = useState(false);\n  const [editingOrder, setEditingOrder] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showProductModal, setShowProductModal] = useState(false);\n  const [productSearchTerm, setProductSearchTerm] = useState('');\n  const [showQRModal, setShowQRModal] = useState(false);\n  const [qrData, setQRData] = useState(null);\n\n  // Ref cho auto focus số lượng\n  const quantityInputRefs = useRef({});\n\n  // ============================================\n  // STATES MỚI - CHO 5 COMPONENTS\n  // ============================================\n\n  // Advanced filter states\n  const [showFilterBox, setShowFilterBox] = useState(false);\n  const [advancedFilters, setAdvancedFilters] = useState({\n    customerIds: [],\n    minAmount: '',\n    maxAmount: '',\n    dateFrom: '',\n    dateTo: '',\n    deliveryDateFrom: '',\n    deliveryDateTo: ''\n  });\n\n  // Modal states\n  const [showProductDetailModal, setShowProductDetailModal] = useState(false);\n  const [showCustomerDetailModal, setShowCustomerDetailModal] = useState(false);\n  const [selectedProductId, setSelectedProductId] = useState(null);\n  const [selectedCustomerId, setSelectedCustomerId] = useState(null);\n\n  // Search states\n  const [searchResults, setSearchResults] = useState([]);\n  const [form, setForm] = useState({\n    so_don_hang: '',\n    khach_hang_id: '',\n    khach_hang_ma: '',\n    // Thêm mã KH\n    khach_hang_ten: '',\n    // Thêm tên KH\n    ngay_dat: new Date().toISOString().split('T')[0],\n    ngay_giao_du_kien: '',\n    chi_tiet: [],\n    ghi_chu: ''\n  });\n  useEffect(() => {\n    localStorage.setItem('salesOrders', JSON.stringify(orders));\n  }, [orders]);\n  useEffect(() => {\n    setProducts(loadProducts());\n    const loadedCustomers = loadCustomers();\n\n    // DEBUG: Log cấu trúc Customer\n    console.log('=== CUSTOMERS DEBUG ===');\n    console.log('Total customers:', loadedCustomers.length);\n    if (loadedCustomers.length > 0) {\n      console.log('First customer structure:', loadedCustomers[0]);\n      console.log('All customer fields:', Object.keys(loadedCustomers[0]));\n    }\n    setCustomers(loadedCustomers);\n  }, []);\n\n  // ============================================\n  // REFRESH DATA - Sau khi sửa trong modal\n  // ============================================\n  const refreshData = () => {\n    setOrders(loadOrders());\n    setProducts(loadProducts());\n    setCustomers(loadCustomers());\n  };\n\n  // ============================================================================\n  // FORM HANDLERS\n  // ============================================================================\n\n  const handleSubmit = () => {\n    if (!form.so_don_hang.trim() || !form.khach_hang_id) {\n      alert('Vui lòng điền đầy đủ Số đơn hàng và Khách hàng!');\n      return;\n    }\n    if (form.chi_tiet.length === 0) {\n      alert('Vui lòng thêm ít nhất 1 sản phẩm!');\n      return;\n    }\n\n    // Check số lượng (chỉ check mẹ, con tự động)\n    const hasInvalidQty = form.chi_tiet.some(item => !item.la_thanh_phan_con && (!item.so_luong || item.so_luong <= 0));\n    if (hasInvalidQty) {\n      alert('Vui lòng nhập số lượng cho tất cả sản phẩm mẹ!');\n      return;\n    }\n    const orderData = {\n      so_don_hang: form.so_don_hang.trim(),\n      khach_hang_id: form.khach_hang_id,\n      ngay_dat: form.ngay_dat,\n      ngay_giao_du_kien: form.ngay_giao_du_kien,\n      chi_tiet: form.chi_tiet.map(item => ({\n        ...item,\n        so_luong: parseFloat(item.so_luong) || 0,\n        thanh_tien: (parseFloat(item.so_luong) || 0) * parseFloat(item.don_gia)\n      })),\n      tong_tien: form.chi_tiet.reduce((sum, item) => sum + (parseFloat(item.so_luong) || 0) * parseFloat(item.don_gia), 0),\n      ghi_chu: form.ghi_chu.trim()\n    };\n    if (editingOrder) {\n      setOrders(orders.map(o => o.id === editingOrder.id ? {\n        ...o,\n        ...orderData\n      } : o));\n      alert('Đã cập nhật đơn hàng!');\n    } else {\n      const newOrder = {\n        id: Date.now(),\n        ...orderData,\n        ngay_tao: new Date().toISOString()\n      };\n      setOrders([...orders, newOrder]);\n      alert('Đã tạo đơn hàng mới!');\n    }\n    resetForm();\n    setShowModal(false);\n  };\n  const resetForm = () => {\n    // Reload customers mỗi lần reset form\n    const latestCustomers = loadCustomers();\n    setCustomers(latestCustomers);\n    setForm({\n      so_don_hang: generateSoDonHang(orders),\n      khach_hang_id: '',\n      khach_hang_ma: '',\n      khach_hang_ten: '',\n      ngay_dat: new Date().toISOString().split('T')[0],\n      ngay_giao_du_kien: '',\n      chi_tiet: [],\n      ghi_chu: ''\n    });\n    setEditingOrder(null);\n    quantityInputRefs.current = {};\n  };\n  const handleEdit = order => {\n    // Tìm thông tin KH\n    const customer = customers.find(c => c.id === order.khach_hang_id);\n    const maKH = (customer === null || customer === void 0 ? void 0 : customer.code) || (customer === null || customer === void 0 ? void 0 : customer.ma_khach_hang) || (customer === null || customer === void 0 ? void 0 : customer.maKhachHang) || (customer === null || customer === void 0 ? void 0 : customer.ma) || '';\n    const tenKH = (customer === null || customer === void 0 ? void 0 : customer.name) || (customer === null || customer === void 0 ? void 0 : customer.ten_khach_hang) || (customer === null || customer === void 0 ? void 0 : customer.tenKhachHang) || (customer === null || customer === void 0 ? void 0 : customer.ten) || '';\n    setForm({\n      ...order,\n      khach_hang_ma: maKH,\n      khach_hang_ten: tenKH,\n      chi_tiet: order.chi_tiet.map(item => ({\n        ...item,\n        so_luong: item.so_luong.toString()\n      }))\n    });\n    setEditingOrder(order);\n    setShowModal(true);\n  };\n  const handleDelete = id => {\n    if (window.confirm('Bạn có chắc muốn xóa đơn hàng này?')) {\n      setOrders(orders.filter(o => o.id !== id));\n      alert('Đã xóa đơn hàng!');\n    }\n  };\n\n  // ============================================================================\n  // QR CODE HANDLER\n  // ============================================================================\n\n  const handleShowQR = (soDonHang, maHang) => {\n    setQRData({\n      code: `${soDonHang}-${maHang}`,\n      soDonHang: soDonHang,\n      maHang: maHang\n    });\n    setShowQRModal(true);\n  };\n\n  // ============================================================================\n  // PRODUCT HANDLERS - MẸ + CON TỰ ĐỘNG\n  // ============================================================================\n\n  const handleAddProduct = product => {\n    var _product$cong_doan, _product$cong_doan2, _product$cong_doan3, _product$cong_doan4, _product$cong_doan5, _product$cong_doan6, _product$cong_doan7, _product$cong_doan8, _product$cong_doan9, _product$cong_doan0, _product$cong_doan1, _product$cong_doan10, _product$cong_doan11;\n    const ktpo = product.po_cao ? `${product.po_dai}×${product.po_rong}×${product.po_cao}` : `${product.po_dai}×${product.po_rong}`;\n    const ktsx = product.sx_dai || product.sx_rong || product.sx_cao ? `${product.sx_dai || product.po_dai}×${product.sx_rong || product.po_rong}${product.sx_cao || product.po_cao ? '×' + (product.sx_cao || product.po_cao) : ''}` : ktpo;\n    const newItems = [];\n\n    // 1. THÊM MẸ\n    const parentItem = {\n      id: Date.now(),\n      thanh_pham_id: product.id,\n      ma_hang: product.ma_hang,\n      ten_san_pham: product.ten_san_pham,\n      ktpo: ktpo,\n      ktsx: ktsx,\n      song: product.song || 'N/A',\n      dvt: product.dvt || 'Cái',\n      kieu: product.kieu || '',\n      don_gia: product.don_gia || 0,\n      so_luong: '',\n      thanh_tien: 0,\n      hoa_hong_co_dinh: product.hoa_hong_co_dinh || 0,\n      hoa_hong_phan_tram: product.hoa_hong_phan_tram || 0,\n      cho_phep_sai_lech: product.cho_phep_sai_lech || false,\n      sai_lech_so_luong: product.sai_lech_so_luong || 0,\n      sai_lech_phan_tram: product.sai_lech_phan_tram || 0,\n      cong_doan: {\n        xa: ((_product$cong_doan = product.cong_doan) === null || _product$cong_doan === void 0 ? void 0 : _product$cong_doan.xa) || 0,\n        ma_phim: ((_product$cong_doan2 = product.cong_doan) === null || _product$cong_doan2 === void 0 ? void 0 : _product$cong_doan2.ma_phim) || '',\n        so_mau: ((_product$cong_doan3 = product.cong_doan) === null || _product$cong_doan3 === void 0 ? void 0 : _product$cong_doan3.so_mau) || 0,\n        in: ((_product$cong_doan4 = product.cong_doan) === null || _product$cong_doan4 === void 0 ? void 0 : _product$cong_doan4.in) || 0,\n        boi: ((_product$cong_doan5 = product.cong_doan) === null || _product$cong_doan5 === void 0 ? void 0 : _product$cong_doan5.boi) || 0,\n        can_mang: ((_product$cong_doan6 = product.cong_doan) === null || _product$cong_doan6 === void 0 ? void 0 : _product$cong_doan6.can_mang) || 0,\n        ma_khuon: ((_product$cong_doan7 = product.cong_doan) === null || _product$cong_doan7 === void 0 ? void 0 : _product$cong_doan7.ma_khuon) || '',\n        be: ((_product$cong_doan8 = product.cong_doan) === null || _product$cong_doan8 === void 0 ? void 0 : _product$cong_doan8.be) || 0,\n        chap: ((_product$cong_doan9 = product.cong_doan) === null || _product$cong_doan9 === void 0 ? void 0 : _product$cong_doan9.chap) || 0,\n        dong: ((_product$cong_doan0 = product.cong_doan) === null || _product$cong_doan0 === void 0 ? void 0 : _product$cong_doan0.dong) || 0,\n        dan: ((_product$cong_doan1 = product.cong_doan) === null || _product$cong_doan1 === void 0 ? void 0 : _product$cong_doan1.dan) || 0,\n        khac: ((_product$cong_doan10 = product.cong_doan) === null || _product$cong_doan10 === void 0 ? void 0 : _product$cong_doan10.khac) || 0,\n        khac_ghi_chu: ((_product$cong_doan11 = product.cong_doan) === null || _product$cong_doan11 === void 0 ? void 0 : _product$cong_doan11.khac_ghi_chu) || ''\n      },\n      ghi_chu: product.ghi_chu || '',\n      la_thanh_phan_con: false,\n      thanh_pham_me_id: null\n    };\n    newItems.push(parentItem);\n\n    // 2. THÊM CON (nếu có)\n    if (product.co_thanh_phan_con && product.thanh_phan_con && product.thanh_phan_con.length > 0) {\n      product.thanh_phan_con.forEach((con, index) => {\n        var _con$cong_doan, _con$cong_doan2, _con$cong_doan3, _con$cong_doan4, _con$cong_doan5, _con$cong_doan6, _con$cong_doan7, _con$cong_doan8, _con$cong_doan9, _con$cong_doan0, _con$cong_doan1, _con$cong_doan10, _con$cong_doan11;\n        const conKtpo = con.po_cao ? `${con.po_dai}×${con.po_rong}×${con.po_cao}` : `${con.po_dai}×${con.po_rong}`;\n        const conKtsx = con.sx_dai || con.sx_rong || con.sx_cao ? `${con.sx_dai || con.po_dai}×${con.sx_rong || con.po_rong}${con.sx_cao || con.po_cao ? '×' + (con.sx_cao || con.po_cao) : ''}` : conKtpo;\n        const childItem = {\n          id: Date.now() + index + 1,\n          thanh_pham_id: `${product.id}_${con.ma_hang_con}`,\n          ma_hang: con.ma_hang_con,\n          ten_san_pham: con.ten,\n          ktpo: conKtpo,\n          ktsx: conKtsx,\n          song: con.song || product.song || 'N/A',\n          dvt: con.dvt || product.dvt || 'Cái',\n          kieu: con.kieu || product.kieu || '',\n          don_gia: con.don_gia || 0,\n          so_luong: '',\n          // Sẽ tự động tính từ mẹ\n          thanh_tien: 0,\n          hoa_hong_co_dinh: 0,\n          hoa_hong_phan_tram: 0,\n          cho_phep_sai_lech: false,\n          sai_lech_so_luong: 0,\n          sai_lech_phan_tram: 0,\n          cong_doan: {\n            xa: ((_con$cong_doan = con.cong_doan) === null || _con$cong_doan === void 0 ? void 0 : _con$cong_doan.xa) || 0,\n            ma_phim: ((_con$cong_doan2 = con.cong_doan) === null || _con$cong_doan2 === void 0 ? void 0 : _con$cong_doan2.ma_phim) || '',\n            so_mau: ((_con$cong_doan3 = con.cong_doan) === null || _con$cong_doan3 === void 0 ? void 0 : _con$cong_doan3.so_mau) || 0,\n            in: ((_con$cong_doan4 = con.cong_doan) === null || _con$cong_doan4 === void 0 ? void 0 : _con$cong_doan4.in) || 0,\n            boi: ((_con$cong_doan5 = con.cong_doan) === null || _con$cong_doan5 === void 0 ? void 0 : _con$cong_doan5.boi) || 0,\n            can_mang: ((_con$cong_doan6 = con.cong_doan) === null || _con$cong_doan6 === void 0 ? void 0 : _con$cong_doan6.can_mang) || 0,\n            ma_khuon: ((_con$cong_doan7 = con.cong_doan) === null || _con$cong_doan7 === void 0 ? void 0 : _con$cong_doan7.ma_khuon) || '',\n            be: ((_con$cong_doan8 = con.cong_doan) === null || _con$cong_doan8 === void 0 ? void 0 : _con$cong_doan8.be) || 0,\n            chap: ((_con$cong_doan9 = con.cong_doan) === null || _con$cong_doan9 === void 0 ? void 0 : _con$cong_doan9.chap) || 0,\n            dong: ((_con$cong_doan0 = con.cong_doan) === null || _con$cong_doan0 === void 0 ? void 0 : _con$cong_doan0.dong) || 0,\n            dan: ((_con$cong_doan1 = con.cong_doan) === null || _con$cong_doan1 === void 0 ? void 0 : _con$cong_doan1.dan) || 0,\n            khac: ((_con$cong_doan10 = con.cong_doan) === null || _con$cong_doan10 === void 0 ? void 0 : _con$cong_doan10.khac) || 0,\n            khac_ghi_chu: ((_con$cong_doan11 = con.cong_doan) === null || _con$cong_doan11 === void 0 ? void 0 : _con$cong_doan11.khac_ghi_chu) || ''\n          },\n          ghi_chu: con.ghi_chu || '',\n          la_thanh_phan_con: true,\n          thanh_pham_me_id: parentItem.id,\n          so_luong_con_theo_me: con.so_luong || 1 // Tỷ lệ: 1 mẹ = bao nhiêu con\n        };\n        newItems.push(childItem);\n      });\n    }\n    setForm({\n      ...form,\n      chi_tiet: [...form.chi_tiet, ...newItems]\n    });\n    setShowProductModal(false);\n    setProductSearchTerm('');\n\n    // Auto focus vào SL của mẹ\n    setTimeout(() => {\n      const input = quantityInputRefs.current[parentItem.id];\n      if (input) {\n        input.focus();\n        input.select();\n      }\n    }, 100);\n  };\n  const handleUpdateQuantity = (itemId, value) => {\n    const item = form.chi_tiet.find(i => i.id === itemId);\n    if (!item) return;\n\n    // Nếu là mẹ → update cả con\n    if (!item.la_thanh_phan_con) {\n      const meQty = parseFloat(value) || 0;\n      setForm({\n        ...form,\n        chi_tiet: form.chi_tiet.map(i => {\n          // Update mẹ\n          if (i.id === itemId) {\n            return {\n              ...i,\n              so_luong: value,\n              thanh_tien: meQty * parseFloat(i.don_gia)\n            };\n          }\n\n          // Update con (nếu thuộc về mẹ này)\n          if (i.la_thanh_phan_con && i.thanh_pham_me_id === itemId) {\n            const conQty = meQty * (i.so_luong_con_theo_me || 1);\n            return {\n              ...i,\n              so_luong: conQty.toString(),\n              thanh_tien: conQty * parseFloat(i.don_gia)\n            };\n          }\n          return i;\n        })\n      });\n    }\n    // Con không được edit trực tiếp\n  };\n  const handleRemoveItem = itemId => {\n    const item = form.chi_tiet.find(i => i.id === itemId);\n    if (!item) return;\n\n    // Nếu xóa mẹ → xóa cả con\n    if (!item.la_thanh_phan_con) {\n      if (window.confirm('Xóa sản phẩm mẹ sẽ xóa cả các thành phần con. Bạn có chắc?')) {\n        setForm({\n          ...form,\n          chi_tiet: form.chi_tiet.filter(i => i.id !== itemId && i.thanh_pham_me_id !== itemId)\n        });\n      }\n    } else {\n      // Không cho xóa con riêng lẻ\n      alert('Không thể xóa thành phần con riêng lẻ. Vui lòng xóa sản phẩm mẹ.');\n    }\n  };\n\n  // ============================================================================\n  // PRODUCT SELECTION - CHỈ MẸ\n  // ============================================================================\n\n  const getParentProductsOnly = () => {\n    return products.map(product => {\n      var _product$thanh_phan_c;\n      return {\n        ...product,\n        displayName: product.co_thanh_phan_con && ((_product$thanh_phan_c = product.thanh_phan_con) === null || _product$thanh_phan_c === void 0 ? void 0 : _product$thanh_phan_c.length) > 0 ? `${product.ma_hang} - ${product.ten_san_pham} (có ${product.thanh_phan_con.length} con)` : `${product.ma_hang} - ${product.ten_san_pham}`\n      };\n    });\n  };\n  const filteredProducts = getParentProductsOnly().filter(p => {\n    const searchLower = productSearchTerm.toLowerCase();\n    return p.ma_hang.toLowerCase().includes(searchLower) || (p.ten_san_pham || '').toLowerCase().includes(searchLower) || p.displayName.toLowerCase().includes(searchLower);\n  });\n\n  // ============================================================================\n  // FILTERS - Theo tháng\n  // ============================================================================\n\n  const filteredOrders = orders.filter(o => {\n    // Filter theo tháng\n    const orderYearMonth = o.so_don_hang.slice(3, 9); // DHX202512001 → 202512\n    const selectedYearMonth = selectedMonth.replace('-', ''); // 2025-12 → 202512\n\n    if (orderYearMonth !== selectedYearMonth) return false;\n\n    // Filter theo search term (old - giữ lại để backup)\n    if (searchTerm) {\n      const searchLower = searchTerm.toLowerCase();\n      const customerName = getCustomerName(o.khach_hang_id, customers);\n      const customerCode = getCustomerCode(o.khach_hang_id, customers);\n      return o.so_don_hang.toLowerCase().includes(searchLower) || customerName.toLowerCase().includes(searchLower) || customerCode.toLowerCase().includes(searchLower);\n    }\n    return true;\n  });\n\n  // ============================================\n  // DISPLAY ORDERS - Kết hợp Search + Filter + Advanced Filter\n  // ============================================\n  let displayOrders = searchResults.length > 0 ? searchResults.filter(o => {\n    // Vẫn phải lọc theo tháng\n    const orderYearMonth = o.so_don_hang.slice(3, 9);\n    const selectedYearMonth = selectedMonth.replace('-', '');\n    return orderYearMonth === selectedYearMonth;\n  }) : filteredOrders;\n\n  // Áp dụng advanced filters\n  if (advancedFilters.customerIds && advancedFilters.customerIds.length > 0) {\n    displayOrders = displayOrders.filter(o => advancedFilters.customerIds.includes(String(o.khach_hang_id)));\n  }\n  if (advancedFilters.minAmount) {\n    displayOrders = displayOrders.filter(o => o.tong_tien >= parseFloat(advancedFilters.minAmount));\n  }\n  if (advancedFilters.maxAmount) {\n    displayOrders = displayOrders.filter(o => o.tong_tien <= parseFloat(advancedFilters.maxAmount));\n  }\n  if (advancedFilters.dateFrom) {\n    displayOrders = displayOrders.filter(o => o.ngay_dat >= advancedFilters.dateFrom);\n  }\n  if (advancedFilters.dateTo) {\n    displayOrders = displayOrders.filter(o => o.ngay_dat <= advancedFilters.dateTo);\n  }\n  if (advancedFilters.deliveryDateFrom) {\n    displayOrders = displayOrders.filter(o => o.ngay_giao_du_kien >= advancedFilters.deliveryDateFrom);\n  }\n  if (advancedFilters.deliveryDateTo) {\n    displayOrders = displayOrders.filter(o => o.ngay_giao_du_kien <= advancedFilters.deliveryDateTo);\n  }\n\n  // ============================================================================\n  // RENDER\n  // ============================================================================\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: \"\\u0110\\u01A1n h\\xE0ng Xu\\u1EA5t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Qu\\u1EA3n l\\xFD \\u0111\\u01A1n h\\xE0ng xu\\u1EA5t kho\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowFilterBox(!showFilterBox),\n          className: `px-4 py-2 rounded-lg border flex items-center gap-2 ${showFilterBox ? 'bg-blue-100 border-blue-600 text-blue-700' : 'bg-white border-gray-300 hover:bg-gray-50'}`,\n          children: [/*#__PURE__*/_jsxDEV(Filter, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 13\n          }, this), \"B\\u1ED9 l\\u1ECDc\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 627,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ExcelActions, {\n          onExport: () => console.log('Export:', filteredOrders),\n          onImport: data => console.log('Import:', data),\n          data: filteredOrders,\n          moduleName: \"don-hang-xuat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            resetForm();\n            setShowModal(true);\n          },\n          className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 13\n          }, this), \"T\\u1EA1o \\u0111\\u01A1n h\\xE0ng\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 646,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 7\n    }, this), showFilterBox && /*#__PURE__*/_jsxDEV(FilterBoxV2, {\n      filters: advancedFilters,\n      onFilterChange: setAdvancedFilters,\n      onReset: () => setAdvancedFilters({\n        customerIds: [],\n        minAmount: '',\n        maxAmount: '',\n        dateFrom: '',\n        dateTo: '',\n        deliveryDateFrom: '',\n        deliveryDateTo: ''\n      }),\n      filterConfig: [{\n        type: 'multiSelect',\n        field: 'customerIds',\n        label: 'Khách hàng',\n        options: customers.map(c => ({\n          value: String(c.id),\n          // ← Convert to string\n          label: `${c.code || c.ma_khach_hang || ''} - ${c.name || c.ten_khach_hang || ''}`\n        }))\n      }, {\n        type: 'numberRange',\n        field: ['minAmount', 'maxAmount'],\n        label: 'Số tiền (đ)'\n      }, {\n        type: 'dateRange',\n        field: ['dateFrom', 'dateTo'],\n        label: 'Ngày đặt'\n      }, {\n        type: 'dateRange',\n        field: ['deliveryDateFrom', 'deliveryDateTo'],\n        label: 'Ngày giao dự kiến'\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 662,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-sm border p-4 space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Calendar, {\n              className: \"w-4 h-4 inline mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 709,\n              columnNumber: 15\n            }, this), \"L\\u1ECDc theo th\\xE1ng\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 708,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedMonth,\n            onChange: e => setSelectedMonth(e.target.value),\n            className: \"w-full px-4 py-2 border rounded-lg bg-white\",\n            children: generateMonthOptions().map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: opt.value,\n              children: opt.label\n            }, opt.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 718,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 712,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"w-4 h-4 inline mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 15\n            }, this), \"T\\xECm ki\\u1EBFm\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 729,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SearchBox, {\n            data: orders,\n            searchFields: \"ALL\",\n            onResult: filtered => setSearchResults(filtered),\n            placeholder: \"T\\xECm ki\\u1EBFm t\\u1EA5t c\\u1EA3 (s\\u1ED1 \\u0111\\u01A1n, kh\\xE1ch h\\xE0ng, m\\xE3 h\\xE0ng...)\",\n            showResultCount: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 728,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 705,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: [\"Hi\\u1EC3n th\\u1ECB \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-blue-600\",\n          children: displayOrders.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 744,\n          columnNumber: 20\n        }, this), \" \\u0111\\u01A1n h\\xE0ng\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 704,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [displayOrders.map(order => {\n        // Convert ID to string for matching\n        const customerName = getCustomerName(order.khach_hang_id, customers);\n        const customerCode = getCustomerCode(order.khach_hang_id, customers);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-sm border overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-blue-50 to-purple-50 px-6 py-4 border-b flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n                className: \"w-6 h-6 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 759,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-bold text-lg text-blue-900\",\n                  children: order.so_don_hang\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 761,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-3 text-sm text-gray-600 mt-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDCE6 KH: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-gray-900\",\n                      children: [customerCode, \" - \", customerName]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 763,\n                      columnNumber: 36\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 763,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u2022\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 764,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDCC5 \\u0110\\u1EB7t: \", new Date(order.ngay_dat).toLocaleDateString('vi-VN')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 765,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u2022\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 766,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDE9A Giao: \", new Date(order.ngay_giao_du_kien).toLocaleDateString('vi-VN')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 767,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 762,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 760,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 758,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"T\\u1ED5ng ti\\u1EC1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 773,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-green-600\",\n                  children: [order.tong_tien.toLocaleString('vi-VN'), \"\\u0111\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 774,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 772,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setSelectedOrder(order);\n                  setShowDetailModal(true);\n                },\n                className: \"p-2 text-purple-600 hover:bg-purple-50 rounded-lg\",\n                title: \"Xem chi ti\\u1EBFt\",\n                children: /*#__PURE__*/_jsxDEV(Eye, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 786,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 778,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEdit(order),\n                className: \"p-2 text-blue-600 hover:border rounded-lg\",\n                title: \"S\\u1EEDa\",\n                children: /*#__PURE__*/_jsxDEV(Edit, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 793,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 788,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDelete(order.id),\n                className: \"p-2 text-red-600 hover:bg-red-50 rounded-lg\",\n                title: \"X\\xF3a\",\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 800,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 795,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 771,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-6 py-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"S\\u1EA3n ph\\u1EA9m:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 807,\n                columnNumber: 19\n              }, this), \" \", order.chi_tiet.length, \" m\\u1EB7t h\\xE0ng\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 806,\n              columnNumber: 17\n            }, this), order.ghi_chu && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-gray-700\",\n                children: \"Ghi ch\\xFA:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 811,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600 ml-2\",\n                children: order.ghi_chu\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 812,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 805,\n            columnNumber: 15\n          }, this)]\n        }, order.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 756,\n          columnNumber: 13\n        }, this);\n      }), displayOrders.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm border p-12 text-center text-gray-500\",\n        children: \"Kh\\xF4ng c\\xF3 \\u0111\\u01A1n h\\xE0ng n\\xE0o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 821,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 749,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full max-w-7xl my-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sticky top-0 bg-white border-b px-6 py-4 z-10 rounded-t-xl\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold\",\n              children: editingOrder ? 'Sửa đơn hàng' : 'Tạo đơn hàng mới'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 833,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowModal(false);\n                resetForm();\n              },\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 843,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 836,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 832,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 831,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: [\"S\\u1ED1 \\u0111\\u01A1n h\\xE0ng * \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"(T\\u1EF1 \\u0111\\u1ED9ng)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 853,\n                  columnNumber: 35\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 852,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: form.so_don_hang,\n                readOnly: true,\n                className: \"w-full px-4 py-2 border rounded-lg bg-gray-50 font-mono font-bold text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 855,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 851,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Kh\\xE1ch h\\xE0ng *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 864,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: form.khach_hang_id,\n                onChange: e => {\n                  const customerId = e.target.value;\n                  // Convert to string for consistent comparison\n                  const selectedCustomer = customers.find(c => String(c.id) === String(customerId));\n                  console.log('=== onChange Debug ===');\n                  console.log('Selected value:', customerId, 'Type:', typeof customerId);\n                  console.log('Found customer:', selectedCustomer);\n                  if (selectedCustomer) {\n                    const maKH = selectedCustomer.code || selectedCustomer.ma_khach_hang || selectedCustomer.maKhachHang || selectedCustomer.ma || selectedCustomer.ma_kh || '';\n                    const tenKH = selectedCustomer.name || selectedCustomer.ten_khach_hang || selectedCustomer.tenKhachHang || selectedCustomer.ten || selectedCustomer.ten_kh || '';\n                    console.log('Set form - Mã:', maKH, 'Tên:', tenKH);\n                    setForm({\n                      ...form,\n                      khach_hang_id: customerId,\n                      khach_hang_ma: maKH,\n                      khach_hang_ten: tenKH\n                    });\n                  } else {\n                    console.error('Customer not found for ID:', customerId);\n                    setForm({\n                      ...form,\n                      khach_hang_id: customerId,\n                      khach_hang_ma: '',\n                      khach_hang_ten: ''\n                    });\n                  }\n                },\n                className: \"w-full px-4 py-2 border rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"-- Ch\\u1ECDn m\\xE3 kh\\xE1ch h\\xE0ng --\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 913,\n                  columnNumber: 21\n                }, this), customers.map(c => {\n                  const maKH = c.code || c.ma_khach_hang || c.maKhachHang || c.ma || c.ma_kh || c.id;\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: c.id,\n                    children: maKH\n                  }, c.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 918,\n                    columnNumber: 25\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 867,\n                columnNumber: 19\n              }, this), form.khach_hang_id && (() => {\n                // Convert IDs to string for comparison (fix number vs string mismatch)\n                const selectedCustomer = customers.find(c => String(c.id) === String(form.khach_hang_id));\n                const customerName = (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.name) || (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.ten_khach_hang) || (selectedCustomer === null || selectedCustomer === void 0 ? void 0 : selectedCustomer.tenKhachHang) || form.khach_hang_ten || '';\n                console.log('=== Display Name Debug ===');\n                console.log('Selected ID:', form.khach_hang_id, 'Type:', typeof form.khach_hang_id);\n                console.log('Found customer:', selectedCustomer);\n                console.log('Customer name:', customerName);\n                return customerName ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-blue-600 mt-1 font-medium\",\n                  children: [\"\\u2192 \", customerName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 939,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-orange-500 mt-1\",\n                  children: [\"\\u26A0 ID: \", form.khach_hang_id, \" - Customer not found in array\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 943,\n                  columnNumber: 23\n                }, this);\n              })()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Ng\\xE0y \\u0111\\u1EB7t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 951,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: form.ngay_dat,\n                onChange: e => setForm({\n                  ...form,\n                  ngay_dat: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 952,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 950,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                children: \"Ng\\xE0y giao d\\u1EF1 ki\\u1EBFn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 961,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: form.ngay_giao_du_kien,\n                onChange: e => setForm({\n                  ...form,\n                  ngay_giao_du_kien: e.target.value\n                }),\n                className: \"w-full px-4 py-2 border rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 962,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 960,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 850,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded-lg p-4 bg-gray-50\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-bold text-lg\",\n                children: \"Chi ti\\u1EBFt s\\u1EA3n ph\\u1EA9m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 974,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowProductModal(true),\n                className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Plus, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 979,\n                  columnNumber: 21\n                }, this), \"Th\\xEAm s\\u1EA3n ph\\u1EA9m\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 975,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 973,\n              columnNumber: 17\n            }, this), form.chi_tiet.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-x-auto border rounded-lg bg-white\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-100 sticky top-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold border\",\n                      children: \"M\\xE3 h\\xE0ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 989,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold border\",\n                      children: \"T\\xEAn SP\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 990,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"KTPO\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 991,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"KTSX\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 992,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"S\\xF3ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 993,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"\\u0110VT\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 994,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"Ki\\u1EC3u\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 995,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border\",\n                      children: \"\\u0110\\u01A1n gi\\xE1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 998,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"SL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 999,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border\",\n                      children: \"Th\\xE0nh ti\\u1EC1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1000,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"+/-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1001,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border\",\n                      children: \"HH c\\u1ED1 \\u0111\\u1ECBnh\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1002,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border\",\n                      children: \"HH %\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1003,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"X\\u1EA3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1006,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"M\\xE3 phim\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1007,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"S\\u1ED1 m\\xE0u\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1008,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"In\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1009,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"B\\u1ED3i\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1010,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"C\\xE1n m\\xE0ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1011,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"M\\xE3 khu\\xF4n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1012,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"B\\u1EBF\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1013,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"Ch\\u1EA1p\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1014,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"\\u0110\\xF3ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1015,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"D\\xE1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1016,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"Kh\\xE1c\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1017,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold border\",\n                      children: \"Ghi ch\\xFA Kh\\xE1c\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1018,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold border\",\n                      children: \"Ghi ch\\xFA\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1021,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"QR\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1022,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1023,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 987,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 986,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: form.chi_tiet.map((item, index) => {\n                    var _item$cong_doan, _item$cong_doan2, _item$cong_doan3, _item$cong_doan4, _item$cong_doan5, _item$cong_doan6, _item$cong_doan7, _item$cong_doan8, _item$cong_doan9, _item$cong_doan0, _item$cong_doan1, _item$cong_doan10, _item$cong_doan11;\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: index % 2 === 0 ? 'bg-white' : 'bg-gray-50',\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 border\",\n                        children: item.la_thanh_phan_con ? /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"pl-4\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-purple-700 mr-1\",\n                            children: \"\\u21B3\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1037,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(LinkedFieldV2, {\n                            value: item.ma_hang,\n                            module: \"products\",\n                            id: item.thanh_pham_id,\n                            onOpen: id => {\n                              setSelectedProductId(id);\n                              setShowProductDetailModal(true);\n                            },\n                            className: \"text-purple-700\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1038,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1036,\n                          columnNumber: 33\n                        }, this) : /*#__PURE__*/_jsxDEV(LinkedFieldV2, {\n                          value: item.ma_hang,\n                          module: \"products\",\n                          id: item.thanh_pham_id,\n                          onOpen: id => {\n                            setSelectedProductId(id);\n                            setShowProductDetailModal(true);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1050,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1034,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2\",\n                        children: item.ten_san_pham\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1061,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs\",\n                        children: item.ktpo\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1062,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs\",\n                        children: item.ktsx\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1063,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-gray-100 rounded text-xs\",\n                          children: item.song\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1065,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1064,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs\",\n                        children: item.dvt\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1069,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs\",\n                          children: item.kieu || '-'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1071,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1070,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right border\",\n                        children: parseFloat(item.don_gia).toLocaleString('vi-VN')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1077,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 border\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          ref: el => quantityInputRefs.current[item.id] = el,\n                          type: \"number\",\n                          value: item.so_luong,\n                          onChange: e => handleUpdateQuantity(item.id, e.target.value),\n                          className: \"w-20 px-2 py-1 border rounded text-right\",\n                          min: \"0\",\n                          placeholder: \"0\",\n                          disabled: item.la_thanh_phan_con\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1081,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1080,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right font-semibold text-green-600 border\",\n                        children: item.thanh_tien.toLocaleString('vi-VN')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1092,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 border \",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"text\",\n                          value: item.sai_lech_so_luong || '',\n                          onChange: e => {\n                            setForm({\n                              ...form,\n                              chi_tiet: form.chi_tiet.map(i => i.id === item.id ? {\n                                ...i,\n                                sai_lech_so_luong: e.target.value\n                              } : i)\n                            });\n                          },\n                          className: \"w-24 px-2 py-1 border rounded text-center\",\n                          placeholder: \"+/-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1096,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1095,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right text-xs\",\n                        children: item.hoa_hong_co_dinh ? item.hoa_hong_co_dinh.toLocaleString('vi-VN') : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1113,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right text-xs \",\n                        children: item.hoa_hong_phan_tram ? `${item.hoa_hong_phan_tram}%` : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1116,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan = item.cong_doan) === null || _item$cong_doan === void 0 ? void 0 : _item$cong_doan.xa) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1121,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border\",\n                        children: (_item$cong_doan2 = item.cong_doan) !== null && _item$cong_doan2 !== void 0 && _item$cong_doan2.ma_phim ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-medium\",\n                          children: item.cong_doan.ma_phim\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1126,\n                          columnNumber: 33\n                        }, this) : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1124,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan3 = item.cong_doan) === null || _item$cong_doan3 === void 0 ? void 0 : _item$cong_doan3.so_mau) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1131,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan4 = item.cong_doan) === null || _item$cong_doan4 === void 0 ? void 0 : _item$cong_doan4.in) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1134,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan5 = item.cong_doan) === null || _item$cong_doan5 === void 0 ? void 0 : _item$cong_doan5.boi) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1137,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan6 = item.cong_doan) === null || _item$cong_doan6 === void 0 ? void 0 : _item$cong_doan6.can_mang) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1140,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border\",\n                        children: (_item$cong_doan7 = item.cong_doan) !== null && _item$cong_doan7 !== void 0 && _item$cong_doan7.ma_khuon ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-xs font-medium\",\n                          children: item.cong_doan.ma_khuon\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1145,\n                          columnNumber: 33\n                        }, this) : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1143,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan8 = item.cong_doan) === null || _item$cong_doan8 === void 0 ? void 0 : _item$cong_doan8.be) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1150,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan9 = item.cong_doan) === null || _item$cong_doan9 === void 0 ? void 0 : _item$cong_doan9.chap) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1153,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan0 = item.cong_doan) === null || _item$cong_doan0 === void 0 ? void 0 : _item$cong_doan0.dong) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1156,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan1 = item.cong_doan) === null || _item$cong_doan1 === void 0 ? void 0 : _item$cong_doan1.dan) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1159,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border text-xs\",\n                        children: ((_item$cong_doan10 = item.cong_doan) === null || _item$cong_doan10 === void 0 ? void 0 : _item$cong_doan10.khac) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1162,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-left border text-xs \",\n                        children: ((_item$cong_doan11 = item.cong_doan) === null || _item$cong_doan11 === void 0 ? void 0 : _item$cong_doan11.khac_ghi_chu) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1165,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-xs\",\n                        children: item.ghi_chu || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1170,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleShowQR(form.so_don_hang, item.ma_hang),\n                          className: \"p-1 text-green-600 hover:border rounded\",\n                          title: \"Xem QR Code\",\n                          children: /*#__PURE__*/_jsxDEV(QrCode, {\n                            className: \"w-4 h-4\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1179,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1174,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1173,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleRemoveItem(item.id),\n                          className: \"p-1 text-red-600 hover:bg-red-50 rounded\",\n                          title: item.la_thanh_phan_con ? 'Không thể xóa con riêng lẻ' : 'Xóa',\n                          children: /*#__PURE__*/_jsxDEV(X, {\n                            className: \"w-4 h-4\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1188,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1183,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1182,\n                        columnNumber: 29\n                      }, this)]\n                    }, item.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1028,\n                      columnNumber: 27\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1026,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                  className: \"bg-gray-50 border-t-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"9\",\n                      className: \"px-3 py-3 text-right font-bold\",\n                      children: \"T\\u1ED5ng ti\\u1EC1n:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1196,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-3 text-right font-bold text-green-600 text-lg\",\n                      children: [form.chi_tiet.reduce((sum, item) => sum + item.thanh_tien, 0).toLocaleString('vi-VN'), \"\\u0111\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1199,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"19\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1202,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1195,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1194,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 985,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 984,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 text-gray-500 bg-white border rounded-lg\",\n              children: \"Ch\\u01B0a c\\xF3 s\\u1EA3n ph\\u1EA9m. Nh\\u1EA5n \\\"Th\\xEAm s\\u1EA3n ph\\u1EA9m\\\" \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1208,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 972,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium mb-2\",\n              children: \"Ghi ch\\xFA \\u0111\\u01A1n h\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1216,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n              value: form.ghi_chu,\n              onChange: value => setForm({\n                ...form,\n                ghi_chu: value\n              }),\n              placeholder: \"Ghi ch\\xFA v\\u1EC1 \\u0111\\u01A1n h\\xE0ng...\",\n              rows: 3,\n              className: \"w-full px-4 py-2 border rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1217,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1215,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 848,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t px-6 py-4 flex justify-end gap-3 sticky bottom-0 bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowModal(false);\n              resetForm();\n            },\n            className: \"px-6 py-2 border rounded-lg hover:bg-gray-50\",\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1229,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            className: \"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1242,\n              columnNumber: 17\n            }, this), editingOrder ? 'Cập nhật' : 'Tạo đơn hàng']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1238,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1228,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 830,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 829,\n      columnNumber: 9\n    }, this), showProductModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold\",\n              children: \"Ch\\u1ECDn s\\u1EA3n ph\\u1EA9m (M\\u1EB9 + Con t\\u1EF1 \\u0111\\u1ED9ng)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1256,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowProductModal(false);\n                setProductSearchTerm('');\n              },\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1264,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1257,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1255,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1254,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1271,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: productSearchTerm,\n              onChange: e => setProductSearchTerm(e.target.value),\n              placeholder: \"T\\xECm ki\\u1EBFm m\\xE3 h\\xE0ng, t\\xEAn s\\u1EA3n ph\\u1EA9m...\",\n              className: \"w-full pl-10 pr-4 py-2 border rounded-lg\",\n              autoFocus: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1272,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1270,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-y-auto max-h-96 border rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-50 sticky top-0\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-left font-semibold\",\n                    children: \"M\\xE3 h\\xE0ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1286,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-left font-semibold\",\n                    children: \"T\\xEAn s\\u1EA3n ph\\u1EA9m\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1287,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-center font-semibold\",\n                    children: \"KTSX\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1288,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-center font-semibold\",\n                    children: \"S\\xF3ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1289,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-right font-semibold\",\n                    children: \"\\u0110\\u01A1n gi\\xE1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1290,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2 text-center font-semibold\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1291,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1285,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1284,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                className: \"divide-y\",\n                children: filteredProducts.map(product => {\n                  var _product$thanh_phan_c2;\n                  const alreadyAdded = form.chi_tiet.some(item => item.thanh_pham_id === product.id && !item.la_thanh_phan_con);\n                  const ktsx = product.sx_dai || product.sx_rong || product.sx_cao ? `${product.sx_dai || product.po_dai}×${product.sx_rong || product.po_rong}${product.sx_cao || product.po_cao ? '×' + (product.sx_cao || product.po_cao) : ''}` : product.po_cao ? `${product.po_dai}×${product.po_rong}×${product.po_cao}` : `${product.po_dai}×${product.po_rong}`;\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"hover:bg-gray-50\",\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium text-blue-600\",\n                        children: product.ma_hang\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1307,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1306,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [product.ten_san_pham, product.co_thanh_phan_con && ((_product$thanh_phan_c2 = product.thanh_phan_con) === null || _product$thanh_phan_c2 === void 0 ? void 0 : _product$thanh_phan_c2.length) > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xs text-purple-600 ml-2\",\n                          children: [\"(\", product.thanh_phan_con.length, \" con)\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1315,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1312,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1311,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center text-xs\",\n                      children: ktsx\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1321,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"px-2 py-1 bg-gray-100 rounded text-xs\",\n                        children: product.song || 'N/A'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1323,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1322,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-right\",\n                      children: [(product.don_gia || 0).toLocaleString('vi-VN'), \"\\u0111\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1327,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-2 text-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleAddProduct(product),\n                        disabled: alreadyAdded,\n                        className: `px-3 py-1 rounded text-sm ${alreadyAdded ? 'bg-gray-200 text-gray-500 cursor-not-allowed' : 'bg-blue-600 text-white hover:bg-blue-700'}`,\n                        children: alreadyAdded ? 'Đã thêm' : 'Chọn'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1331,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1330,\n                      columnNumber: 27\n                    }, this)]\n                  }, product.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1305,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1294,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1283,\n              columnNumber: 17\n            }, this), filteredProducts.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 text-gray-500\",\n              children: \"Kh\\xF4ng t\\xECm th\\u1EA5y s\\u1EA3n ph\\u1EA9m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1350,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1282,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1269,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1253,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1252,\n      columnNumber: 9\n    }, this), showQRModal && qrData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl max-w-md w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b px-6 py-4 flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold\",\n            children: \"QR Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1365,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowQRModal(false);\n              setQRData(null);\n            },\n            className: \"text-gray-400 hover:text-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1373,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1366,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1364,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-100 p-8 rounded-lg mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(QrCode, {\n              className: \"w-48 h-48 mx-auto text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1379,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mt-4\",\n              children: \"\\uD83D\\uDD2E QR Code s\\u1EBD \\u0111\\u01B0\\u1EE3c t\\u1EA1o \\u1EDF \\u0111\\xE2y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1380,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1378,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold text-lg font-mono text-blue-600\",\n              children: qrData.code\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1386,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: [\"\\u0110\\u01A1n h\\xE0ng: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: qrData.soDonHang\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1390,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1389,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: [\"M\\xE3 h\\xE0ng: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: qrData.maHang\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1393,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1392,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1385,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 flex gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => alert('Tính năng in QR - Làm sau'),\n              className: \"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\",\n              children: \"In QR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1398,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowQRModal(false);\n                setQRData(null);\n              },\n              className: \"flex-1 border px-4 py-2 rounded-lg hover:bg-gray-50\",\n              children: \"\\u0110\\xF3ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1404,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1397,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1377,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1363,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1362,\n      columnNumber: 9\n    }, this), showDetailModal && selectedOrder && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl w-full h-full max-w-[98vw] max-h-[98vh] flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sticky top-0 bg-white border-b px-6 py-4 z-10\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold\",\n              children: [\"Chi ti\\u1EBFt \\u0111\\u01A1n h\\xE0ng: \", selectedOrder.so_don_hang]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1425,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowDetailModal(false);\n                setSelectedOrder(null);\n              },\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1433,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1426,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1424,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1423,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-y-auto p-6 space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4 border p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Kh\\xE1ch h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1442,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold text-lg\",\n                children: [getCustomerCode(selectedOrder.khach_hang_id, customers), \" - \", getCustomerName(selectedOrder.khach_hang_id, customers)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1443,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1441,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"T\\u1ED5ng ti\\u1EC1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1448,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold text-2xl text-green-600\",\n                children: [selectedOrder.tong_tien.toLocaleString('vi-VN'), \"\\u0111\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1449,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1447,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Ng\\xE0y \\u0111\\u1EB7t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1454,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: new Date(selectedOrder.ngay_dat).toLocaleDateString('vi-VN')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1455,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1453,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Ng\\xE0y giao d\\u1EF1 ki\\u1EBFn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1460,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: new Date(selectedOrder.ngay_giao_du_kien).toLocaleDateString('vi-VN')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1461,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1459,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1440,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-bold text-lg mb-3\",\n              children: \"Danh s\\xE1ch s\\u1EA3n ph\\u1EA9m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1469,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-x-auto border rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-100\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold border\",\n                      children: \"M\\xE3 h\\xE0ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1475,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold border\",\n                      children: \"T\\xEAn SP\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1476,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"KTPO\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1477,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"KTSX\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1478,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"S\\xF3ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1479,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"\\u0110VT\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1480,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"Ki\\u1EC3u\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1481,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border\",\n                      children: \"\\u0110\\u01A1n gi\\xE1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1484,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"SL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1485,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border\",\n                      children: \"Th\\xE0nh ti\\u1EC1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1486,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"+/-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1487,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border\",\n                      children: \"HH c\\u1ED1 \\u0111\\u1ECBnh\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1488,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-right font-semibold border\",\n                      children: \"HH %\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1489,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"X\\u1EA3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1492,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"M\\xE3 phim\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1493,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"S\\u1ED1 m\\xE0u\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1494,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"In\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1495,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"B\\u1ED3i\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1496,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"C\\xE1n m\\xE0ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1497,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"M\\xE3 khu\\xF4n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1498,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"B\\u1EBF\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1499,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"Ch\\u1EA1p\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1500,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"\\u0110\\xF3ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1501,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"D\\xE1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1502,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"Kh\\xE1c\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1503,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold border\",\n                      children: \"Ghi ch\\xFA Kh\\xE1c\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1504,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-left font-semibold border\",\n                      children: \"Ghi ch\\xFA\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1507,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-3 py-2 text-center font-semibold border\",\n                      children: \"QR\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1508,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1473,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1472,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: selectedOrder.chi_tiet.map((item, index) => {\n                    var _item$cong_doan12, _item$cong_doan13, _item$cong_doan14, _item$cong_doan15, _item$cong_doan16, _item$cong_doan17, _item$cong_doan18, _item$cong_doan19, _item$cong_doan20, _item$cong_doan21, _item$cong_doan22, _item$cong_doan23, _item$cong_doan24;\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: index % 2 === 0 ? 'bg-white' : 'bg-gray-50',\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 border\",\n                        children: item.la_thanh_phan_con ? /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"pl-4\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-purple-700 mr-1\",\n                            children: \"\\u21B3\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1522,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(LinkedFieldV2, {\n                            value: item.ma_hang,\n                            module: \"products\",\n                            id: item.thanh_pham_id,\n                            onOpen: id => {\n                              setSelectedProductId(id);\n                              setShowProductDetailModal(true);\n                            },\n                            className: \"text-purple-700\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1523,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1521,\n                          columnNumber: 31\n                        }, this) : /*#__PURE__*/_jsxDEV(LinkedFieldV2, {\n                          value: item.ma_hang,\n                          module: \"products\",\n                          id: item.thanh_pham_id,\n                          onOpen: id => {\n                            setSelectedProductId(id);\n                            setShowProductDetailModal(true);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1535,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1519,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 border\",\n                        children: item.ten_san_pham\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1546,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: item.ktpo || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1547,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: item.ktsx\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1548,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-gray-200 rounded text-xs\",\n                          children: item.song\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1550,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1549,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: item.dvt || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1554,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-gray-200 rounded text-xs\",\n                          children: item.kieu || '-'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1556,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1555,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right border\",\n                        children: parseFloat(item.don_gia).toLocaleString('vi-VN')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1562,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right font-medium border\",\n                        children: item.so_luong.toLocaleString('vi-VN')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1565,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right font-semibold text-green-600 border\",\n                        children: item.thanh_tien.toLocaleString('vi-VN')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1568,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border\",\n                        children: item.sai_lech_so_luong || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1571,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right text-xs border\",\n                        children: item.hoa_hong_co_dinh ? item.hoa_hong_co_dinh.toLocaleString('vi-VN') : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1574,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-right text-xs border\",\n                        children: item.hoa_hong_phan_tram ? `${item.hoa_hong_phan_tram}%` : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1577,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan12 = item.cong_doan) === null || _item$cong_doan12 === void 0 ? void 0 : _item$cong_doan12.xa) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1582,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border\",\n                        children: ((_item$cong_doan13 = item.cong_doan) === null || _item$cong_doan13 === void 0 ? void 0 : _item$cong_doan13.ma_phim) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1585,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan14 = item.cong_doan) === null || _item$cong_doan14 === void 0 ? void 0 : _item$cong_doan14.so_mau) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1588,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan15 = item.cong_doan) === null || _item$cong_doan15 === void 0 ? void 0 : _item$cong_doan15.in) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1591,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan16 = item.cong_doan) === null || _item$cong_doan16 === void 0 ? void 0 : _item$cong_doan16.boi) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1594,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan17 = item.cong_doan) === null || _item$cong_doan17 === void 0 ? void 0 : _item$cong_doan17.can_mang) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1597,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border\",\n                        children: ((_item$cong_doan18 = item.cong_doan) === null || _item$cong_doan18 === void 0 ? void 0 : _item$cong_doan18.ma_khuon) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1600,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan19 = item.cong_doan) === null || _item$cong_doan19 === void 0 ? void 0 : _item$cong_doan19.be) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1603,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan20 = item.cong_doan) === null || _item$cong_doan20 === void 0 ? void 0 : _item$cong_doan20.chap) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1606,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan21 = item.cong_doan) === null || _item$cong_doan21 === void 0 ? void 0 : _item$cong_doan21.dong) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1609,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan22 = item.cong_doan) === null || _item$cong_doan22 === void 0 ? void 0 : _item$cong_doan22.dan) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1612,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center text-xs border\",\n                        children: ((_item$cong_doan23 = item.cong_doan) === null || _item$cong_doan23 === void 0 ? void 0 : _item$cong_doan23.khac) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1615,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-left text-xs border\",\n                        children: ((_item$cong_doan24 = item.cong_doan) === null || _item$cong_doan24 === void 0 ? void 0 : _item$cong_doan24.khac_ghi_chu) || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1618,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-xs border\",\n                        children: item.ghi_chu || '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1623,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-3 py-2 text-center border\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleShowQR(selectedOrder.so_don_hang, item.ma_hang),\n                          className: \"p-1 text-green-600 hover:border rounded\",\n                          children: /*#__PURE__*/_jsxDEV(QrCode, {\n                            className: \"w-4 h-4\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1631,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1627,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1626,\n                        columnNumber: 27\n                      }, this)]\n                    }, item.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1513,\n                      columnNumber: 25\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1511,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                  className: \"bg-gray-50 border-t-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"9\",\n                      className: \"px-3 py-3 text-right font-bold\",\n                      children: \"T\\u1ED5ng c\\u1ED9ng:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1639,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-3 text-right font-bold text-green-600 text-lg\",\n                      children: [selectedOrder.tong_tien.toLocaleString('vi-VN'), \"\\u0111\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1642,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"18\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1645,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1638,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1637,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1471,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1470,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1468,\n            columnNumber: 15\n          }, this), selectedOrder.ghi_chu && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-semibold text-gray-700 mb-2\",\n              children: \"Ghi ch\\xFA:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1655,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: selectedOrder.ghi_chu\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1656,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1654,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1438,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t px-6 py-4 flex justify-end gap-3 sticky bottom-0 bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowDetailModal(false);\n              handleEdit(selectedOrder);\n            },\n            className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Edit, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1669,\n              columnNumber: 17\n            }, this), \"S\\u1EEDa\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1662,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowDetailModal(false);\n              setSelectedOrder(null);\n            },\n            className: \"px-4 py-2 border rounded-lg hover:bg-gray-50\",\n            children: \"\\u0110\\xF3ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1672,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1661,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1422,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1421,\n      columnNumber: 9\n    }, this), showProductDetailModal && /*#__PURE__*/_jsxDEV(ProductModal, {\n      productId: selectedProductId,\n      mode: \"view\",\n      onSave: updatedProduct => {\n        // Refresh products\n        refreshData();\n\n        // Refresh current order nếu đang edit\n        if (editingOrder) {\n          const orders = loadOrders();\n          const current = orders.find(o => o.id === editingOrder.id);\n          if (current) {\n            setForm(JSON.parse(JSON.stringify(current)));\n          }\n        }\n        alert('✅ Đã cập nhật Thành phẩm!');\n      },\n      onClose: () => {\n        setShowProductDetailModal(false);\n        setSelectedProductId(null);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1690,\n      columnNumber: 9\n    }, this), showCustomerDetailModal && /*#__PURE__*/_jsxDEV(CustomerModal, {\n      customerId: selectedCustomerId,\n      mode: \"view\",\n      onSave: updatedCustomer => {\n        // Refresh customers\n        refreshData();\n        alert('✅ Đã cập nhật Khách hàng!');\n      },\n      onClose: () => {\n        setShowCustomerDetailModal(false);\n        setSelectedCustomerId(null);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1719,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 619,\n    columnNumber: 5\n  }, this);\n}\n_s(SalesOrder, \"a9wO69PUdQJYTLy9poMAIkw3AVQ=\");\n_c = SalesOrder;\nexport default SalesOrder;\nvar _c;\n$RefreshReg$(_c, \"SalesOrder\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Plus","Search","Edit","Trash2","Eye","X","ShoppingCart","QrCode","Calendar","Filter","FileSpreadsheet","Upload","Download","ExternalLink","TextInput","TextArea","SearchBox","FilterBoxV2","ProductModal","CustomerModal","LinkedFieldV2","ExcelActions","jsxDEV","_jsxDEV","generateSoDonHang","existingOrders","now","Date","year","getFullYear","month","String","getMonth","padStart","prefix","currentMonthOrders","filter","o","_o$so_don_hang","so_don_hang","startsWith","maxNum","forEach","num","parseInt","slice","isNaN","newNum","getCustomerName","customerId","customers","customer","find","c","id","name","ten_khach_hang","tenKhachHang","ten","getCustomerCode","code","ma_khach_hang","maKhachHang","ma","generateMonthOptions","months","currentDate","i","date","push","value","label","getCurrentMonth","SalesOrder","_s","loadOrders","saved","localStorage","getItem","JSON","parse","loadProducts","loadCustomers","orders","setOrders","products","setProducts","setCustomers","searchTerm","setSearchTerm","selectedMonth","setSelectedMonth","showModal","setShowModal","editingOrder","setEditingOrder","showDetailModal","setShowDetailModal","selectedOrder","setSelectedOrder","showProductModal","setShowProductModal","productSearchTerm","setProductSearchTerm","showQRModal","setShowQRModal","qrData","setQRData","quantityInputRefs","showFilterBox","setShowFilterBox","advancedFilters","setAdvancedFilters","customerIds","minAmount","maxAmount","dateFrom","dateTo","deliveryDateFrom","deliveryDateTo","showProductDetailModal","setShowProductDetailModal","showCustomerDetailModal","setShowCustomerDetailModal","selectedProductId","setSelectedProductId","selectedCustomerId","setSelectedCustomerId","searchResults","setSearchResults","form","setForm","khach_hang_id","khach_hang_ma","khach_hang_ten","ngay_dat","toISOString","split","ngay_giao_du_kien","chi_tiet","ghi_chu","setItem","stringify","loadedCustomers","console","log","length","Object","keys","refreshData","handleSubmit","trim","alert","hasInvalidQty","some","item","la_thanh_phan_con","so_luong","orderData","map","parseFloat","thanh_tien","don_gia","tong_tien","reduce","sum","newOrder","ngay_tao","resetForm","latestCustomers","current","handleEdit","order","maKH","tenKH","toString","handleDelete","window","confirm","handleShowQR","soDonHang","maHang","handleAddProduct","product","_product$cong_doan","_product$cong_doan2","_product$cong_doan3","_product$cong_doan4","_product$cong_doan5","_product$cong_doan6","_product$cong_doan7","_product$cong_doan8","_product$cong_doan9","_product$cong_doan0","_product$cong_doan1","_product$cong_doan10","_product$cong_doan11","ktpo","po_cao","po_dai","po_rong","ktsx","sx_dai","sx_rong","sx_cao","newItems","parentItem","thanh_pham_id","ma_hang","ten_san_pham","song","dvt","kieu","hoa_hong_co_dinh","hoa_hong_phan_tram","cho_phep_sai_lech","sai_lech_so_luong","sai_lech_phan_tram","cong_doan","xa","ma_phim","so_mau","in","boi","can_mang","ma_khuon","be","chap","dong","dan","khac","khac_ghi_chu","thanh_pham_me_id","co_thanh_phan_con","thanh_phan_con","con","index","_con$cong_doan","_con$cong_doan2","_con$cong_doan3","_con$cong_doan4","_con$cong_doan5","_con$cong_doan6","_con$cong_doan7","_con$cong_doan8","_con$cong_doan9","_con$cong_doan0","_con$cong_doan1","_con$cong_doan10","_con$cong_doan11","conKtpo","conKtsx","childItem","ma_hang_con","so_luong_con_theo_me","setTimeout","input","focus","select","handleUpdateQuantity","itemId","meQty","conQty","handleRemoveItem","getParentProductsOnly","_product$thanh_phan_c","displayName","filteredProducts","p","searchLower","toLowerCase","includes","filteredOrders","orderYearMonth","selectedYearMonth","replace","customerName","customerCode","displayOrders","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onExport","onImport","data","moduleName","filters","onFilterChange","onReset","filterConfig","type","field","options","onChange","e","target","opt","searchFields","onResult","filtered","placeholder","showResultCount","toLocaleDateString","toLocaleString","title","readOnly","selectedCustomer","ma_kh","ten_kh","error","_item$cong_doan","_item$cong_doan2","_item$cong_doan3","_item$cong_doan4","_item$cong_doan5","_item$cong_doan6","_item$cong_doan7","_item$cong_doan8","_item$cong_doan9","_item$cong_doan0","_item$cong_doan1","_item$cong_doan10","_item$cong_doan11","module","onOpen","ref","el","min","disabled","colSpan","rows","autoFocus","_product$thanh_phan_c2","alreadyAdded","_item$cong_doan12","_item$cong_doan13","_item$cong_doan14","_item$cong_doan15","_item$cong_doan16","_item$cong_doan17","_item$cong_doan18","_item$cong_doan19","_item$cong_doan20","_item$cong_doan21","_item$cong_doan22","_item$cong_doan23","_item$cong_doan24","productId","mode","onSave","updatedProduct","onClose","updatedCustomer","_c","$RefreshReg$"],"sources":["C:/Projects/app/src/pages/SalesOrder.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { \n  Plus, Search, Edit, Trash2, Eye, X, ShoppingCart, QrCode, Calendar,\n  Filter, FileSpreadsheet, Upload, Download, ExternalLink\n} from 'lucide-react';\nimport TextInput from '../components/TextInput';\nimport TextArea from '../components/TextArea';\n\n// ============================================\n// 5 COMPONENTS MỚI - ĐÃ TÍCH HỢP\n// ============================================\nimport SearchBox from '../components/SearchBox';\nimport FilterBoxV2 from '../components/FilterBoxV2';\nimport ProductModal from '../components/ProductModal';\nimport CustomerModal from '../components/CustomerModal';\nimport LinkedFieldV2 from '../components/LinkedFieldV2';\nimport ExcelActions from '../components/ExcelActions';\n\n// ============================================================================\n// HELPER FUNCTIONS\n// ============================================================================\n\n// Tạo số đơn hàng tự động: DHXyyyymmxxx\nconst generateSoDonHang = (existingOrders) => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  const prefix = `DHX${year}${month}`;\n  \n  const currentMonthOrders = existingOrders.filter(o => \n    o.so_don_hang?.startsWith(prefix)\n  );\n  \n  let maxNum = 0;\n  currentMonthOrders.forEach(o => {\n    const num = parseInt(o.so_don_hang.slice(-3));\n    if (!isNaN(num) && num > maxNum) {\n      maxNum = num;\n    }\n  });\n  \n  const newNum = String(maxNum + 1).padStart(3, '0');\n  return `${prefix}${newNum}`;\n};\n\n// Lấy tên khách hàng\nconst getCustomerName = (customerId, customers) => {\n  if (!customerId || !customers) return '';\n  const customer = customers.find(c => String(c.id) === String(customerId));\n  return customer?.name               // ← Ưu tiên đầu tiên\n    || customer?.ten_khach_hang \n    || customer?.tenKhachHang \n    || customer?.ten \n    || '';\n};\n\n// Lấy mã khách hàng\nconst getCustomerCode = (customerId, customers) => {\n  if (!customerId || !customers) return '';\n  const customer = customers.find(c => String(c.id) === String(customerId));\n  return customer?.code               // ← Ưu tiên đầu tiên\n    || customer?.ma_khach_hang \n    || customer?.maKhachHang \n    || customer?.ma \n    || '';\n};\n\n// Tạo danh sách tháng cho dropdown\nconst generateMonthOptions = () => {\n  const months = [];\n  const currentDate = new Date();\n  \n  // Tạo 12 tháng gần nhất (6 tháng trước + tháng hiện tại + 5 tháng sau)\n  for (let i = -6; i <= 5; i++) {\n    const date = new Date(currentDate.getFullYear(), currentDate.getMonth() + i, 1);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    months.push({\n      value: `${year}-${month}`,\n      label: `Tháng ${month}/${year}`\n    });\n  }\n  \n  return months;\n};\n\n// Format tháng hiện tại\nconst getCurrentMonth = () => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  return `${year}-${month}`;\n};\n\n// ============================================================================\n// MAIN COMPONENT  \n// ============================================================================\n\nfunction SalesOrder() {\n  const loadOrders = () => {\n    const saved = localStorage.getItem('salesOrders');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const loadProducts = () => {\n    const saved = localStorage.getItem('products');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const loadCustomers = () => {\n    const saved = localStorage.getItem('customers');\n    return saved ? JSON.parse(saved) : [];\n  };\n\n  const [orders, setOrders] = useState(loadOrders);\n  const [products, setProducts] = useState(loadProducts);\n  const [customers, setCustomers] = useState(loadCustomers);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedMonth, setSelectedMonth] = useState(getCurrentMonth());\n  const [showModal, setShowModal] = useState(false);\n  const [editingOrder, setEditingOrder] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showProductModal, setShowProductModal] = useState(false);\n  const [productSearchTerm, setProductSearchTerm] = useState('');\n  const [showQRModal, setShowQRModal] = useState(false);\n  const [qrData, setQRData] = useState(null);\n\n  // Ref cho auto focus số lượng\n  const quantityInputRefs = useRef({});\n  \n  // ============================================\n  // STATES MỚI - CHO 5 COMPONENTS\n  // ============================================\n  \n  // Advanced filter states\n  const [showFilterBox, setShowFilterBox] = useState(false);\n  const [advancedFilters, setAdvancedFilters] = useState({\n    customerIds: [],\n    minAmount: '',\n    maxAmount: '',\n    dateFrom: '',\n    dateTo: '',\n    deliveryDateFrom: '',\n    deliveryDateTo: ''\n  });\n  \n  // Modal states\n  const [showProductDetailModal, setShowProductDetailModal] = useState(false);\n  const [showCustomerDetailModal, setShowCustomerDetailModal] = useState(false);\n  const [selectedProductId, setSelectedProductId] = useState(null);\n  const [selectedCustomerId, setSelectedCustomerId] = useState(null);\n  \n  // Search states\n  const [searchResults, setSearchResults] = useState([]);\n\n  const [form, setForm] = useState({\n    so_don_hang: '',\n    khach_hang_id: '',\n    khach_hang_ma: '',      // Thêm mã KH\n    khach_hang_ten: '',     // Thêm tên KH\n    ngay_dat: new Date().toISOString().split('T')[0],\n    ngay_giao_du_kien: '',\n    chi_tiet: [],\n    ghi_chu: ''\n  });\n\n  useEffect(() => {\n    localStorage.setItem('salesOrders', JSON.stringify(orders));\n  }, [orders]);\n\n  useEffect(() => {\n    setProducts(loadProducts());\n    const loadedCustomers = loadCustomers();\n    \n    // DEBUG: Log cấu trúc Customer\n    console.log('=== CUSTOMERS DEBUG ===');\n    console.log('Total customers:', loadedCustomers.length);\n    if (loadedCustomers.length > 0) {\n      console.log('First customer structure:', loadedCustomers[0]);\n      console.log('All customer fields:', Object.keys(loadedCustomers[0]));\n    }\n    \n    setCustomers(loadedCustomers);\n  }, []);\n  \n  // ============================================\n  // REFRESH DATA - Sau khi sửa trong modal\n  // ============================================\n  const refreshData = () => {\n    setOrders(loadOrders());\n    setProducts(loadProducts());\n    setCustomers(loadCustomers());\n  };\n\n  // ============================================================================\n  // FORM HANDLERS\n  // ============================================================================\n\n  const handleSubmit = () => {\n    if (!form.so_don_hang.trim() || !form.khach_hang_id) {\n      alert('Vui lòng điền đầy đủ Số đơn hàng và Khách hàng!');\n      return;\n    }\n\n    if (form.chi_tiet.length === 0) {\n      alert('Vui lòng thêm ít nhất 1 sản phẩm!');\n      return;\n    }\n\n    // Check số lượng (chỉ check mẹ, con tự động)\n    const hasInvalidQty = form.chi_tiet.some(item => \n      !item.la_thanh_phan_con && (!item.so_luong || item.so_luong <= 0)\n    );\n    if (hasInvalidQty) {\n      alert('Vui lòng nhập số lượng cho tất cả sản phẩm mẹ!');\n      return;\n    }\n\n    const orderData = {\n      so_don_hang: form.so_don_hang.trim(),\n      khach_hang_id: form.khach_hang_id,\n      ngay_dat: form.ngay_dat,\n      ngay_giao_du_kien: form.ngay_giao_du_kien,\n      chi_tiet: form.chi_tiet.map(item => ({\n        ...item,\n        so_luong: parseFloat(item.so_luong) || 0,\n        thanh_tien: (parseFloat(item.so_luong) || 0) * parseFloat(item.don_gia)\n      })),\n      tong_tien: form.chi_tiet.reduce((sum, item) => \n        sum + ((parseFloat(item.so_luong) || 0) * parseFloat(item.don_gia)), 0\n      ),\n      ghi_chu: form.ghi_chu.trim()\n    };\n\n    if (editingOrder) {\n      setOrders(orders.map(o =>\n        o.id === editingOrder.id ? { ...o, ...orderData } : o\n      ));\n      alert('Đã cập nhật đơn hàng!');\n    } else {\n      const newOrder = {\n        id: Date.now(),\n        ...orderData,\n        ngay_tao: new Date().toISOString()\n      };\n      setOrders([...orders, newOrder]);\n      alert('Đã tạo đơn hàng mới!');\n    }\n\n    resetForm();\n    setShowModal(false);\n  };\n\n  const resetForm = () => {\n    // Reload customers mỗi lần reset form\n    const latestCustomers = loadCustomers();\n    setCustomers(latestCustomers);\n    \n    setForm({\n      so_don_hang: generateSoDonHang(orders),\n      khach_hang_id: '',\n      khach_hang_ma: '',\n      khach_hang_ten: '',\n      ngay_dat: new Date().toISOString().split('T')[0],\n      ngay_giao_du_kien: '',\n      chi_tiet: [],\n      ghi_chu: ''\n    });\n    setEditingOrder(null);\n    quantityInputRefs.current = {};\n  };\n\n  const handleEdit = (order) => {\n    // Tìm thông tin KH\n    const customer = customers.find(c => c.id === order.khach_hang_id);\n    \n    const maKH = customer?.code \n      || customer?.ma_khach_hang \n      || customer?.maKhachHang \n      || customer?.ma \n      || '';\n      \n    const tenKH = customer?.name \n      || customer?.ten_khach_hang \n      || customer?.tenKhachHang \n      || customer?.ten \n      || '';\n    \n    setForm({\n      ...order,\n      khach_hang_ma: maKH,\n      khach_hang_ten: tenKH,\n      chi_tiet: order.chi_tiet.map(item => ({\n        ...item,\n        so_luong: item.so_luong.toString()\n      }))\n    });\n    setEditingOrder(order);\n    setShowModal(true);\n  };\n\n  const handleDelete = (id) => {\n    if (window.confirm('Bạn có chắc muốn xóa đơn hàng này?')) {\n      setOrders(orders.filter(o => o.id !== id));\n      alert('Đã xóa đơn hàng!');\n    }\n  };\n\n  // ============================================================================\n  // QR CODE HANDLER\n  // ============================================================================\n\n  const handleShowQR = (soDonHang, maHang) => {\n    setQRData({\n      code: `${soDonHang}-${maHang}`,\n      soDonHang: soDonHang,\n      maHang: maHang\n    });\n    setShowQRModal(true);\n  };\n\n  // ============================================================================\n  // PRODUCT HANDLERS - MẸ + CON TỰ ĐỘNG\n  // ============================================================================\n\n  const handleAddProduct = (product) => {\n    const ktpo = product.po_cao \n      ? `${product.po_dai}×${product.po_rong}×${product.po_cao}`\n      : `${product.po_dai}×${product.po_rong}`;\n    \n    const ktsx = (product.sx_dai || product.sx_rong || product.sx_cao)\n      ? `${product.sx_dai || product.po_dai}×${product.sx_rong || product.po_rong}${product.sx_cao || product.po_cao ? '×' + (product.sx_cao || product.po_cao) : ''}`\n      : ktpo;\n\n    const newItems = [];\n    \n    // 1. THÊM MẸ\n    const parentItem = {\n      id: Date.now(),\n      thanh_pham_id: product.id,\n      ma_hang: product.ma_hang,\n      ten_san_pham: product.ten_san_pham,\n      ktpo: ktpo,\n      ktsx: ktsx,\n      song: product.song || 'N/A',\n      dvt: product.dvt || 'Cái',\n      kieu: product.kieu || '',\n      don_gia: product.don_gia || 0,\n      so_luong: '',\n      thanh_tien: 0,\n      hoa_hong_co_dinh: product.hoa_hong_co_dinh || 0,\n      hoa_hong_phan_tram: product.hoa_hong_phan_tram || 0,\n      cho_phep_sai_lech: product.cho_phep_sai_lech || false,\n      sai_lech_so_luong: product.sai_lech_so_luong || 0,\n      sai_lech_phan_tram: product.sai_lech_phan_tram || 0,\n      cong_doan: {\n        xa: product.cong_doan?.xa || 0,\n        ma_phim: product.cong_doan?.ma_phim || '',\n        so_mau: product.cong_doan?.so_mau || 0,\n        in: product.cong_doan?.in || 0,\n        boi: product.cong_doan?.boi || 0,\n        can_mang: product.cong_doan?.can_mang || 0,\n        ma_khuon: product.cong_doan?.ma_khuon || '',\n        be: product.cong_doan?.be || 0,\n        chap: product.cong_doan?.chap || 0,\n        dong: product.cong_doan?.dong || 0,\n        dan: product.cong_doan?.dan || 0,\n        khac: product.cong_doan?.khac || 0,\n        khac_ghi_chu: product.cong_doan?.khac_ghi_chu || ''\n      },\n      ghi_chu: product.ghi_chu || '',\n      la_thanh_phan_con: false,\n      thanh_pham_me_id: null\n    };\n    \n    newItems.push(parentItem);\n\n    // 2. THÊM CON (nếu có)\n    if (product.co_thanh_phan_con && product.thanh_phan_con && product.thanh_phan_con.length > 0) {\n      product.thanh_phan_con.forEach((con, index) => {\n        const conKtpo = con.po_cao \n          ? `${con.po_dai}×${con.po_rong}×${con.po_cao}`\n          : `${con.po_dai}×${con.po_rong}`;\n        \n        const conKtsx = (con.sx_dai || con.sx_rong || con.sx_cao)\n          ? `${con.sx_dai || con.po_dai}×${con.sx_rong || con.po_rong}${con.sx_cao || con.po_cao ? '×' + (con.sx_cao || con.po_cao) : ''}`\n          : conKtpo;\n\n        const childItem = {\n          id: Date.now() + index + 1,\n          thanh_pham_id: `${product.id}_${con.ma_hang_con}`,\n          ma_hang: con.ma_hang_con,\n          ten_san_pham: con.ten,\n          ktpo: conKtpo,\n          ktsx: conKtsx,\n          song: con.song || product.song || 'N/A',\n          dvt: con.dvt || product.dvt || 'Cái',\n          kieu: con.kieu || product.kieu || '',\n          don_gia: con.don_gia || 0,\n          so_luong: '', // Sẽ tự động tính từ mẹ\n          thanh_tien: 0,\n          hoa_hong_co_dinh: 0,\n          hoa_hong_phan_tram: 0,\n          cho_phep_sai_lech: false,\n          sai_lech_so_luong: 0,\n          sai_lech_phan_tram: 0,\n          cong_doan: {\n            xa: con.cong_doan?.xa || 0,\n            ma_phim: con.cong_doan?.ma_phim || '',\n            so_mau: con.cong_doan?.so_mau || 0,\n            in: con.cong_doan?.in || 0,\n            boi: con.cong_doan?.boi || 0,\n            can_mang: con.cong_doan?.can_mang || 0,\n            ma_khuon: con.cong_doan?.ma_khuon || '',\n            be: con.cong_doan?.be || 0,\n            chap: con.cong_doan?.chap || 0,\n            dong: con.cong_doan?.dong || 0,\n            dan: con.cong_doan?.dan || 0,\n            khac: con.cong_doan?.khac || 0,\n            khac_ghi_chu: con.cong_doan?.khac_ghi_chu || ''\n          },\n          ghi_chu: con.ghi_chu || '',\n          la_thanh_phan_con: true,\n          thanh_pham_me_id: parentItem.id,\n          so_luong_con_theo_me: con.so_luong || 1 // Tỷ lệ: 1 mẹ = bao nhiêu con\n        };\n        \n        newItems.push(childItem);\n      });\n    }\n\n    setForm({\n      ...form,\n      chi_tiet: [...form.chi_tiet, ...newItems]\n    });\n\n    setShowProductModal(false);\n    setProductSearchTerm('');\n\n    // Auto focus vào SL của mẹ\n    setTimeout(() => {\n      const input = quantityInputRefs.current[parentItem.id];\n      if (input) {\n        input.focus();\n        input.select();\n      }\n    }, 100);\n  };\n\n  const handleUpdateQuantity = (itemId, value) => {\n    const item = form.chi_tiet.find(i => i.id === itemId);\n    \n    if (!item) return;\n\n    // Nếu là mẹ → update cả con\n    if (!item.la_thanh_phan_con) {\n      const meQty = parseFloat(value) || 0;\n      \n      setForm({\n        ...form,\n        chi_tiet: form.chi_tiet.map(i => {\n          // Update mẹ\n          if (i.id === itemId) {\n            return {\n              ...i,\n              so_luong: value,\n              thanh_tien: meQty * parseFloat(i.don_gia)\n            };\n          }\n          \n          // Update con (nếu thuộc về mẹ này)\n          if (i.la_thanh_phan_con && i.thanh_pham_me_id === itemId) {\n            const conQty = meQty * (i.so_luong_con_theo_me || 1);\n            return {\n              ...i,\n              so_luong: conQty.toString(),\n              thanh_tien: conQty * parseFloat(i.don_gia)\n            };\n          }\n          \n          return i;\n        })\n      });\n    }\n    // Con không được edit trực tiếp\n  };\n\n  const handleRemoveItem = (itemId) => {\n    const item = form.chi_tiet.find(i => i.id === itemId);\n    \n    if (!item) return;\n\n    // Nếu xóa mẹ → xóa cả con\n    if (!item.la_thanh_phan_con) {\n      if (window.confirm('Xóa sản phẩm mẹ sẽ xóa cả các thành phần con. Bạn có chắc?')) {\n        setForm({\n          ...form,\n          chi_tiet: form.chi_tiet.filter(i => \n            i.id !== itemId && i.thanh_pham_me_id !== itemId\n          )\n        });\n      }\n    } else {\n      // Không cho xóa con riêng lẻ\n      alert('Không thể xóa thành phần con riêng lẻ. Vui lòng xóa sản phẩm mẹ.');\n    }\n  };\n\n  // ============================================================================\n  // PRODUCT SELECTION - CHỈ MẸ\n  // ============================================================================\n\n  const getParentProductsOnly = () => {\n    return products.map(product => ({\n      ...product,\n      displayName: product.co_thanh_phan_con && product.thanh_phan_con?.length > 0\n        ? `${product.ma_hang} - ${product.ten_san_pham} (có ${product.thanh_phan_con.length} con)`\n        : `${product.ma_hang} - ${product.ten_san_pham}`\n    }));\n  };\n\n  const filteredProducts = getParentProductsOnly().filter(p => {\n    const searchLower = productSearchTerm.toLowerCase();\n    return (\n      p.ma_hang.toLowerCase().includes(searchLower) ||\n      (p.ten_san_pham || '').toLowerCase().includes(searchLower) ||\n      p.displayName.toLowerCase().includes(searchLower)\n    );\n  });\n\n  // ============================================================================\n  // FILTERS - Theo tháng\n  // ============================================================================\n\n  const filteredOrders = orders.filter(o => {\n    // Filter theo tháng\n    const orderYearMonth = o.so_don_hang.slice(3, 9); // DHX202512001 → 202512\n    const selectedYearMonth = selectedMonth.replace('-', ''); // 2025-12 → 202512\n    \n    if (orderYearMonth !== selectedYearMonth) return false;\n\n    // Filter theo search term (old - giữ lại để backup)\n    if (searchTerm) {\n      const searchLower = searchTerm.toLowerCase();\n      const customerName = getCustomerName(o.khach_hang_id, customers);\n      const customerCode = getCustomerCode(o.khach_hang_id, customers);\n      \n      return (\n        o.so_don_hang.toLowerCase().includes(searchLower) ||\n        customerName.toLowerCase().includes(searchLower) ||\n        customerCode.toLowerCase().includes(searchLower)\n      );\n    }\n\n    return true;\n  });\n  \n  // ============================================\n  // DISPLAY ORDERS - Kết hợp Search + Filter + Advanced Filter\n  // ============================================\n  let displayOrders = searchResults.length > 0 \n    ? searchResults.filter(o => {\n        // Vẫn phải lọc theo tháng\n        const orderYearMonth = o.so_don_hang.slice(3, 9);\n        const selectedYearMonth = selectedMonth.replace('-', '');\n        return orderYearMonth === selectedYearMonth;\n      })\n    : filteredOrders;\n  \n  // Áp dụng advanced filters\n  if (advancedFilters.customerIds && advancedFilters.customerIds.length > 0) {\n    displayOrders = displayOrders.filter(o => \n      advancedFilters.customerIds.includes(String(o.khach_hang_id))\n    );\n  }\n  \n  if (advancedFilters.minAmount) {\n    displayOrders = displayOrders.filter(o => \n      o.tong_tien >= parseFloat(advancedFilters.minAmount)\n    );\n  }\n  \n  if (advancedFilters.maxAmount) {\n    displayOrders = displayOrders.filter(o => \n      o.tong_tien <= parseFloat(advancedFilters.maxAmount)\n    );\n  }\n  \n  if (advancedFilters.dateFrom) {\n    displayOrders = displayOrders.filter(o => \n      o.ngay_dat >= advancedFilters.dateFrom\n    );\n  }\n  \n  if (advancedFilters.dateTo) {\n    displayOrders = displayOrders.filter(o => \n      o.ngay_dat <= advancedFilters.dateTo\n    );\n  }\n  \n  if (advancedFilters.deliveryDateFrom) {\n    displayOrders = displayOrders.filter(o => \n      o.ngay_giao_du_kien >= advancedFilters.deliveryDateFrom\n    );\n  }\n  \n  if (advancedFilters.deliveryDateTo) {\n    displayOrders = displayOrders.filter(o => \n      o.ngay_giao_du_kien <= advancedFilters.deliveryDateTo\n    );\n  }\n\n  // ============================================================================\n  // RENDER\n  // ============================================================================\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-800\">Đơn hàng Xuất</h1>\n          <p className=\"text-gray-600\">Quản lý đơn hàng xuất kho</p>\n        </div>\n        <div className=\"flex gap-3\">\n          <button\n            onClick={() => setShowFilterBox(!showFilterBox)}\n            className={`px-4 py-2 rounded-lg border flex items-center gap-2 ${\n              showFilterBox \n                ? 'bg-blue-100 border-blue-600 text-blue-700' \n                : 'bg-white border-gray-300 hover:bg-gray-50'\n            }`}\n          >\n            <Filter className=\"w-4 h-4\" />\n            Bộ lọc\n          </button>\n          \n          <ExcelActions\n            onExport={() => console.log('Export:', filteredOrders)}\n            onImport={(data) => console.log('Import:', data)}\n            data={filteredOrders}\n            moduleName=\"don-hang-xuat\"\n          />\n          \n          <button\n            onClick={() => {\n              resetForm();\n              setShowModal(true);\n            }}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\n          >\n            <Plus className=\"w-5 h-5\" />Tạo đơn hàng\n          </button>\n        </div>\n      </div>\n\n      {/* ============================================\n          FILTERBOX V2 - BỘ LỌC NÂNG CAO MỚI\n          ============================================ */}\n      {showFilterBox && (\n        <FilterBoxV2\n          filters={advancedFilters}\n          onFilterChange={setAdvancedFilters}\n          onReset={() => setAdvancedFilters({\n            customerIds: [],\n            minAmount: '',\n            maxAmount: '',\n            dateFrom: '',\n            dateTo: '',\n            deliveryDateFrom: '',\n            deliveryDateTo: ''\n          })}\n          filterConfig={[\n            {\n              type: 'multiSelect',\n              field: 'customerIds',\n              label: 'Khách hàng',\n              options: customers.map(c => ({\n                value: String(c.id),  // ← Convert to string\n                label: `${c.code || c.ma_khach_hang || ''} - ${c.name || c.ten_khach_hang || ''}`\n              }))\n            },\n            {\n              type: 'numberRange',\n              field: ['minAmount', 'maxAmount'],\n              label: 'Số tiền (đ)'\n            },\n            {\n              type: 'dateRange',\n              field: ['dateFrom', 'dateTo'],\n              label: 'Ngày đặt'\n            },\n            {\n              type: 'dateRange',\n              field: ['deliveryDateFrom', 'deliveryDateTo'],\n              label: 'Ngày giao dự kiến'\n            }\n          ]}\n        />\n      )}\n\n      {/* Filters */}\n      <div className=\"bg-white rounded-xl shadow-sm border p-4 space-y-4\">\n        <div className=\"grid grid-cols-2 gap-4\">\n          {/* Chọn tháng */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <Calendar className=\"w-4 h-4 inline mr-1\" />\n              Lọc theo tháng\n            </label>\n            <select\n              value={selectedMonth}\n              onChange={(e) => setSelectedMonth(e.target.value)}\n              className=\"w-full px-4 py-2 border rounded-lg bg-white\"\n            >\n              {generateMonthOptions().map(opt => (\n                <option key={opt.value} value={opt.value}>\n                  {opt.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* ============================================\n              SEARCHBOX - TÌM KIẾM TẤT CẢ CỘT\n              ============================================ */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <Search className=\"w-4 h-4 inline mr-1\" />\n              Tìm kiếm\n            </label>\n            <SearchBox\n              data={orders}\n              searchFields=\"ALL\"\n              onResult={(filtered) => setSearchResults(filtered)}\n              placeholder=\"Tìm kiếm tất cả (số đơn, khách hàng, mã hàng...)\"\n              showResultCount={true}\n            />\n          </div>\n        </div>\n\n        <div className=\"text-sm text-gray-600\">\n          Hiển thị <span className=\"font-semibold text-blue-600\">{displayOrders.length}</span> đơn hàng\n        </div>\n      </div>\n\n      {/* Orders List */}\n      <div className=\"space-y-4\">\n        {displayOrders.map(order => {\n          // Convert ID to string for matching\n          const customerName = getCustomerName(order.khach_hang_id, customers);\n          const customerCode = getCustomerCode(order.khach_hang_id, customers);\n\n          return (\n            <div key={order.id} className=\"bg-white rounded-xl shadow-sm border overflow-hidden\">\n              <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 px-6 py-4 border-b flex justify-between items-center\">\n                <div className=\"flex items-center gap-4\">\n                  <ShoppingCart className=\"w-6 h-6 text-blue-600\" />\n                  <div>\n                    <h3 className=\"font-bold text-lg text-blue-900\">{order.so_don_hang}</h3>\n                    <div className=\"flex items-center gap-3 text-sm text-gray-600 mt-1\">\n                      <span>📦 KH: <span className=\"font-medium text-gray-900\">{customerCode} - {customerName}</span></span>\n                      <span>•</span>\n                      <span>📅 Đặt: {new Date(order.ngay_dat).toLocaleDateString('vi-VN')}</span>\n                      <span>•</span>\n                      <span>🚚 Giao: {new Date(order.ngay_giao_du_kien).toLocaleDateString('vi-VN')}</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"text-right\">\n                    <p className=\"text-sm text-gray-600\">Tổng tiền</p>\n                    <p className=\"text-2xl font-bold text-green-600\">\n                      {order.tong_tien.toLocaleString('vi-VN')}đ\n                    </p>\n                  </div>\n                  <button\n                    onClick={() => {\n                      setSelectedOrder(order);\n                      setShowDetailModal(true);\n                    }}\n                    className=\"p-2 text-purple-600 hover:bg-purple-50 rounded-lg\"\n                    title=\"Xem chi tiết\"\n                  >\n                    <Eye className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleEdit(order)}\n                    className=\"p-2 text-blue-600 hover:border rounded-lg\"\n                    title=\"Sửa\"\n                  >\n                    <Edit className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(order.id)}\n                    className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg\"\n                    title=\"Xóa\"\n                  >\n                    <Trash2 className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"px-6 py-4\">\n                <div className=\"text-sm text-gray-600 mb-2\">\n                  <span className=\"font-medium\">Sản phẩm:</span> {order.chi_tiet.length} mặt hàng\n                </div>\n                {order.ghi_chu && (\n                  <div className=\"text-sm\">\n                    <span className=\"font-medium text-gray-700\">Ghi chú:</span>\n                    <span className=\"text-gray-600 ml-2\">{order.ghi_chu}</span>\n                  </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n\n        {displayOrders.length === 0 && (\n          <div className=\"bg-white rounded-xl shadow-sm border p-12 text-center text-gray-500\">\n            Không có đơn hàng nào\n          </div>\n        )}\n      </div>\n\n      {/* Add/Edit Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-7xl my-8\">\n            <div className=\"sticky top-0 bg-white border-b px-6 py-4 z-10 rounded-t-xl\">\n              <div className=\"flex justify-between items-center\">\n                <h2 className=\"text-xl font-bold\">\n                  {editingOrder ? 'Sửa đơn hàng' : 'Tạo đơn hàng mới'}\n                </h2>\n                <button\n                  onClick={() => {\n                    setShowModal(false);\n                    resetForm();\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto\">\n              {/* Thông tin đơn hàng */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Số đơn hàng * <span className=\"text-xs text-gray-500\">(Tự động)</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={form.so_don_hang}\n                    readOnly\n                    className=\"w-full px-4 py-2 border rounded-lg bg-gray-50 font-mono font-bold text-blue-600\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Khách hàng *\n                  </label>\n                  <select\n                    value={form.khach_hang_id}\n                    onChange={(e) => {\n                      const customerId = e.target.value;\n                      // Convert to string for consistent comparison\n                      const selectedCustomer = customers.find(c => String(c.id) === String(customerId));\n                      \n                      console.log('=== onChange Debug ===');\n                      console.log('Selected value:', customerId, 'Type:', typeof customerId);\n                      console.log('Found customer:', selectedCustomer);\n                      \n                      if (selectedCustomer) {\n                        const maKH = selectedCustomer.code \n                          || selectedCustomer.ma_khach_hang \n                          || selectedCustomer.maKhachHang \n                          || selectedCustomer.ma \n                          || selectedCustomer.ma_kh\n                          || '';\n                          \n                        const tenKH = selectedCustomer.name \n                          || selectedCustomer.ten_khach_hang \n                          || selectedCustomer.tenKhachHang \n                          || selectedCustomer.ten \n                          || selectedCustomer.ten_kh\n                          || '';\n                        \n                        console.log('Set form - Mã:', maKH, 'Tên:', tenKH);\n                        \n                        setForm({ \n                          ...form, \n                          khach_hang_id: customerId,\n                          khach_hang_ma: maKH,\n                          khach_hang_ten: tenKH\n                        });\n                      } else {\n                        console.error('Customer not found for ID:', customerId);\n                        setForm({ \n                          ...form, \n                          khach_hang_id: customerId,\n                          khach_hang_ma: '',\n                          khach_hang_ten: ''\n                        });\n                      }\n                    }}\n                    className=\"w-full px-4 py-2 border rounded-lg\"\n                  >\n                    <option value=\"\">-- Chọn mã khách hàng --</option>\n                    {customers.map(c => {\n                      const maKH = c.code || c.ma_khach_hang || c.maKhachHang || c.ma || c.ma_kh || c.id;\n                      \n                      return (\n                        <option key={c.id} value={c.id}>\n                          {maKH}\n                        </option>\n                      );\n                    })}\n                  </select>\n                  {form.khach_hang_id && (() => {\n                    // Convert IDs to string for comparison (fix number vs string mismatch)\n                    const selectedCustomer = customers.find(c => String(c.id) === String(form.khach_hang_id));\n                    const customerName = selectedCustomer?.name \n                      || selectedCustomer?.ten_khach_hang \n                      || selectedCustomer?.tenKhachHang \n                      || form.khach_hang_ten\n                      || '';\n                    \n                    console.log('=== Display Name Debug ===');\n                    console.log('Selected ID:', form.khach_hang_id, 'Type:', typeof form.khach_hang_id);\n                    console.log('Found customer:', selectedCustomer);\n                    console.log('Customer name:', customerName);\n                    \n                    return customerName ? (\n                      <p className=\"text-sm text-blue-600 mt-1 font-medium\">\n                        → {customerName}\n                      </p>\n                    ) : (\n                      <p className=\"text-sm text-orange-500 mt-1\">\n                        ⚠ ID: {form.khach_hang_id} - Customer not found in array\n                      </p>\n                    );\n                  })()}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">Ngày đặt</label>\n                  <input\n                    type=\"date\"\n                    value={form.ngay_dat}\n                    onChange={(e) => setForm({ ...form, ngay_dat: e.target.value })}\n                    className=\"w-full px-4 py-2 border rounded-lg\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">Ngày giao dự kiến</label>\n                  <input\n                    type=\"date\"\n                    value={form.ngay_giao_du_kien}\n                    onChange={(e) => setForm({ ...form, ngay_giao_du_kien: e.target.value })}\n                    className=\"w-full px-4 py-2 border rounded-lg\"\n                  />\n                </div>\n              </div>\n\n              {/* Chi tiết sản phẩm */}\n              <div className=\"border rounded-lg p-4 bg-gray-50\">\n                <div className=\"flex justify-between items-center mb-4\">\n                  <h3 className=\"font-bold text-lg\">Chi tiết sản phẩm</h3>\n                  <button\n                    onClick={() => setShowProductModal(true)}\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\n                  >\n                    <Plus className=\"w-4 h-4\" />Thêm sản phẩm\n                  </button>\n                </div>\n\n                {form.chi_tiet.length > 0 ? (\n                  <div className=\"overflow-x-auto border rounded-lg bg-white\">\n                    <table className=\"w-full text-sm\">\n                      <thead className=\"bg-gray-100 sticky top-0\">\n                        <tr>\n                          {/* Thông tin cơ bản */}\n                          <th className=\"px-3 py-2 text-left font-semibold border\">Mã hàng</th>\n                          <th className=\"px-3 py-2 text-left font-semibold border\">Tên SP</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">KTPO</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">KTSX</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Sóng</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">ĐVT</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Kiểu</th>\n                          \n                          {/* Giá (Đơn giá → SL → Thành tiền → +/- → HH) */}\n                          <th className=\"px-3 py-2 text-right font-semibold border\">Đơn giá</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">SL</th>\n                          <th className=\"px-3 py-2 text-right font-semibold border\">Thành tiền</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">+/-</th>\n                          <th className=\"px-3 py-2 text-right font-semibold border\">HH cố định</th>\n                          <th className=\"px-3 py-2 text-right font-semibold border\">HH %</th>\n                          \n                          {/* 13 công đoạn */}\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Xả</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Mã phim</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Số màu</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">In</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Bồi</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Cán màng</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Mã khuôn</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Bế</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Chạp</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Đóng</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Dán</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">Khác</th>\n                          <th className=\"px-3 py-2 text-left font-semibold border\">Ghi chú Khác</th>\n                          \n                          {/* Ghi chú & Action */}\n                          <th className=\"px-3 py-2 text-left font-semibold border\">Ghi chú</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\">QR</th>\n                          <th className=\"px-3 py-2 text-center font-semibold border\"></th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {form.chi_tiet.map((item, index) => (\n                          <tr key={item.id} className={index % 2 === 0 ? 'bg-white' : 'bg-gray-50'}>\n                            {/* ============================================\n                                LINKEDFIELD V2 - FORM CREATE/EDIT\n                                Click Mã hàng → Mở ProductModal\n                                CẢ MÃ MẸ VÀ MÃ CON ĐỀU CLICK ĐƯỢC\n                                ============================================ */}\n                            <td className=\"px-3 py-2 border\">\n                              {item.la_thanh_phan_con ? (\n                                <div className=\"pl-4\">\n                                  <span className=\"text-purple-700 mr-1\">↳</span>\n                                  <LinkedFieldV2\n                                    value={item.ma_hang}\n                                    module=\"products\"\n                                    id={item.thanh_pham_id}\n                                    onOpen={(id) => {\n                                      setSelectedProductId(id);\n                                      setShowProductDetailModal(true);\n                                    }}\n                                    className=\"text-purple-700\"\n                                  />\n                                </div>\n                              ) : (\n                                <LinkedFieldV2\n                                  value={item.ma_hang}\n                                  module=\"products\"\n                                  id={item.thanh_pham_id}\n                                  onOpen={(id) => {\n                                    setSelectedProductId(id);\n                                    setShowProductDetailModal(true);\n                                  }}\n                                />\n                              )}\n                            </td>\n                            <td className=\"px-3 py-2\">{item.ten_san_pham}</td>\n                            <td className=\"px-3 py-2 text-center text-xs\">{item.ktpo}</td>\n                            <td className=\"px-3 py-2 text-center text-xs\">{item.ktsx}</td>\n                            <td className=\"px-3 py-2 text-center\">\n                              <span className=\"px-2 py-1 bg-gray-100 rounded text-xs\">\n                                {item.song}\n                              </span>\n                            </td>\n                            <td className=\"px-3 py-2 text-center text-xs\">{item.dvt}</td>\n                            <td className=\"px-3 py-2 text-center\">\n                              <span className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs\">\n                                {item.kieu || '-'}\n                              </span>\n                            </td>\n                            \n                            {/* Giá */}\n                            <td className=\"px-3 py-2 text-right border\">\n                              {parseFloat(item.don_gia).toLocaleString('vi-VN')}\n                            </td>\n                            <td className=\"px-3 py-2 border\">\n                              <input\n                                ref={el => quantityInputRefs.current[item.id] = el}\n                                type=\"number\"\n                                value={item.so_luong}\n                                onChange={(e) => handleUpdateQuantity(item.id, e.target.value)}\n                                className=\"w-20 px-2 py-1 border rounded text-right\"\n                                min=\"0\"\n                                placeholder=\"0\"\n                                disabled={item.la_thanh_phan_con}\n                              />\n                            </td>\n                            <td className=\"px-3 py-2 text-right font-semibold text-green-600 border\">\n                              {item.thanh_tien.toLocaleString('vi-VN')}\n                            </td>\n                            <td className=\"px-3 py-2 border \">\n                              <input\n                                type=\"text\"\n                                value={item.sai_lech_so_luong || ''}\n                                onChange={(e) => {\n                                  setForm({\n                                    ...form,\n                                    chi_tiet: form.chi_tiet.map(i => \n                                      i.id === item.id \n                                        ? { ...i, sai_lech_so_luong: e.target.value }\n                                        : i\n                                    )\n                                  });\n                                }}\n                                className=\"w-24 px-2 py-1 border rounded text-center\"\n                                placeholder=\"+/-\"\n                              />\n                            </td>\n                            <td className=\"px-3 py-2 text-right text-xs\">\n                              {item.hoa_hong_co_dinh ? item.hoa_hong_co_dinh.toLocaleString('vi-VN') : '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-right text-xs \">\n                              {item.hoa_hong_phan_tram ? `${item.hoa_hong_phan_tram}%` : '-'}\n                            </td>\n                            \n                            {/* 13 công đoạn */}\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.xa || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border\">\n                              {item.cong_doan?.ma_phim ? (\n                                <span className=\"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-medium\">\n                                  {item.cong_doan.ma_phim}\n                                </span>\n                              ) : '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.so_mau || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.in || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.boi || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.can_mang || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border\">\n                              {item.cong_doan?.ma_khuon ? (\n                                <span className=\"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-xs font-medium\">\n                                  {item.cong_doan.ma_khuon}\n                                </span>\n                              ) : '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.be || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.chap || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.dong || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.dan || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center border text-xs\">\n                              {item.cong_doan?.khac || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-left border text-xs \">\n                              {item.cong_doan?.khac_ghi_chu || '-'}\n                            </td>\n                            \n                            {/* Ghi chú & Actions */}\n                            <td className=\"px-3 py-2 text-xs\">\n                              {item.ghi_chu || '-'}\n                            </td>\n                            <td className=\"px-3 py-2 text-center\">\n                              <button\n                                onClick={() => handleShowQR(form.so_don_hang, item.ma_hang)}\n                                className=\"p-1 text-green-600 hover:border rounded\"\n                                title=\"Xem QR Code\"\n                              >\n                                <QrCode className=\"w-4 h-4\" />\n                              </button>\n                            </td>\n                            <td className=\"px-3 py-2 text-center\">\n                              <button\n                                onClick={() => handleRemoveItem(item.id)}\n                                className=\"p-1 text-red-600 hover:bg-red-50 rounded\"\n                                title={item.la_thanh_phan_con ? 'Không thể xóa con riêng lẻ' : 'Xóa'}\n                              >\n                                <X className=\"w-4 h-4\" />\n                              </button>\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                      <tfoot className=\"bg-gray-50 border-t-2\">\n                        <tr>\n                          <td colSpan=\"9\" className=\"px-3 py-3 text-right font-bold\">\n                            Tổng tiền:\n                          </td>\n                          <td className=\"px-3 py-3 text-right font-bold text-green-600 text-lg\">\n                            {form.chi_tiet.reduce((sum, item) => sum + item.thanh_tien, 0).toLocaleString('vi-VN')}đ\n                          </td>\n                          <td colSpan=\"19\"></td>\n                        </tr>\n                      </tfoot>\n                    </table>\n                  </div>\n                ) : (\n                  <div className=\"text-center py-8 text-gray-500 bg-white border rounded-lg\">\n                    Chưa có sản phẩm. Nhấn \"Thêm sản phẩm\" để bắt đầu.\n                  </div>\n                )}\n              </div>\n\n              {/* Ghi chú */}\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">Ghi chú đơn hàng</label>\n                <TextArea\n                  value={form.ghi_chu}\n                  onChange={(value) => setForm({ ...form, ghi_chu: value })}\n                  placeholder=\"Ghi chú về đơn hàng...\"\n                  rows={3}\n                  className=\"w-full px-4 py-2 border rounded-lg\"\n                />\n              </div>\n            </div>\n\n            {/* Footer */}\n            <div className=\"border-t px-6 py-4 flex justify-end gap-3 sticky bottom-0 bg-white\">\n              <button\n                onClick={() => {\n                  setShowModal(false);\n                  resetForm();\n                }}\n                className=\"px-6 py-2 border rounded-lg hover:bg-gray-50\"\n              >\n                Hủy\n              </button>\n              <button\n                onClick={handleSubmit}\n                className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\"\n              >\n                <ShoppingCart className=\"w-5 h-5\" />\n                {editingOrder ? 'Cập nhật' : 'Tạo đơn hàng'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Product Selection Modal - CHỈ MẸ */}\n      {showProductModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden\">\n            <div className=\"border-b px-6 py-4\">\n              <div className=\"flex justify-between items-center\">\n                <h3 className=\"text-xl font-bold\">Chọn sản phẩm (Mẹ + Con tự động)</h3>\n                <button\n                  onClick={() => {\n                    setShowProductModal(false);\n                    setProductSearchTerm('');\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"p-6 space-y-4\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  value={productSearchTerm}\n                  onChange={(e) => setProductSearchTerm(e.target.value)}\n                  placeholder=\"Tìm kiếm mã hàng, tên sản phẩm...\"\n                  className=\"w-full pl-10 pr-4 py-2 border rounded-lg\"\n                  autoFocus\n                />\n              </div>\n\n              <div className=\"overflow-y-auto max-h-96 border rounded-lg\">\n                <table className=\"w-full text-sm\">\n                  <thead className=\"bg-gray-50 sticky top-0\">\n                    <tr>\n                      <th className=\"px-3 py-2 text-left font-semibold\">Mã hàng</th>\n                      <th className=\"px-3 py-2 text-left font-semibold\">Tên sản phẩm</th>\n                      <th className=\"px-3 py-2 text-center font-semibold\">KTSX</th>\n                      <th className=\"px-3 py-2 text-center font-semibold\">Sóng</th>\n                      <th className=\"px-3 py-2 text-right font-semibold\">Đơn giá</th>\n                      <th className=\"px-3 py-2 text-center font-semibold\"></th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y\">\n                    {filteredProducts.map(product => {\n                      const alreadyAdded = form.chi_tiet.some(item => \n                        item.thanh_pham_id === product.id && !item.la_thanh_phan_con\n                      );\n\n                      const ktsx = (product.sx_dai || product.sx_rong || product.sx_cao)\n                        ? `${product.sx_dai || product.po_dai}×${product.sx_rong || product.po_rong}${product.sx_cao || product.po_cao ? '×' + (product.sx_cao || product.po_cao) : ''}`\n                        : (product.po_cao ? `${product.po_dai}×${product.po_rong}×${product.po_cao}` : `${product.po_dai}×${product.po_rong}`);\n\n                      return (\n                        <tr key={product.id} className=\"hover:bg-gray-50\">\n                          <td className=\"px-3 py-2\">\n                            <span className=\"font-medium text-blue-600\">\n                              {product.ma_hang}\n                            </span>\n                          </td>\n                          <td className=\"px-3 py-2\">\n                            <div>\n                              {product.ten_san_pham}\n                              {product.co_thanh_phan_con && product.thanh_phan_con?.length > 0 && (\n                                <span className=\"text-xs text-purple-600 ml-2\">\n                                  ({product.thanh_phan_con.length} con)\n                                </span>\n                              )}\n                            </div>\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs\">{ktsx}</td>\n                          <td className=\"px-3 py-2 text-center\">\n                            <span className=\"px-2 py-1 bg-gray-100 rounded text-xs\">\n                              {product.song || 'N/A'}\n                            </span>\n                          </td>\n                          <td className=\"px-3 py-2 text-right\">\n                            {(product.don_gia || 0).toLocaleString('vi-VN')}đ\n                          </td>\n                          <td className=\"px-3 py-2 text-center\">\n                            <button\n                              onClick={() => handleAddProduct(product)}\n                              disabled={alreadyAdded}\n                              className={`px-3 py-1 rounded text-sm ${\n                                alreadyAdded\n                                  ? 'bg-gray-200 text-gray-500 cursor-not-allowed'\n                                  : 'bg-blue-600 text-white hover:bg-blue-700'\n                              }`}\n                            >\n                              {alreadyAdded ? 'Đã thêm' : 'Chọn'}\n                            </button>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n\n                {filteredProducts.length === 0 && (\n                  <div className=\"text-center py-8 text-gray-500\">\n                    Không tìm thấy sản phẩm\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* QR Code Modal */}\n      {showQRModal && qrData && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl max-w-md w-full\">\n            <div className=\"border-b px-6 py-4 flex justify-between items-center\">\n              <h3 className=\"text-xl font-bold\">QR Code</h3>\n              <button\n                onClick={() => {\n                  setShowQRModal(false);\n                  setQRData(null);\n                }}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            <div className=\"p-6 text-center\">\n              <div className=\"bg-gray-100 p-8 rounded-lg mb-4\">\n                <QrCode className=\"w-48 h-48 mx-auto text-gray-400\" />\n                <p className=\"text-sm text-gray-500 mt-4\">\n                  🔮 QR Code sẽ được tạo ở đây\n                </p>\n              </div>\n\n              <div className=\"space-y-2 text-sm\">\n                <p className=\"font-bold text-lg font-mono text-blue-600\">\n                  {qrData.code}\n                </p>\n                <p className=\"text-gray-600\">\n                  Đơn hàng: <span className=\"font-medium\">{qrData.soDonHang}</span>\n                </p>\n                <p className=\"text-gray-600\">\n                  Mã hàng: <span className=\"font-medium\">{qrData.maHang}</span>\n                </p>\n              </div>\n\n              <div className=\"mt-6 flex gap-3\">\n                <button\n                  onClick={() => alert('Tính năng in QR - Làm sau')}\n                  className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\n                >\n                  In QR\n                </button>\n                <button\n                  onClick={() => {\n                    setShowQRModal(false);\n                    setQRData(null);\n                  }}\n                  className=\"flex-1 border px-4 py-2 rounded-lg hover:bg-gray-50\"\n                >\n                  Đóng\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Detail Modal - Đầy đủ */}\n      {showDetailModal && selectedOrder && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full h-full max-w-[98vw] max-h-[98vh] flex flex-col\">\n            <div className=\"sticky top-0 bg-white border-b px-6 py-4 z-10\">\n              <div className=\"flex justify-between items-center\">\n                <h3 className=\"text-xl font-bold\">Chi tiết đơn hàng: {selectedOrder.so_don_hang}</h3>\n                <button\n                  onClick={() => {\n                    setShowDetailModal(false);\n                    setSelectedOrder(null);\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n            </div>\n            \n            <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\n              {/* Thông tin đơn hàng */}\n              <div className=\"grid grid-cols-2 gap-4 border p-4 rounded-lg\">\n                <div>\n                  <p className=\"text-sm text-gray-600\">Khách hàng</p>\n                  <p className=\"font-bold text-lg\">\n                    {getCustomerCode(selectedOrder.khach_hang_id, customers)} - {getCustomerName(selectedOrder.khach_hang_id, customers)}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Tổng tiền</p>\n                  <p className=\"font-bold text-2xl text-green-600\">\n                    {selectedOrder.tong_tien.toLocaleString('vi-VN')}đ\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Ngày đặt</p>\n                  <p className=\"font-medium\">\n                    {new Date(selectedOrder.ngay_dat).toLocaleDateString('vi-VN')}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Ngày giao dự kiến</p>\n                  <p className=\"font-medium\">\n                    {new Date(selectedOrder.ngay_giao_du_kien).toLocaleDateString('vi-VN')}\n                  </p>\n                </div>\n              </div>\n\n              {/* Bảng sản phẩm - ĐẦY ĐỦ 27 CỘT */}\n              <div>\n                <h4 className=\"font-bold text-lg mb-3\">Danh sách sản phẩm</h4>\n                <div className=\"overflow-x-auto border rounded-lg\">\n                  <table className=\"w-full text-sm\">\n                    <thead className=\"bg-gray-100\">\n                      <tr>\n                        {/* Thông tin cơ bản */}\n                        <th className=\"px-3 py-2 text-left font-semibold border\">Mã hàng</th>\n                        <th className=\"px-3 py-2 text-left font-semibold border\">Tên SP</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">KTPO</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">KTSX</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Sóng</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">ĐVT</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Kiểu</th>\n                        \n                        {/* Giá */}\n                        <th className=\"px-3 py-2 text-right font-semibold border\">Đơn giá</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">SL</th>\n                        <th className=\"px-3 py-2 text-right font-semibold border\">Thành tiền</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">+/-</th>\n                        <th className=\"px-3 py-2 text-right font-semibold border\">HH cố định</th>\n                        <th className=\"px-3 py-2 text-right font-semibold border\">HH %</th>\n                        \n                        {/* 13 công đoạn */}\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Xả</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Mã phim</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Số màu</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">In</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Bồi</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Cán màng</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Mã khuôn</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Bế</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Chạp</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Đóng</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Dán</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">Khác</th>\n                        <th className=\"px-3 py-2 text-left font-semibold border\">Ghi chú Khác</th>\n                        \n                        {/* Ghi chú & QR */}\n                        <th className=\"px-3 py-2 text-left font-semibold border\">Ghi chú</th>\n                        <th className=\"px-3 py-2 text-center font-semibold border\">QR</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {selectedOrder.chi_tiet.map((item, index) => (\n                        <tr key={item.id} className={index % 2 === 0 ? 'bg-white' : 'bg-gray-50'}>\n                          {/* ============================================\n                              LINKEDFIELD V2 - MODAL DETAIL\n                              Click Mã hàng → Mở ProductModal\n                              CẢ MÃ MẸ VÀ MÃ CON ĐỀU CLICK ĐƯỢC\n                              ============================================ */}\n                          <td className=\"px-3 py-2 border\">\n                            {item.la_thanh_phan_con ? (\n                              <div className=\"pl-4\">\n                                <span className=\"text-purple-700 mr-1\">↳</span>\n                                <LinkedFieldV2\n                                  value={item.ma_hang}\n                                  module=\"products\"\n                                  id={item.thanh_pham_id}\n                                  onOpen={(id) => {\n                                    setSelectedProductId(id);\n                                    setShowProductDetailModal(true);\n                                  }}\n                                  className=\"text-purple-700\"\n                                />\n                              </div>\n                            ) : (\n                              <LinkedFieldV2\n                                value={item.ma_hang}\n                                module=\"products\"\n                                id={item.thanh_pham_id}\n                                onOpen={(id) => {\n                                  setSelectedProductId(id);\n                                  setShowProductDetailModal(true);\n                                }}\n                              />\n                            )}\n                          </td>\n                          <td className=\"px-3 py-2 border\">{item.ten_san_pham}</td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">{item.ktpo || '-'}</td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">{item.ktsx}</td>\n                          <td className=\"px-3 py-2 text-center border\">\n                            <span className=\"px-2 py-1 bg-gray-200 rounded text-xs\">\n                              {item.song}\n                            </span>\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">{item.dvt || '-'}</td>\n                          <td className=\"px-3 py-2 text-center border\">\n                            <span className=\"px-2 py-1 bg-gray-200 rounded text-xs\">\n                              {item.kieu || '-'}\n                            </span>\n                          </td>\n                          \n                          {/* Giá */}\n                          <td className=\"px-3 py-2 text-right border\">\n                            {parseFloat(item.don_gia).toLocaleString('vi-VN')}\n                          </td>\n                          <td className=\"px-3 py-2 text-right font-medium border\">\n                            {item.so_luong.toLocaleString('vi-VN')}\n                          </td>\n                          <td className=\"px-3 py-2 text-right font-semibold text-green-600 border\">\n                            {item.thanh_tien.toLocaleString('vi-VN')}\n                          </td>\n                          <td className=\"px-3 py-2 text-center border\">\n                            {item.sai_lech_so_luong || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-right text-xs border\">\n                            {item.hoa_hong_co_dinh ? item.hoa_hong_co_dinh.toLocaleString('vi-VN') : '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-right text-xs border\">\n                            {item.hoa_hong_phan_tram ? `${item.hoa_hong_phan_tram}%` : '-'}\n                          </td>\n                          \n                          {/* 13 công đoạn */}\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.xa || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center border\">\n                            {item.cong_doan?.ma_phim || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.so_mau || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.in || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.boi || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.can_mang || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center border\">\n                            {item.cong_doan?.ma_khuon || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.be || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.chap || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.dong || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.dan || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center text-xs border\">\n                            {item.cong_doan?.khac || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-left text-xs border\">\n                            {item.cong_doan?.khac_ghi_chu || '-'}\n                          </td>\n                          \n                          {/* Ghi chú & QR */}\n                          <td className=\"px-3 py-2 text-xs border\">\n                            {item.ghi_chu || '-'}\n                          </td>\n                          <td className=\"px-3 py-2 text-center border\">\n                            <button\n                              onClick={() => handleShowQR(selectedOrder.so_don_hang, item.ma_hang)}\n                              className=\"p-1 text-green-600 hover:border rounded\"\n                            >\n                              <QrCode className=\"w-4 h-4\" />\n                            </button>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                    <tfoot className=\"bg-gray-50 border-t-2\">\n                      <tr>\n                        <td colSpan=\"9\" className=\"px-3 py-3 text-right font-bold\">\n                          Tổng cộng:\n                        </td>\n                        <td className=\"px-3 py-3 text-right font-bold text-green-600 text-lg\">\n                          {selectedOrder.tong_tien.toLocaleString('vi-VN')}đ\n                        </td>\n                        <td colSpan=\"18\"></td>\n                      </tr>\n                    </tfoot>\n                  </table>\n                </div>\n              </div>\n\n              {/* Ghi chú */}\n              {selectedOrder.ghi_chu && (\n                <div className=\"bg-gray-50 p-4 rounded-lg\">\n                  <p className=\"font-semibold text-gray-700 mb-2\">Ghi chú:</p>\n                  <p className=\"text-gray-600\">{selectedOrder.ghi_chu}</p>\n                </div>\n              )}\n            </div>\n\n            <div className=\"border-t px-6 py-4 flex justify-end gap-3 sticky bottom-0 bg-white\">\n              <button\n                onClick={() => {\n                  setShowDetailModal(false);\n                  handleEdit(selectedOrder);\n                }}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\"\n              >\n                <Edit className=\"w-4 h-4\" />\n                Sửa\n              </button>\n              <button\n                onClick={() => {\n                  setShowDetailModal(false);\n                  setSelectedOrder(null);\n                }}\n                className=\"px-4 py-2 border rounded-lg hover:bg-gray-50\"\n              >\n                Đóng\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* ============================================\n          PRODUCT MODAL - Xem/Sửa Thành phẩm\n          ============================================ */}\n      {showProductDetailModal && (\n        <ProductModal\n          productId={selectedProductId}\n          mode=\"view\"\n          onSave={(updatedProduct) => {\n            // Refresh products\n            refreshData();\n            \n            // Refresh current order nếu đang edit\n            if (editingOrder) {\n              const orders = loadOrders();\n              const current = orders.find(o => o.id === editingOrder.id);\n              if (current) {\n                setForm(JSON.parse(JSON.stringify(current)));\n              }\n            }\n            \n            alert('✅ Đã cập nhật Thành phẩm!');\n          }}\n          onClose={() => {\n            setShowProductDetailModal(false);\n            setSelectedProductId(null);\n          }}\n        />\n      )}\n\n      {/* ============================================\n          CUSTOMER MODAL - Xem/Sửa Khách hàng\n          ============================================ */}\n      {showCustomerDetailModal && (\n        <CustomerModal\n          customerId={selectedCustomerId}\n          mode=\"view\"\n          onSave={(updatedCustomer) => {\n            // Refresh customers\n            refreshData();\n            alert('✅ Đã cập nhật Khách hàng!');\n          }}\n          onClose={() => {\n            setShowCustomerDetailModal(false);\n            setSelectedCustomerId(null);\n          }}\n        />\n      )}\n\n    </div>\n  );\n}\n\nexport default SalesOrder;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}